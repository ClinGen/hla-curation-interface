var r0=()=>{return};var QQ=function(Z){let Q=[],X=0;for(let J=0;J<Z.length;J++){let G=Z.charCodeAt(J);if(G<128)Q[X++]=G;else if(G<2048)Q[X++]=G>>6|192,Q[X++]=G&63|128;else if((G&64512)===55296&&J+1<Z.length&&(Z.charCodeAt(J+1)&64512)===56320)G=65536+((G&1023)<<10)+(Z.charCodeAt(++J)&1023),Q[X++]=G>>18|240,Q[X++]=G>>12&63|128,Q[X++]=G>>6&63|128,Q[X++]=G&63|128;else Q[X++]=G>>12|224,Q[X++]=G>>6&63|128,Q[X++]=G&63|128}return Q},t6=function(Z){let Q=[],X=0,J=0;while(X<Z.length){let G=Z[X++];if(G<128)Q[J++]=String.fromCharCode(G);else if(G>191&&G<224){let K=Z[X++];Q[J++]=String.fromCharCode((G&31)<<6|K&63)}else if(G>239&&G<365){let K=Z[X++],Y=Z[X++],W=Z[X++],$=((G&7)<<18|(K&63)<<12|(Y&63)<<6|W&63)-65536;Q[J++]=String.fromCharCode(55296+($>>10)),Q[J++]=String.fromCharCode(56320+($&1023))}else{let K=Z[X++],Y=Z[X++];Q[J++]=String.fromCharCode((G&15)<<12|(K&63)<<6|Y&63)}}return Q.join("")},XQ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob==="function",encodeByteArray(Z,Q){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();let X=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,J=[];for(let G=0;G<Z.length;G+=3){let K=Z[G],Y=G+1<Z.length,W=Y?Z[G+1]:0,$=G+2<Z.length,U=$?Z[G+2]:0,V=K>>2,B=(K&3)<<4|W>>4,z=(W&15)<<2|U>>6,q=U&63;if(!$){if(q=64,!Y)z=64}J.push(X[V],X[B],X[z],X[q])}return J.join("")},encodeString(Z,Q){if(this.HAS_NATIVE_SUPPORT&&!Q)return btoa(Z);return this.encodeByteArray(QQ(Z),Q)},decodeString(Z,Q){if(this.HAS_NATIVE_SUPPORT&&!Q)return atob(Z);return t6(this.decodeStringToByteArray(Z,Q))},decodeStringToByteArray(Z,Q){this.init_();let X=Q?this.charToByteMapWebSafe_:this.charToByteMap_,J=[];for(let G=0;G<Z.length;){let K=X[Z.charAt(G++)],W=G<Z.length?X[Z.charAt(G)]:0;++G;let U=G<Z.length?X[Z.charAt(G)]:64;++G;let B=G<Z.length?X[Z.charAt(G)]:64;if(++G,K==null||W==null||U==null||B==null)throw new JQ;let z=K<<2|W>>4;if(J.push(z),U!==64){let q=W<<4&240|U>>2;if(J.push(q),B!==64){let P=U<<6&192|B;J.push(P)}}}return J},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)if(this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length)this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z}}};class JQ extends Error{constructor(){super(...arguments);this.name="DecodeBase64StringError"}}var r6=function(Z){let Q=QQ(Z);return XQ.encodeByteArray(Q,!0)},X0=function(Z){return r6(Z).replace(/\./g,"")},TZ=function(Z){try{return XQ.decodeString(Z,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function e6(){if(typeof self!=="undefined")return self;if(typeof window!=="undefined")return window;if(typeof global!=="undefined")return global;throw new Error("Unable to locate global object.")}var ZX=()=>e6().__FIREBASE_DEFAULTS__,QX=()=>{if(typeof process==="undefined"||typeof process.env==="undefined")return;let Z=process.env.__FIREBASE_DEFAULTS__;if(Z)return JSON.parse(Z)},XX=()=>{if(typeof document==="undefined")return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(X){return}let Q=Z&&TZ(Z[1]);return Q&&JSON.parse(Q)},J0=()=>{try{return r0()||ZX()||QX()||XX()}catch(Z){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`);return}},GQ=(Z)=>{var Q,X;return(X=(Q=J0())===null||Q===void 0?void 0:Q.emulatorHosts)===null||X===void 0?void 0:X[Z]};var G0=()=>{var Z;return(Z=J0())===null||Z===void 0?void 0:Z.config},K0=(Z)=>{var Q;return(Q=J0())===null||Q===void 0?void 0:Q[`_${Z}`]};class Y0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,Q)=>{this.resolve=Z,this.reject=Q})}wrapCallback(Z){return(Q,X)=>{if(Q)this.reject(Q);else this.resolve(X);if(typeof Z==="function")if(this.promise.catch(()=>{}),Z.length===1)Z(Q);else Z(Q,X)}}}function EZ(Z){return Z.endsWith(".cloudworkstations.dev")}async function KQ(Z){return(await fetch(Z,{credentials:"include"})).ok}var wZ={};function JX(){let Z={prod:[],emulator:[]};for(let Q of Object.keys(wZ))if(wZ[Q])Z.emulator.push(Q);else Z.prod.push(Q);return Z}function GX(Z){let Q=document.getElementById(Z),X=!1;if(!Q)Q=document.createElement("div"),Q.setAttribute("id",Z),X=!0;return{created:X,element:Q}}var e0=!1;function YQ(Z,Q){if(typeof window==="undefined"||typeof document==="undefined"||!EZ(window.location.host)||wZ[Z]===Q||wZ[Z]||e0)return;wZ[Z]=Q;function X(z){return`__firebase__banner__${z}`}let J="__firebase__banner",K=JX().prod.length>0;function Y(){let z=document.getElementById(J);if(z)z.remove()}function W(z){z.style.display="flex",z.style.background="#7faaf0",z.style.position="fixed",z.style.bottom="5px",z.style.left="5px",z.style.padding=".5em",z.style.borderRadius="5px",z.style.alignItems="center"}function $(z,q){z.setAttribute("width","24"),z.setAttribute("id",q),z.setAttribute("height","24"),z.setAttribute("viewBox","0 0 24 24"),z.setAttribute("fill","none"),z.style.marginLeft="-6px"}function U(){let z=document.createElement("span");return z.style.cursor="pointer",z.style.marginLeft="16px",z.style.fontSize="24px",z.innerHTML=" &times;",z.onclick=()=>{e0=!0,Y()},z}function V(z,q){z.setAttribute("id",q),z.innerText="Learn more",z.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",z.setAttribute("target","__blank"),z.style.paddingLeft="5px",z.style.textDecoration="underline"}function B(){let z=GX(J),q=X("text"),P=document.getElementById(q)||document.createElement("span"),e=X("learnmore"),qZ=document.getElementById(e)||document.createElement("a"),DZ=X("preprendIcon"),g=document.getElementById(DZ)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(z.created){let ZZ=z.element;W(ZZ),V(qZ,e);let CZ=U();$(g,DZ),ZZ.append(g,P,qZ,CZ),document.body.appendChild(ZZ)}if(K)P.innerText="Preview backend disconnected.",g.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`;else g.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace.";P.setAttribute("id",q)}if(document.readyState==="loading")window.addEventListener("DOMContentLoaded",B);else B()}function w(){if(typeof navigator!=="undefined"&&typeof navigator.userAgent==="string")return navigator.userAgent;else return""}function WQ(){return typeof window!=="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(w())}function $Q(){return typeof navigator!=="undefined"&&navigator.userAgent==="Cloudflare-Workers"}function UQ(){let Z=typeof chrome==="object"?chrome.runtime:typeof browser==="object"?browser.runtime:void 0;return typeof Z==="object"&&Z.id!==void 0}function HQ(){return typeof navigator==="object"&&navigator.product==="ReactNative"}function zQ(){let Z=w();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function VQ(){try{return typeof indexedDB==="object"}catch(Z){return!1}}function BQ(){return new Promise((Z,Q)=>{try{let X=!0,J="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(J);G.onsuccess=()=>{if(G.result.close(),!X)self.indexedDB.deleteDatabase(J);Z(!0)},G.onupgradeneeded=()=>{X=!1},G.onerror=()=>{var K;Q(((K=G.error)===null||K===void 0?void 0:K.message)||"")}}catch(X){Q(X)}})}var KX="FirebaseError";class N extends Error{constructor(Z,Q,X){super(Q);if(this.code=Z,this.customData=X,this.name=KX,Object.setPrototypeOf(this,N.prototype),Error.captureStackTrace)Error.captureStackTrace(this,b.prototype.create)}}class b{constructor(Z,Q,X){this.service=Z,this.serviceName=Q,this.errors=X}create(Z,...Q){let X=Q[0]||{},J=`${this.service}/${Z}`,G=this.errors[Z],K=G?YX(G,X):"Error",Y=`${this.serviceName}: ${K} (${J}).`;return new N(J,Y,X)}}function YX(Z,Q){return Z.replace(WX,(X,J)=>{let G=Q[J];return G!=null?String(G):`<${J}?>`})}var WX=/\{\$([^}]+)}/g;function FQ(Z){for(let Q in Z)if(Object.prototype.hasOwnProperty.call(Z,Q))return!1;return!0}function m(Z,Q){if(Z===Q)return!0;let X=Object.keys(Z),J=Object.keys(Q);for(let G of X){if(!J.includes(G))return!1;let K=Z[G],Y=Q[G];if(ZQ(K)&&ZQ(Y)){if(!m(K,Y))return!1}else if(K!==Y)return!1}for(let G of J)if(!X.includes(G))return!1;return!0}function ZQ(Z){return Z!==null&&typeof Z==="object"}function QZ(Z){let Q=[];for(let[X,J]of Object.entries(Z))if(Array.isArray(J))J.forEach((G)=>{Q.push(encodeURIComponent(X)+"="+encodeURIComponent(G))});else Q.push(encodeURIComponent(X)+"="+encodeURIComponent(J));return Q.length?"&"+Q.join("&"):""}function XZ(Z){let Q={};return Z.replace(/^\?/,"").split("&").forEach((J)=>{if(J){let[G,K]=J.split("=");Q[decodeURIComponent(G)]=decodeURIComponent(K)}}),Q}function JZ(Z){let Q=Z.indexOf("?");if(!Q)return"";let X=Z.indexOf("#",Q);return Z.substring(Q,X>0?X:void 0)}function qQ(Z,Q){let X=new DQ(Z,Q);return X.subscribe.bind(X)}class DQ{constructor(Z,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{Z(this)}).catch((X)=>{this.error(X)})}next(Z){this.forEachObserver((Q)=>{Q.next(Z)})}error(Z){this.forEachObserver((Q)=>{Q.error(Z)}),this.close(Z)}complete(){this.forEachObserver((Z)=>{Z.complete()}),this.close()}subscribe(Z,Q,X){let J;if(Z===void 0&&Q===void 0&&X===void 0)throw new Error("Missing Observer.");if($X(Z,["next","error","complete"]))J=Z;else J={next:Z,error:Q,complete:X};if(J.next===void 0)J.next=Q0;if(J.error===void 0)J.error=Q0;if(J.complete===void 0)J.complete=Q0;let G=this.unsubscribeOne.bind(this,this.observers.length);if(this.finalized)this.task.then(()=>{try{if(this.finalError)J.error(this.finalError);else J.complete()}catch(K){}return});return this.observers.push(J),G}unsubscribeOne(Z){if(this.observers===void 0||this.observers[Z]===void 0)return;if(delete this.observers[Z],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0)this.onNoObservers(this)}forEachObserver(Z){if(this.finalized)return;for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,Z)}sendOne(Z,Q){this.task.then(()=>{if(this.observers!==void 0&&this.observers[Z]!==void 0)try{Q(this.observers[Z])}catch(X){if(typeof console!=="undefined"&&console.error)console.error(X)}})}close(Z){if(this.finalized)return;if(this.finalized=!0,Z!==void 0)this.finalError=Z;this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0})}}function $X(Z,Q){if(typeof Z!=="object"||Z===null)return!1;for(let X of Q)if(X in Z&&typeof Z[X]==="function")return!0;return!1}function Q0(){}function v(Z){if(Z&&Z._delegate)return Z._delegate;else return Z}class E{constructor(Z,Q,X){this.name=Z,this.instanceFactory=Q,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}var u="[DEFAULT]";class wQ{constructor(Z,Q){this.name=Z,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){let Q=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(Q)){let X=new Y0;if(this.instancesDeferred.set(Q,X),this.isInitialized(Q)||this.shouldAutoInitialize())try{let J=this.getOrInitializeService({instanceIdentifier:Q});if(J)X.resolve(J)}catch(J){}}return this.instancesDeferred.get(Q).promise}getImmediate(Z){var Q;let X=this.normalizeInstanceIdentifier(Z===null||Z===void 0?void 0:Z.identifier),J=(Q=Z===null||Z===void 0?void 0:Z.optional)!==null&&Q!==void 0?Q:!1;if(this.isInitialized(X)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:X})}catch(G){if(J)return null;else throw G}else if(J)return null;else throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,!this.shouldAutoInitialize())return;if(HX(Z))try{this.getOrInitializeService({instanceIdentifier:u})}catch(Q){}for(let[Q,X]of this.instancesDeferred.entries()){let J=this.normalizeInstanceIdentifier(Q);try{let G=this.getOrInitializeService({instanceIdentifier:J});X.resolve(G)}catch(G){}}}clearInstance(Z=u){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}async delete(){let Z=Array.from(this.instances.values());await Promise.all([...Z.filter((Q)=>("INTERNAL"in Q)).map((Q)=>Q.INTERNAL.delete()),...Z.filter((Q)=>("_delete"in Q)).map((Q)=>Q._delete())])}isComponentSet(){return this.component!=null}isInitialized(Z=u){return this.instances.has(Z)}getOptions(Z=u){return this.instancesOptions.get(Z)||{}}initialize(Z={}){let{options:Q={}}=Z,X=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let J=this.getOrInitializeService({instanceIdentifier:X,options:Q});for(let[G,K]of this.instancesDeferred.entries()){let Y=this.normalizeInstanceIdentifier(G);if(X===Y)K.resolve(J)}return J}onInit(Z,Q){var X;let J=this.normalizeInstanceIdentifier(Q),G=(X=this.onInitCallbacks.get(J))!==null&&X!==void 0?X:new Set;G.add(Z),this.onInitCallbacks.set(J,G);let K=this.instances.get(J);if(K)Z(K,J);return()=>{G.delete(Z)}}invokeOnInitCallbacks(Z,Q){let X=this.onInitCallbacks.get(Q);if(!X)return;for(let J of X)try{J(Z,Q)}catch(G){}}getOrInitializeService({instanceIdentifier:Z,options:Q={}}){let X=this.instances.get(Z);if(!X&&this.component){if(X=this.component.instanceFactory(this.container,{instanceIdentifier:UX(Z),options:Q}),this.instances.set(Z,X),this.instancesOptions.set(Z,Q),this.invokeOnInitCallbacks(X,Z),this.component.onInstanceCreated)try{this.component.onInstanceCreated(this.container,Z,X)}catch(J){}}return X||null}normalizeInstanceIdentifier(Z=u){if(this.component)return this.component.multipleInstances?Z:u;else return Z}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UX(Z){return Z===u?void 0:Z}function HX(Z){return Z.instantiationMode==="EAGER"}class W0{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){let Q=this.getProvider(Z.name);if(Q.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);Q.setComponent(Z)}addOrOverwriteComponent(Z){if(this.getProvider(Z.name).isComponentSet())this.providers.delete(Z.name);this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);let Q=new wQ(Z,this);return this.providers.set(Z,Q),Q}getProviders(){return Array.from(this.providers.values())}}var zX=[],F;(function(Z){Z[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT"})(F||(F={}));var VX={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},BX=F.INFO,FX={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},qX=(Z,Q,...X)=>{if(Q<Z.logLevel)return;let J=new Date().toISOString(),G=FX[Q];if(G)console[G](`[${J}]  ${Z.name}:`,...X);else throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`)};class MZ{constructor(Z){this.name=Z,this._logLevel=BX,this._logHandler=qX,this._userLogHandler=null,zX.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in F))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel=typeof Z==="string"?VX[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if(typeof Z!=="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...Z),this._logHandler(this,F.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...Z),this._logHandler(this,F.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,F.INFO,...Z),this._logHandler(this,F.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,F.WARN,...Z),this._logHandler(this,F.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...Z),this._logHandler(this,F.ERROR,...Z)}}var DX=(Z,Q)=>Q.some((X)=>Z instanceof X),MQ,OQ;function wX(){return MQ||(MQ=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MX(){return OQ||(OQ=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var PQ=new WeakMap,U0=new WeakMap,NQ=new WeakMap,$0=new WeakMap,z0=new WeakMap;function OX(Z){let Q=new Promise((X,J)=>{let G=()=>{Z.removeEventListener("success",K),Z.removeEventListener("error",Y)},K=()=>{X(A(Z.result)),G()},Y=()=>{J(Z.error),G()};Z.addEventListener("success",K),Z.addEventListener("error",Y)});return Q.then((X)=>{if(X instanceof IDBCursor)PQ.set(X,Z)}).catch(()=>{}),z0.set(Q,Z),Q}function PX(Z){if(U0.has(Z))return;let Q=new Promise((X,J)=>{let G=()=>{Z.removeEventListener("complete",K),Z.removeEventListener("error",Y),Z.removeEventListener("abort",Y)},K=()=>{X(),G()},Y=()=>{J(Z.error||new DOMException("AbortError","AbortError")),G()};Z.addEventListener("complete",K),Z.addEventListener("error",Y),Z.addEventListener("abort",Y)});U0.set(Z,Q)}var H0={get(Z,Q,X){if(Z instanceof IDBTransaction){if(Q==="done")return U0.get(Z);if(Q==="objectStoreNames")return Z.objectStoreNames||NQ.get(Z);if(Q==="store")return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return A(Z[Q])},set(Z,Q,X){return Z[Q]=X,!0},has(Z,Q){if(Z instanceof IDBTransaction&&(Q==="done"||Q==="store"))return!0;return Q in Z}};function jQ(Z){H0=Z(H0)}function NX(Z){if(Z===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype))return function(Q,...X){let J=Z.call(xZ(this),Q,...X);return NQ.set(J,Q.sort?Q.sort():[Q]),A(J)};if(MX().includes(Z))return function(...Q){return Z.apply(xZ(this),Q),A(PQ.get(this))};return function(...Q){return A(Z.apply(xZ(this),Q))}}function jX(Z){if(typeof Z==="function")return NX(Z);if(Z instanceof IDBTransaction)PX(Z);if(DX(Z,wX()))return new Proxy(Z,H0);return Z}function A(Z){if(Z instanceof IDBRequest)return OX(Z);if($0.has(Z))return $0.get(Z);let Q=jX(Z);if(Q!==Z)$0.set(Z,Q),z0.set(Q,Z);return Q}var xZ=(Z)=>z0.get(Z);function RQ(Z,Q,{blocked:X,upgrade:J,blocking:G,terminated:K}={}){let Y=indexedDB.open(Z,Q),W=A(Y);if(J)Y.addEventListener("upgradeneeded",($)=>{J(A(Y.result),$.oldVersion,$.newVersion,A(Y.transaction),$)});if(X)Y.addEventListener("blocked",($)=>X($.oldVersion,$.newVersion,$));return W.then(($)=>{if(K)$.addEventListener("close",()=>K());if(G)$.addEventListener("versionchange",(U)=>G(U.oldVersion,U.newVersion,U))}).catch(()=>{}),W}var SX=["get","getKey","getAll","getAllKeys","count"],RX=["put","add","delete","clear"],V0=new Map;function SQ(Z,Q){if(!(Z instanceof IDBDatabase&&!(Q in Z)&&typeof Q==="string"))return;if(V0.get(Q))return V0.get(Q);let X=Q.replace(/FromIndex$/,""),J=Q!==X,G=RX.includes(X);if(!(X in(J?IDBIndex:IDBObjectStore).prototype)||!(G||SX.includes(X)))return;let K=async function(Y,...W){let $=this.transaction(Y,G?"readwrite":"readonly"),U=$.store;if(J)U=U.index(W.shift());return(await Promise.all([U[X](...W),G&&$.done]))[0]};return V0.set(Q,K),K}jQ((Z)=>({...Z,get:(Q,X,J)=>SQ(Q,X)||Z.get(Q,X,J),has:(Q,X)=>!!SQ(Q,X)||Z.has(Q,X)}));class xQ{constructor(Z){this.container=Z}getPlatformInfoString(){return this.container.getProviders().map((Q)=>{if(AX(Q)){let X=Q.getImmediate();return`${X.library}/${X.version}`}else return null}).filter((Q)=>Q).join(" ")}}function AX(Z){let Q=Z.getComponent();return(Q===null||Q===void 0?void 0:Q.type)==="VERSION"}var F0="@firebase/app",AQ="0.13.0",x=new MZ("@firebase/app"),LX="@firebase/app-compat",CX="@firebase/analytics-compat",TX="@firebase/analytics",EX="@firebase/app-check-compat",xX="@firebase/app-check",IX="@firebase/auth",yX="@firebase/auth-compat",kX="@firebase/database",_X="@firebase/data-connect",fX="@firebase/database-compat",hX="@firebase/functions",gX="@firebase/functions-compat",bX="@firebase/installations",mX="@firebase/installations-compat",vX="@firebase/messaging",dX="@firebase/messaging-compat",cX="@firebase/performance",lX="@firebase/performance-compat",uX="@firebase/remote-config",pX="@firebase/remote-config-compat",iX="@firebase/storage",sX="@firebase/storage-compat",oX="@firebase/firestore",nX="@firebase/ai",aX="@firebase/firestore-compat",tX="firebase",rX="11.8.0",q0="[DEFAULT]",eX={[F0]:"fire-core",[LX]:"fire-core-compat",[TX]:"fire-analytics",[CX]:"fire-analytics-compat",[xX]:"fire-app-check",[EX]:"fire-app-check-compat",[IX]:"fire-auth",[yX]:"fire-auth-compat",[kX]:"fire-rtdb",[_X]:"fire-data-connect",[fX]:"fire-rtdb-compat",[hX]:"fire-fn",[gX]:"fire-fn-compat",[bX]:"fire-iid",[mX]:"fire-iid-compat",[vX]:"fire-fcm",[dX]:"fire-fcm-compat",[cX]:"fire-perf",[lX]:"fire-perf-compat",[uX]:"fire-rc",[pX]:"fire-rc-compat",[iX]:"fire-gcs",[sX]:"fire-gcs-compat",[oX]:"fire-fst",[aX]:"fire-fst-compat",[nX]:"fire-vertex","fire-js":"fire-js",[tX]:"fire-js-all"},IZ=new Map,Z8=new Map,D0=new Map;function LQ(Z,Q){try{Z.container.addComponent(Q)}catch(X){x.debug(`Component ${Q.name} failed to register with FirebaseApp ${Z.name}`,X)}}function GZ(Z){let Q=Z.name;if(D0.has(Q))return x.debug(`There were multiple attempts to register component ${Q}.`),!1;D0.set(Q,Z);for(let X of IZ.values())LQ(X,Z);for(let X of Z8.values())LQ(X,Z);return!0}function w0(Z,Q){let X=Z.container.getProvider("heartbeat").getImmediate({optional:!0});if(X)X.triggerHeartbeat();return Z.container.getProvider(Q)}function j(Z){if(Z===null||Z===void 0)return!1;return Z.settings!==void 0}var Q8={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}'",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["server-app-deleted"]:"Firebase Server App has been deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",["finalization-registry-not-supported"]:"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",["invalid-server-app-environment"]:"FirebaseServerApp is not for use in browser environments."},d=new b("app","Firebase",Q8);class IQ{constructor(Z,Q,X){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},Q),this._name=Q.name,this._automaticDataCollectionEnabled=Q.automaticDataCollectionEnabled,this._container=X,this.container.addComponent(new E("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this.checkDestroyed(),this._automaticDataCollectionEnabled=Z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Z){this._isDeleted=Z}checkDestroyed(){if(this.isDeleted)throw d.create("app-deleted",{appName:this._name})}}var KZ=rX;function M0(Z,Q={}){let X=Z;if(typeof Q!=="object")Q={name:Q};let J=Object.assign({name:q0,automaticDataCollectionEnabled:!0},Q),G=J.name;if(typeof G!=="string"||!G)throw d.create("bad-app-name",{appName:String(G)});if(X||(X=G0()),!X)throw d.create("no-options");let K=IZ.get(G);if(K)if(m(X,K.options)&&m(J,K.config))return K;else throw d.create("duplicate-app",{appName:G});let Y=new W0(G);for(let $ of D0.values())Y.addComponent($);let W=new IQ(X,J,Y);return IZ.set(G,W),W}function yQ(Z=q0){let Q=IZ.get(Z);if(!Q&&Z===q0&&G0())return M0();if(!Q)throw d.create("no-app",{appName:Z});return Q}function c(Z,Q,X){var J;let G=(J=eX[Z])!==null&&J!==void 0?J:Z;if(X)G+=`-${X}`;let K=G.match(/\s|\//),Y=Q.match(/\s|\//);if(K||Y){let W=[`Unable to register library "${G}" with version "${Q}":`];if(K)W.push(`library name "${G}" contains illegal characters (whitespace or "/")`);if(K&&Y)W.push("and");if(Y)W.push(`version name "${Q}" contains illegal characters (whitespace or "/")`);x.warn(W.join(" "));return}GZ(new E(`${G}-version`,()=>({library:G,version:Q}),"VERSION"))}var X8="firebase-heartbeat-database",J8=1,OZ="firebase-heartbeat-store",B0=null;function kQ(){if(!B0)B0=RQ(X8,J8,{upgrade:(Z,Q)=>{switch(Q){case 0:try{Z.createObjectStore(OZ)}catch(X){console.warn(X)}}}}).catch((Z)=>{throw d.create("idb-open",{originalErrorMessage:Z.message})});return B0}async function G8(Z){try{let X=(await kQ()).transaction(OZ),J=await X.objectStore(OZ).get(_Q(Z));return await X.done,J}catch(Q){if(Q instanceof N)x.warn(Q.message);else{let X=d.create("idb-get",{originalErrorMessage:Q===null||Q===void 0?void 0:Q.message});x.warn(X.message)}}}async function CQ(Z,Q){try{let J=(await kQ()).transaction(OZ,"readwrite");await J.objectStore(OZ).put(Q,_Q(Z)),await J.done}catch(X){if(X instanceof N)x.warn(X.message);else{let J=d.create("idb-set",{originalErrorMessage:X===null||X===void 0?void 0:X.message});x.warn(J.message)}}}function _Q(Z){return`${Z.name}!${Z.options.appId}`}var K8=1024,Y8=30;class fQ{constructor(Z){this.container=Z,this._heartbeatsCache=null;let Q=this.container.getProvider("app").getImmediate();this._storage=new hQ(Q),this._heartbeatsCachePromise=this._storage.read().then((X)=>{return this._heartbeatsCache=X,X})}async triggerHeartbeat(){var Z,Q;try{let J=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),G=TQ();if(((Z=this._heartbeatsCache)===null||Z===void 0?void 0:Z.heartbeats)==null){if(this._heartbeatsCache=await this._heartbeatsCachePromise,((Q=this._heartbeatsCache)===null||Q===void 0?void 0:Q.heartbeats)==null)return}if(this._heartbeatsCache.lastSentHeartbeatDate===G||this._heartbeatsCache.heartbeats.some((K)=>K.date===G))return;else if(this._heartbeatsCache.heartbeats.push({date:G,agent:J}),this._heartbeatsCache.heartbeats.length>Y8){let K=$8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(K,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(X){x.warn(X)}}async getHeartbeatsHeader(){var Z;try{if(this._heartbeatsCache===null)await this._heartbeatsCachePromise;if(((Z=this._heartbeatsCache)===null||Z===void 0?void 0:Z.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let Q=TQ(),{heartbeatsToSend:X,unsentEntries:J}=W8(this._heartbeatsCache.heartbeats),G=X0(JSON.stringify({version:2,heartbeats:X}));if(this._heartbeatsCache.lastSentHeartbeatDate=Q,J.length>0)this._heartbeatsCache.heartbeats=J,await this._storage.overwrite(this._heartbeatsCache);else this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);return G}catch(Q){return x.warn(Q),""}}}function TQ(){return new Date().toISOString().substring(0,10)}function W8(Z,Q=K8){let X=[],J=Z.slice();for(let G of Z){let K=X.find((Y)=>Y.agent===G.agent);if(!K){if(X.push({agent:G.agent,dates:[G.date]}),EQ(X)>Q){X.pop();break}}else if(K.dates.push(G.date),EQ(X)>Q){K.dates.pop();break}J=J.slice(1)}return{heartbeatsToSend:X,unsentEntries:J}}class hQ{constructor(Z){this.app=Z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){if(!VQ())return!1;else return BQ().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};else{let Q=await G8(this.app);if(Q===null||Q===void 0?void 0:Q.heartbeats)return Q;else return{heartbeats:[]}}}async overwrite(Z){var Q;if(!await this._canUseIndexedDBPromise)return;else{let J=await this.read();return CQ(this.app,{lastSentHeartbeatDate:(Q=Z.lastSentHeartbeatDate)!==null&&Q!==void 0?Q:J.lastSentHeartbeatDate,heartbeats:Z.heartbeats})}}async add(Z){var Q;if(!await this._canUseIndexedDBPromise)return;else{let J=await this.read();return CQ(this.app,{lastSentHeartbeatDate:(Q=Z.lastSentHeartbeatDate)!==null&&Q!==void 0?Q:J.lastSentHeartbeatDate,heartbeats:[...J.heartbeats,...Z.heartbeats]})}}}function EQ(Z){return X0(JSON.stringify({version:2,heartbeats:Z})).length}function $8(Z){if(Z.length===0)return-1;let Q=0,X=Z[0].date;for(let J=1;J<Z.length;J++)if(Z[J].date<X)X=Z[J].date,Q=J;return Q}function U8(Z){GZ(new E("platform-logger",(Q)=>new xQ(Q),"PRIVATE")),GZ(new E("heartbeat",(Q)=>new fQ(Q),"PRIVATE")),c(F0,AQ,Z),c(F0,AQ,"esm2017"),c("fire-js","")}U8("");var H8="firebase",z8="11.8.1";c(H8,z8,"app");function yZ(Z,Q){var X={};for(var J in Z)if(Object.prototype.hasOwnProperty.call(Z,J)&&Q.indexOf(J)<0)X[J]=Z[J];if(Z!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var G=0,J=Object.getOwnPropertySymbols(Z);G<J.length;G++)if(Q.indexOf(J[G])<0&&Object.prototype.propertyIsEnumerable.call(Z,J[G]))X[J[G]]=Z[J[G]]}return X}function Q6(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var X6=Q6,J6=new b("auth","Firebase",Q6());var mZ=new MZ("@firebase/auth");function V8(Z,...Q){if(mZ.logLevel<=F.WARN)mZ.warn(`Auth (${KZ}): ${Z}`,...Q)}function _Z(Z,...Q){if(mZ.logLevel<=F.ERROR)mZ.error(`Auth (${KZ}): ${Z}`,...Q)}function O(Z,...Q){throw x0(Z,...Q)}function R(Z,...Q){return x0(Z,...Q)}function E0(Z,Q,X){let J=Object.assign(Object.assign({},X6()),{[Q]:X});return new b("auth","Firebase",J).create(Q,{appName:Z.name})}function i(Z){return E0(Z,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function B8(Z,Q,X){let J=X;if(!(Q instanceof J)){if(J.name!==Q.constructor.name)O(Z,"argument-error");throw E0(Z,"argument-error",`Type of ${Q.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}}function x0(Z,...Q){if(typeof Z!=="string"){let X=Q[0],J=[...Q.slice(1)];if(J[0])J[0].appName=Z.name;return Z._errorFactory.create(X,...J)}return J6.create(Z,...Q)}function H(Z,Q,...X){if(!Z)throw x0(Q,...X)}function L(Z){let Q="INTERNAL ASSERTION FAILED: "+Z;throw _Z(Q),new Error(Q)}function h(Z,Q){if(!Z)L(Q)}function R0(){var Z;return typeof self!=="undefined"&&((Z=self.location)===null||Z===void 0?void 0:Z.href)||""}function F8(){return gQ()==="http:"||gQ()==="https:"}function gQ(){var Z;return typeof self!=="undefined"&&((Z=self.location)===null||Z===void 0?void 0:Z.protocol)||null}function q8(){if(typeof navigator!=="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine==="boolean"&&(F8()||UQ()||("connection"in navigator)))return navigator.onLine;return!0}function D8(){if(typeof navigator==="undefined")return null;let Z=navigator;return Z.languages&&Z.languages[0]||Z.language||null}class zZ{constructor(Z,Q){this.shortDelay=Z,this.longDelay=Q,h(Q>Z,"Short delay should be less than long delay!"),this.isMobile=WQ()||HQ()}get(){if(!q8())return Math.min(5000,this.shortDelay);return this.isMobile?this.longDelay:this.shortDelay}}function I0(Z,Q){h(Z.emulator,"Emulator should always be set here");let{url:X}=Z.emulator;if(!Q)return X;return`${X}${Q.startsWith("/")?Q.slice(1):Q}`}class y0{static initialize(Z,Q,X){if(this.fetchImpl=Z,Q)this.headersImpl=Q;if(X)this.responseImpl=X}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!=="undefined"&&"fetch"in self)return self.fetch;if(typeof globalThis!=="undefined"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch!=="undefined")return fetch;L("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!=="undefined"&&"Headers"in self)return self.Headers;if(typeof globalThis!=="undefined"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers!=="undefined")return Headers;L("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!=="undefined"&&"Response"in self)return self.Response;if(typeof globalThis!=="undefined"&&globalThis.Response)return globalThis.Response;if(typeof Response!=="undefined")return Response;L("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}var w8={["CREDENTIAL_MISMATCH"]:"custom-token-mismatch",["MISSING_CUSTOM_TOKEN"]:"internal-error",["INVALID_IDENTIFIER"]:"invalid-email",["MISSING_CONTINUE_URI"]:"internal-error",["INVALID_PASSWORD"]:"wrong-password",["MISSING_PASSWORD"]:"missing-password",["INVALID_LOGIN_CREDENTIALS"]:"invalid-credential",["EMAIL_EXISTS"]:"email-already-in-use",["PASSWORD_LOGIN_DISABLED"]:"operation-not-allowed",["INVALID_IDP_RESPONSE"]:"invalid-credential",["INVALID_PENDING_TOKEN"]:"invalid-credential",["FEDERATED_USER_ID_ALREADY_LINKED"]:"credential-already-in-use",["MISSING_REQ_TYPE"]:"internal-error",["EMAIL_NOT_FOUND"]:"user-not-found",["RESET_PASSWORD_EXCEED_LIMIT"]:"too-many-requests",["EXPIRED_OOB_CODE"]:"expired-action-code",["INVALID_OOB_CODE"]:"invalid-action-code",["MISSING_OOB_CODE"]:"internal-error",["CREDENTIAL_TOO_OLD_LOGIN_AGAIN"]:"requires-recent-login",["INVALID_ID_TOKEN"]:"invalid-user-token",["TOKEN_EXPIRED"]:"user-token-expired",["USER_NOT_FOUND"]:"user-token-expired",["TOO_MANY_ATTEMPTS_TRY_LATER"]:"too-many-requests",["PASSWORD_DOES_NOT_MEET_REQUIREMENTS"]:"password-does-not-meet-requirements",["INVALID_CODE"]:"invalid-verification-code",["INVALID_SESSION_INFO"]:"invalid-verification-id",["INVALID_TEMPORARY_PROOF"]:"invalid-credential",["MISSING_SESSION_INFO"]:"missing-verification-id",["SESSION_EXPIRED"]:"code-expired",["MISSING_ANDROID_PACKAGE_NAME"]:"missing-android-pkg-name",["UNAUTHORIZED_DOMAIN"]:"unauthorized-continue-uri",["INVALID_OAUTH_CLIENT_ID"]:"invalid-oauth-client-id",["ADMIN_ONLY_OPERATION"]:"admin-restricted-operation",["INVALID_MFA_PENDING_CREDENTIAL"]:"invalid-multi-factor-session",["MFA_ENROLLMENT_NOT_FOUND"]:"multi-factor-info-not-found",["MISSING_MFA_ENROLLMENT_ID"]:"missing-multi-factor-info",["MISSING_MFA_PENDING_CREDENTIAL"]:"missing-multi-factor-session",["SECOND_FACTOR_EXISTS"]:"second-factor-already-in-use",["SECOND_FACTOR_LIMIT_EXCEEDED"]:"maximum-second-factor-count-exceeded",["BLOCKING_FUNCTION_ERROR_RESPONSE"]:"internal-error",["RECAPTCHA_NOT_ENABLED"]:"recaptcha-not-enabled",["MISSING_RECAPTCHA_TOKEN"]:"missing-recaptcha-token",["INVALID_RECAPTCHA_TOKEN"]:"invalid-recaptcha-token",["INVALID_RECAPTCHA_ACTION"]:"invalid-recaptcha-action",["MISSING_CLIENT_TYPE"]:"missing-client-type",["MISSING_RECAPTCHA_VERSION"]:"missing-recaptcha-version",["INVALID_RECAPTCHA_VERSION"]:"invalid-recaptcha-version",["INVALID_REQ_TYPE"]:"invalid-req-type"},M8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],O8=new zZ(30000,60000);function D(Z,Q){if(Z.tenantId&&!Q.tenantId)return Object.assign(Object.assign({},Q),{tenantId:Z.tenantId});return Q}async function M(Z,Q,X,J,G={}){return G6(Z,G,async()=>{let K={},Y={};if(J)if(Q==="GET")Y=J;else K={body:JSON.stringify(J)};let W=QZ(Object.assign({key:Z.config.apiKey},Y)).slice(1),$=await Z._getAdditionalHeaders();if($["Content-Type"]="application/json",Z.languageCode)$["X-Firebase-Locale"]=Z.languageCode;let U=Object.assign({method:Q,headers:$},K);if(!$Q())U.referrerPolicy="no-referrer";if(Z.emulatorConfig&&EZ(Z.emulatorConfig.host))U.credentials="include";return y0.fetch()(await K6(Z,Z.config.apiHost,X,W),U)})}async function G6(Z,Q,X){Z._canInitEmulator=!1;let J=Object.assign(Object.assign({},w8),Q);try{let G=new Y6(Z),K=await Promise.race([X(),G.promise]);G.clearNetworkTimeout();let Y=await K.json();if("needConfirmation"in Y)throw NZ(Z,"account-exists-with-different-credential",Y);if(K.ok&&!("errorMessage"in Y))return Y;else{let W=K.ok?Y.errorMessage:Y.error.message,[$,U]=W.split(" : ");if($==="FEDERATED_USER_ID_ALREADY_LINKED")throw NZ(Z,"credential-already-in-use",Y);else if($==="EMAIL_EXISTS")throw NZ(Z,"email-already-in-use",Y);else if($==="USER_DISABLED")throw NZ(Z,"user-disabled",Y);let V=J[$]||$.toLowerCase().replace(/[_\s]+/g,"-");if(U)throw E0(Z,V,U);else O(Z,V)}}catch(G){if(G instanceof N)throw G;O(Z,"network-request-failed",{message:String(G)})}}async function a(Z,Q,X,J,G={}){let K=await M(Z,Q,X,J,G);if("mfaPendingCredential"in K)O(Z,"multi-factor-auth-required",{_serverResponse:K});return K}async function K6(Z,Q,X,J){let G=`${Q}${X}?${J}`,K=Z,Y=K.config.emulator?I0(Z.config,G):`${Z.config.apiScheme}://${G}`;if(M8.includes(X)){if(await K._persistenceManagerAvailable,K._getPersistenceType()==="COOKIE")return K._getPersistence()._getFinalTarget(Y).toString()}return Y}function P8(Z){switch(Z){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Y6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(Z){this.auth=Z,this.timer=null,this.promise=new Promise((Q,X)=>{this.timer=setTimeout(()=>{return X(R(this.auth,"network-request-failed"))},O8.get())})}}function NZ(Z,Q,X){let J={appName:Z.name};if(X.email)J.email=X.email;if(X.phoneNumber)J.phoneNumber=X.phoneNumber;let G=R(Z,Q,J);return G.customData._tokenResponse=X,G}function bQ(Z){return Z!==void 0&&Z.enterprise!==void 0}class k0{constructor(Z){if(this.siteKey="",this.recaptchaEnforcementState=[],Z.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=Z.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=Z.recaptchaEnforcementState}getProviderEnforcementState(Z){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let Q of this.recaptchaEnforcementState)if(Q.provider&&Q.provider===Z)return P8(Q.enforcementState);return null}isProviderEnabled(Z){return this.getProviderEnforcementState(Z)==="ENFORCE"||this.getProviderEnforcementState(Z)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function W6(Z,Q){return M(Z,"GET","/v2/recaptchaConfig",D(Z,Q))}async function N8(Z,Q){return M(Z,"POST","/v1/accounts:delete",Q)}async function vZ(Z,Q){return M(Z,"POST","/v1/accounts:lookup",Q)}function jZ(Z){if(!Z)return;try{let Q=new Date(Number(Z));if(!isNaN(Q.getTime()))return Q.toUTCString()}catch(Q){}return}async function $6(Z,Q=!1){let X=v(Z),J=await X.getIdToken(Q),G=_0(J);H(G&&G.exp&&G.auth_time&&G.iat,X.auth,"internal-error");let K=typeof G.firebase==="object"?G.firebase:void 0,Y=K===null||K===void 0?void 0:K.sign_in_provider;return{claims:G,token:J,authTime:jZ(O0(G.auth_time)),issuedAtTime:jZ(O0(G.iat)),expirationTime:jZ(O0(G.exp)),signInProvider:Y||null,signInSecondFactor:(K===null||K===void 0?void 0:K.sign_in_second_factor)||null}}function O0(Z){return Number(Z)*1000}function _0(Z){let[Q,X,J]=Z.split(".");if(Q===void 0||X===void 0||J===void 0)return _Z("JWT malformed, contained fewer than 3 sections"),null;try{let G=TZ(X);if(!G)return _Z("Failed to decode base64 JWT payload"),null;return JSON.parse(G)}catch(G){return _Z("Caught error parsing JWT payload as JSON",G===null||G===void 0?void 0:G.toString()),null}}function mQ(Z){let Q=_0(Z);return H(Q,"internal-error"),H(typeof Q.exp!=="undefined","internal-error"),H(typeof Q.iat!=="undefined","internal-error"),Number(Q.exp)-Number(Q.iat)}async function AZ(Z,Q,X=!1){if(X)return Q;try{return await Q}catch(J){if(J instanceof N&&j8(J)){if(Z.auth.currentUser===Z)await Z.auth.signOut()}throw J}}function j8({code:Z}){return Z==="auth/user-disabled"||Z==="auth/user-token-expired"}class U6{constructor(Z){this.user=Z,this.isRunning=!1,this.timerId=null,this.errorBackoff=30000}_start(){if(this.isRunning)return;this.isRunning=!0,this.schedule()}_stop(){if(!this.isRunning)return;if(this.isRunning=!1,this.timerId!==null)clearTimeout(this.timerId)}getInterval(Z){var Q;if(Z){let X=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,960000),X}else{this.errorBackoff=30000;let J=((Q=this.user.stsTokenManager.expirationTime)!==null&&Q!==void 0?Q:0)-Date.now()-300000;return Math.max(0,J)}}schedule(Z=!1){if(!this.isRunning)return;let Q=this.getInterval(Z);this.timerId=setTimeout(async()=>{await this.iteration()},Q)}async iteration(){try{await this.user.getIdToken(!0)}catch(Z){if((Z===null||Z===void 0?void 0:Z.code)==="auth/network-request-failed")this.schedule(!0);return}this.schedule()}}class dZ{constructor(Z,Q){this.createdAt=Z,this.lastLoginAt=Q,this._initializeTime()}_initializeTime(){this.lastSignInTime=jZ(this.lastLoginAt),this.creationTime=jZ(this.createdAt)}_copy(Z){this.createdAt=Z.createdAt,this.lastLoginAt=Z.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function cZ(Z){var Q;let X=Z.auth,J=await Z.getIdToken(),G=await AZ(Z,vZ(X,{idToken:J}));H(G===null||G===void 0?void 0:G.users.length,X,"internal-error");let K=G.users[0];Z._notifyReloadListener(K);let Y=((Q=K.providerUserInfo)===null||Q===void 0?void 0:Q.length)?z6(K.providerUserInfo):[],W=S8(Z.providerData,Y),$=Z.isAnonymous,U=!(Z.email&&K.passwordHash)&&!(W===null||W===void 0?void 0:W.length),V=!$?!1:U,B={uid:K.localId,displayName:K.displayName||null,photoURL:K.photoUrl||null,email:K.email||null,emailVerified:K.emailVerified||!1,phoneNumber:K.phoneNumber||null,tenantId:K.tenantId||null,providerData:W,metadata:new dZ(K.createdAt,K.lastLoginAt),isAnonymous:V};Object.assign(Z,B)}async function H6(Z){let Q=v(Z);await cZ(Q),await Q.auth._persistUserIfCurrent(Q),Q.auth._notifyListenersIfCurrent(Q)}function S8(Z,Q){return[...Z.filter((J)=>!Q.some((G)=>G.providerId===J.providerId)),...Q]}function z6(Z){return Z.map((Q)=>{var{providerId:X}=Q,J=yZ(Q,["providerId"]);return{providerId:X,uid:J.rawId||"",displayName:J.displayName||null,email:J.email||null,phoneNumber:J.phoneNumber||null,photoURL:J.photoUrl||null}})}async function R8(Z,Q){let X=await G6(Z,{},async()=>{let J=QZ({grant_type:"refresh_token",refresh_token:Q}).slice(1),{tokenApiHost:G,apiKey:K}=Z.config,Y=await K6(Z,G,"/v1/token",`key=${K}`),W=await Z._getAdditionalHeaders();return W["Content-Type"]="application/x-www-form-urlencoded",y0.fetch()(Y,{method:"POST",headers:W,body:J})});return{accessToken:X.access_token,expiresIn:X.expires_in,refreshToken:X.refresh_token}}async function A8(Z,Q){return M(Z,"POST","/v2/accounts:revokeToken",D(Z,Q))}class YZ{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-30000}updateFromServerResponse(Z){H(Z.idToken,"internal-error"),H(typeof Z.idToken!=="undefined","internal-error"),H(typeof Z.refreshToken!=="undefined","internal-error");let Q="expiresIn"in Z&&typeof Z.expiresIn!=="undefined"?Number(Z.expiresIn):mQ(Z.idToken);this.updateTokensAndExpiration(Z.idToken,Z.refreshToken,Q)}updateFromIdToken(Z){H(Z.length!==0,"internal-error");let Q=mQ(Z);this.updateTokensAndExpiration(Z,null,Q)}async getToken(Z,Q=!1){if(!Q&&this.accessToken&&!this.isExpired)return this.accessToken;if(H(this.refreshToken,Z,"user-token-expired"),this.refreshToken)return await this.refresh(Z,this.refreshToken),this.accessToken;return null}clearRefreshToken(){this.refreshToken=null}async refresh(Z,Q){let{accessToken:X,refreshToken:J,expiresIn:G}=await R8(Z,Q);this.updateTokensAndExpiration(X,J,Number(G))}updateTokensAndExpiration(Z,Q,X){this.refreshToken=Q||null,this.accessToken=Z||null,this.expirationTime=Date.now()+X*1000}static fromJSON(Z,Q){let{refreshToken:X,accessToken:J,expirationTime:G}=Q,K=new YZ;if(X)H(typeof X==="string","internal-error",{appName:Z}),K.refreshToken=X;if(J)H(typeof J==="string","internal-error",{appName:Z}),K.accessToken=J;if(G)H(typeof G==="number","internal-error",{appName:Z}),K.expirationTime=G;return K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(Z){this.accessToken=Z.accessToken,this.refreshToken=Z.refreshToken,this.expirationTime=Z.expirationTime}_clone(){return Object.assign(new YZ,this.toJSON())}_performRefresh(){return L("not implemented")}}function l(Z,Q){H(typeof Z==="string"||typeof Z==="undefined","internal-error",{appName:Q})}class S{constructor(Z){var{uid:Q,auth:X,stsTokenManager:J}=Z,G=yZ(Z,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new U6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=Q,this.auth=X,this.stsTokenManager=J,this.accessToken=J.accessToken,this.displayName=G.displayName||null,this.email=G.email||null,this.emailVerified=G.emailVerified||!1,this.phoneNumber=G.phoneNumber||null,this.photoURL=G.photoURL||null,this.isAnonymous=G.isAnonymous||!1,this.tenantId=G.tenantId||null,this.providerData=G.providerData?[...G.providerData]:[],this.metadata=new dZ(G.createdAt||void 0,G.lastLoginAt||void 0)}async getIdToken(Z){let Q=await AZ(this,this.stsTokenManager.getToken(this.auth,Z));if(H(Q,this.auth,"internal-error"),this.accessToken!==Q)this.accessToken=Q,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this);return Q}getIdTokenResult(Z){return $6(this,Z)}reload(){return H6(this)}_assign(Z){if(this===Z)return;H(this.uid===Z.uid,this.auth,"internal-error"),this.displayName=Z.displayName,this.photoURL=Z.photoURL,this.email=Z.email,this.emailVerified=Z.emailVerified,this.phoneNumber=Z.phoneNumber,this.isAnonymous=Z.isAnonymous,this.tenantId=Z.tenantId,this.providerData=Z.providerData.map((Q)=>Object.assign({},Q)),this.metadata._copy(Z.metadata),this.stsTokenManager._assign(Z.stsTokenManager)}_clone(Z){let Q=new S(Object.assign(Object.assign({},this),{auth:Z,stsTokenManager:this.stsTokenManager._clone()}));return Q.metadata._copy(this.metadata),Q}_onReload(Z){if(H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=Z,this.reloadUserInfo)this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null}_notifyReloadListener(Z){if(this.reloadListener)this.reloadListener(Z);else this.reloadUserInfo=Z}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(Z,Q=!1){let X=!1;if(Z.idToken&&Z.idToken!==this.stsTokenManager.accessToken)this.stsTokenManager.updateFromServerResponse(Z),X=!0;if(Q)await cZ(this);if(await this.auth._persistUserIfCurrent(this),X)this.auth._notifyListenersIfCurrent(this)}async delete(){if(j(this.auth.app))return Promise.reject(i(this.auth));let Z=await this.getIdToken();return await AZ(this,N8(this.auth,{idToken:Z})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((Z)=>Object.assign({},Z)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(Z,Q){var X,J,G,K,Y,W,$,U;let V=(X=Q.displayName)!==null&&X!==void 0?X:void 0,B=(J=Q.email)!==null&&J!==void 0?J:void 0,z=(G=Q.phoneNumber)!==null&&G!==void 0?G:void 0,q=(K=Q.photoURL)!==null&&K!==void 0?K:void 0,P=(Y=Q.tenantId)!==null&&Y!==void 0?Y:void 0,e=(W=Q._redirectEventId)!==null&&W!==void 0?W:void 0,qZ=($=Q.createdAt)!==null&&$!==void 0?$:void 0,DZ=(U=Q.lastLoginAt)!==null&&U!==void 0?U:void 0,{uid:g,emailVerified:ZZ,isAnonymous:CZ,providerData:eZ,stsTokenManager:t0}=Q;H(g&&t0,Z,"internal-error");let n6=YZ.fromJSON(this.name,t0);H(typeof g==="string",Z,"internal-error"),l(V,Z.name),l(B,Z.name),H(typeof ZZ==="boolean",Z,"internal-error"),H(typeof CZ==="boolean",Z,"internal-error"),l(z,Z.name),l(q,Z.name),l(P,Z.name),l(e,Z.name),l(qZ,Z.name),l(DZ,Z.name);let Z0=new S({uid:g,auth:Z,email:B,emailVerified:ZZ,displayName:V,isAnonymous:CZ,photoURL:q,phoneNumber:z,tenantId:P,stsTokenManager:n6,createdAt:qZ,lastLoginAt:DZ});if(eZ&&Array.isArray(eZ))Z0.providerData=eZ.map((a6)=>Object.assign({},a6));if(e)Z0._redirectEventId=e;return Z0}static async _fromIdTokenResponse(Z,Q,X=!1){let J=new YZ;J.updateFromServerResponse(Q);let G=new S({uid:Q.localId,auth:Z,stsTokenManager:J,isAnonymous:X});return await cZ(G),G}static async _fromGetAccountInfoResponse(Z,Q,X){let J=Q.users[0];H(J.localId!==void 0,"internal-error");let G=J.providerUserInfo!==void 0?z6(J.providerUserInfo):[],K=!(J.email&&J.passwordHash)&&!(G===null||G===void 0?void 0:G.length),Y=new YZ;Y.updateFromIdToken(X);let W=new S({uid:J.localId,auth:Z,stsTokenManager:Y,isAnonymous:K}),$={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:G,metadata:new dZ(J.createdAt,J.lastLoginAt),isAnonymous:!(J.email&&J.passwordHash)&&!(G===null||G===void 0?void 0:G.length)};return Object.assign(W,$),W}}var vQ=new Map;function f(Z){h(Z instanceof Function,"Expected a class definition");let Q=vQ.get(Z);if(Q)return h(Q instanceof Z,"Instance stored in cache mismatched with class"),Q;return Q=new Z,vQ.set(Z,Q),Q}class f0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(Z,Q){this.storage[Z]=Q}async _get(Z){let Q=this.storage[Z];return Q===void 0?null:Q}async _remove(Z){delete this.storage[Z]}_addListener(Z,Q){return}_removeListener(Z,Q){return}}f0.type="NONE";var A0=f0;function fZ(Z,Q,X){return`firebase:${Z}:${Q}:${X}`}class WZ{constructor(Z,Q,X){this.persistence=Z,this.auth=Q,this.userKey=X;let{config:J,name:G}=this.auth;this.fullUserKey=fZ(this.userKey,J.apiKey,G),this.fullPersistenceKey=fZ("persistence",J.apiKey,G),this.boundEventHandler=Q._onStorageEvent.bind(Q),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(Z){return this.persistence._set(this.fullUserKey,Z.toJSON())}async getCurrentUser(){let Z=await this.persistence._get(this.fullUserKey);if(!Z)return null;if(typeof Z==="string"){let Q=await vZ(this.auth,{idToken:Z}).catch(()=>{return});if(!Q)return null;return S._fromGetAccountInfoResponse(this.auth,Q,Z)}return S._fromJSON(this.auth,Z)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(Z){if(this.persistence===Z)return;let Q=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=Z,Q)return this.setCurrentUser(Q)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(Z,Q,X="authUser"){if(!Q.length)return new WZ(f(A0),Z,X);let J=(await Promise.all(Q.map(async($)=>{if(await $._isAvailable())return $;return}))).filter(($)=>$),G=J[0]||f(A0),K=fZ(X,Z.config.apiKey,Z.name),Y=null;for(let $ of Q)try{let U=await $._get(K);if(U){let V;if(typeof U==="string"){let B=await vZ(Z,{idToken:U}).catch(()=>{return});if(!B)break;V=await S._fromGetAccountInfoResponse(Z,B,U)}else V=S._fromJSON(Z,U);if($!==G)Y=V;G=$;break}}catch(U){}let W=J.filter(($)=>$._shouldAllowMigration);if(!G._shouldAllowMigration||!W.length)return new WZ(G,Z,X);if(G=W[0],Y)await G._set(K,Y.toJSON());return await Promise.all(Q.map(async($)=>{if($!==G)try{await $._remove(K)}catch(U){}})),new WZ(G,Z,X)}}function dQ(Z){let Q=Z.toLowerCase();if(Q.includes("opera/")||Q.includes("opr/")||Q.includes("opios/"))return"Opera";else if(q6(Q))return"IEMobile";else if(Q.includes("msie")||Q.includes("trident/"))return"IE";else if(Q.includes("edge/"))return"Edge";else if(V6(Q))return"Firefox";else if(Q.includes("silk/"))return"Silk";else if(w6(Q))return"Blackberry";else if(M6(Q))return"Webos";else if(B6(Q))return"Safari";else if((Q.includes("chrome/")||F6(Q))&&!Q.includes("edge/"))return"Chrome";else if(D6(Q))return"Android";else{let X=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,J=Z.match(X);if((J===null||J===void 0?void 0:J.length)===2)return J[1]}return"Other"}function V6(Z=w()){return/firefox\//i.test(Z)}function B6(Z=w()){let Q=Z.toLowerCase();return Q.includes("safari/")&&!Q.includes("chrome/")&&!Q.includes("crios/")&&!Q.includes("android")}function F6(Z=w()){return/crios\//i.test(Z)}function q6(Z=w()){return/iemobile/i.test(Z)}function D6(Z=w()){return/android/i.test(Z)}function w6(Z=w()){return/blackberry/i.test(Z)}function M6(Z=w()){return/webos/i.test(Z)}function h0(Z=w()){return/iphone|ipad|ipod/i.test(Z)||/macintosh/i.test(Z)&&/mobile/i.test(Z)}function L8(Z=w()){var Q;return h0(Z)&&!!((Q=window.navigator)===null||Q===void 0?void 0:Q.standalone)}function C8(){return zQ()&&document.documentMode===10}function O6(Z=w()){return h0(Z)||D6(Z)||M6(Z)||w6(Z)||/windows phone/i.test(Z)||q6(Z)}function P6(Z,Q=[]){let X;switch(Z){case"Browser":X=dQ(w());break;case"Worker":X=`${dQ(w())}-${Z}`;break;default:X=Z}let J=Q.length?Q.join(","):"FirebaseCore-web";return`${X}/JsCore/${KZ}/${J}`}class N6{constructor(Z){this.auth=Z,this.queue=[]}pushCallback(Z,Q){let X=(G)=>new Promise((K,Y)=>{try{let W=Z(G);K(W)}catch(W){Y(W)}});X.onAbort=Q,this.queue.push(X);let J=this.queue.length-1;return()=>{this.queue[J]=()=>Promise.resolve()}}async runMiddleware(Z){if(this.auth.currentUser===Z)return;let Q=[];try{for(let X of this.queue)if(await X(Z),X.onAbort)Q.push(X.onAbort)}catch(X){Q.reverse();for(let J of Q)try{J()}catch(G){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:X===null||X===void 0?void 0:X.message})}}}async function T8(Z,Q={}){return M(Z,"GET","/v2/passwordPolicy",D(Z,Q))}var E8=6;class j6{constructor(Z){var Q,X,J,G;let K=Z.customStrengthOptions;if(this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(Q=K.minPasswordLength)!==null&&Q!==void 0?Q:E8,K.maxPasswordLength)this.customStrengthOptions.maxPasswordLength=K.maxPasswordLength;if(K.containsLowercaseCharacter!==void 0)this.customStrengthOptions.containsLowercaseLetter=K.containsLowercaseCharacter;if(K.containsUppercaseCharacter!==void 0)this.customStrengthOptions.containsUppercaseLetter=K.containsUppercaseCharacter;if(K.containsNumericCharacter!==void 0)this.customStrengthOptions.containsNumericCharacter=K.containsNumericCharacter;if(K.containsNonAlphanumericCharacter!==void 0)this.customStrengthOptions.containsNonAlphanumericCharacter=K.containsNonAlphanumericCharacter;if(this.enforcementState=Z.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED")this.enforcementState="OFF";this.allowedNonAlphanumericCharacters=(J=(X=Z.allowedNonAlphanumericCharacters)===null||X===void 0?void 0:X.join(""))!==null&&J!==void 0?J:"",this.forceUpgradeOnSignin=(G=Z.forceUpgradeOnSignin)!==null&&G!==void 0?G:!1,this.schemaVersion=Z.schemaVersion}validatePassword(Z){var Q,X,J,G,K,Y;let W={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(Z,W),this.validatePasswordCharacterOptions(Z,W),W.isValid&&(W.isValid=(Q=W.meetsMinPasswordLength)!==null&&Q!==void 0?Q:!0),W.isValid&&(W.isValid=(X=W.meetsMaxPasswordLength)!==null&&X!==void 0?X:!0),W.isValid&&(W.isValid=(J=W.containsLowercaseLetter)!==null&&J!==void 0?J:!0),W.isValid&&(W.isValid=(G=W.containsUppercaseLetter)!==null&&G!==void 0?G:!0),W.isValid&&(W.isValid=(K=W.containsNumericCharacter)!==null&&K!==void 0?K:!0),W.isValid&&(W.isValid=(Y=W.containsNonAlphanumericCharacter)!==null&&Y!==void 0?Y:!0),W}validatePasswordLengthOptions(Z,Q){let X=this.customStrengthOptions.minPasswordLength,J=this.customStrengthOptions.maxPasswordLength;if(X)Q.meetsMinPasswordLength=Z.length>=X;if(J)Q.meetsMaxPasswordLength=Z.length<=J}validatePasswordCharacterOptions(Z,Q){this.updatePasswordCharacterOptionsStatuses(Q,!1,!1,!1,!1);let X;for(let J=0;J<Z.length;J++)X=Z.charAt(J),this.updatePasswordCharacterOptionsStatuses(Q,X>="a"&&X<="z",X>="A"&&X<="Z",X>="0"&&X<="9",this.allowedNonAlphanumericCharacters.includes(X))}updatePasswordCharacterOptionsStatuses(Z,Q,X,J,G){if(this.customStrengthOptions.containsLowercaseLetter)Z.containsLowercaseLetter||(Z.containsLowercaseLetter=Q);if(this.customStrengthOptions.containsUppercaseLetter)Z.containsUppercaseLetter||(Z.containsUppercaseLetter=X);if(this.customStrengthOptions.containsNumericCharacter)Z.containsNumericCharacter||(Z.containsNumericCharacter=J);if(this.customStrengthOptions.containsNonAlphanumericCharacter)Z.containsNonAlphanumericCharacter||(Z.containsNonAlphanumericCharacter=G)}}class S6{constructor(Z,Q,X,J){this.app=Z,this.heartbeatServiceProvider=Q,this.appCheckServiceProvider=X,this.config=J,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new L0(this),this.idTokenSubscription=new L0(this),this.beforeStateQueue=new N6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=Z.name,this.clientVersion=J.sdkClientVersion,this._persistenceManagerAvailable=new Promise((G)=>this._resolvePersistenceManagerAvailable=G)}_initializeWithPersistence(Z,Q){if(Q)this._popupRedirectResolver=f(Q);return this._initializationPromise=this.queue(async()=>{var X,J,G;if(this._deleted)return;if(this.persistenceManager=await WZ.create(this,Z),(X=this._resolvePersistenceManagerAvailable)===null||X===void 0||X.call(this),this._deleted)return;if((J=this._popupRedirectResolver)===null||J===void 0?void 0:J._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(K){}if(await this.initializeCurrentUser(Q),this.lastNotifiedUid=((G=this.currentUser)===null||G===void 0?void 0:G.uid)||null,this._deleted)return;this._isInitialized=!0}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let Z=await this.assertedPersistence.getCurrentUser();if(!this.currentUser&&!Z)return;if(this.currentUser&&Z&&this.currentUser.uid===Z.uid){this._currentUser._assign(Z),await this.currentUser.getIdToken();return}await this._updateCurrentUser(Z,!0)}async initializeCurrentUserFromIdToken(Z){try{let Q=await vZ(this,{idToken:Z}),X=await S._fromGetAccountInfoResponse(this,Q,Z);await this.directlySetCurrentUser(X)}catch(Q){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",Q),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(Z){var Q;if(j(this.app)){let K=this.app.settings.authIdToken;if(K)return new Promise((Y)=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(K).then(Y,Y))});else return this.directlySetCurrentUser(null)}let X=await this.assertedPersistence.getCurrentUser(),J=X,G=!1;if(Z&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let K=(Q=this.redirectUser)===null||Q===void 0?void 0:Q._redirectEventId,Y=J===null||J===void 0?void 0:J._redirectEventId,W=await this.tryRedirectSignIn(Z);if((!K||K===Y)&&(W===null||W===void 0?void 0:W.user))J=W.user,G=!0}if(!J)return this.directlySetCurrentUser(null);if(!J._redirectEventId){if(G)try{await this.beforeStateQueue.runMiddleware(J)}catch(K){J=X,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(K))}if(J)return this.reloadAndSetCurrentUserOrClear(J);else return this.directlySetCurrentUser(null)}if(H(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===J._redirectEventId)return this.directlySetCurrentUser(J);return this.reloadAndSetCurrentUserOrClear(J)}async tryRedirectSignIn(Z){let Q=null;try{Q=await this._popupRedirectResolver._completeRedirectFn(this,Z,!0)}catch(X){await this._setRedirectUser(null)}return Q}async reloadAndSetCurrentUserOrClear(Z){try{await cZ(Z)}catch(Q){if((Q===null||Q===void 0?void 0:Q.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(Z)}useDeviceLanguage(){this.languageCode=D8()}async _delete(){this._deleted=!0}async updateCurrentUser(Z){if(j(this.app))return Promise.reject(i(this));let Q=Z?v(Z):null;if(Q)H(Q.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token");return this._updateCurrentUser(Q&&Q._clone(this))}async _updateCurrentUser(Z,Q=!1){if(this._deleted)return;if(Z)H(this.tenantId===Z.tenantId,this,"tenant-id-mismatch");if(!Q)await this.beforeStateQueue.runMiddleware(Z);return this.queue(async()=>{await this.directlySetCurrentUser(Z),this.notifyAuthListeners()})}async signOut(){if(j(this.app))return Promise.reject(i(this));if(await this.beforeStateQueue.runMiddleware(null),this.redirectPersistenceManager||this._popupRedirectResolver)await this._setRedirectUser(null);return this._updateCurrentUser(null,!0)}setPersistence(Z){if(j(this.app))return Promise.reject(i(this));return this.queue(async()=>{await this.assertedPersistence.setPersistence(f(Z))})}_getRecaptchaConfig(){if(this.tenantId==null)return this._agentRecaptchaConfig;else return this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(Z){if(!this._getPasswordPolicyInternal())await this._updatePasswordPolicy();let Q=this._getPasswordPolicyInternal();if(Q.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION)return Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{}));return Q.validatePassword(Z)}_getPasswordPolicyInternal(){if(this.tenantId===null)return this._projectPasswordPolicy;else return this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let Z=await T8(this),Q=new j6(Z);if(this.tenantId===null)this._projectPasswordPolicy=Q;else this._tenantPasswordPolicies[this.tenantId]=Q}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(Z){this._errorFactory=new b("auth","Firebase",Z())}onAuthStateChanged(Z,Q,X){return this.registerStateListener(this.authStateSubscription,Z,Q,X)}beforeAuthStateChanged(Z,Q){return this.beforeStateQueue.pushCallback(Z,Q)}onIdTokenChanged(Z,Q,X){return this.registerStateListener(this.idTokenSubscription,Z,Q,X)}authStateReady(){return new Promise((Z,Q)=>{if(this.currentUser)Z();else{let X=this.onAuthStateChanged(()=>{X(),Z()},Q)}})}async revokeAccessToken(Z){if(this.currentUser){let Q=await this.currentUser.getIdToken(),X={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:Z,idToken:Q};if(this.tenantId!=null)X.tenantId=this.tenantId;await A8(this,X)}}toJSON(){var Z;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(Z=this._currentUser)===null||Z===void 0?void 0:Z.toJSON()}}async _setRedirectUser(Z,Q){let X=await this.getOrInitRedirectPersistenceManager(Q);return Z===null?X.removeCurrentUser():X.setCurrentUser(Z)}async getOrInitRedirectPersistenceManager(Z){if(!this.redirectPersistenceManager){let Q=Z&&f(Z)||this._popupRedirectResolver;H(Q,this,"argument-error"),this.redirectPersistenceManager=await WZ.create(this,[f(Q._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(Z){var Q,X;if(this._isInitialized)await this.queue(async()=>{});if(((Q=this._currentUser)===null||Q===void 0?void 0:Q._redirectEventId)===Z)return this._currentUser;if(((X=this.redirectUser)===null||X===void 0?void 0:X._redirectEventId)===Z)return this.redirectUser;return null}async _persistUserIfCurrent(Z){if(Z===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(Z))}_notifyListenersIfCurrent(Z){if(Z===this.currentUser)this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){if(this.isProactiveRefreshEnabled=!0,this.currentUser)this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){if(this.isProactiveRefreshEnabled=!1,this.currentUser)this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var Z,Q;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let X=(Q=(Z=this.currentUser)===null||Z===void 0?void 0:Z.uid)!==null&&Q!==void 0?Q:null;if(this.lastNotifiedUid!==X)this.lastNotifiedUid=X,this.authStateSubscription.next(this.currentUser)}registerStateListener(Z,Q,X,J){if(this._deleted)return()=>{};let G=typeof Q==="function"?Q:Q.next.bind(Q),K=!1,Y=this._isInitialized?Promise.resolve():this._initializationPromise;if(H(Y,this,"internal-error"),Y.then(()=>{if(K)return;G(this.currentUser)}),typeof Q==="function"){let W=Z.addObserver(Q,X,J);return()=>{K=!0,W()}}else{let W=Z.addObserver(Q);return()=>{K=!0,W()}}}async directlySetCurrentUser(Z){if(this.currentUser&&this.currentUser!==Z)this._currentUser._stopProactiveRefresh();if(Z&&this.isProactiveRefreshEnabled)Z._startProactiveRefresh();if(this.currentUser=Z,Z)await this.assertedPersistence.setCurrentUser(Z);else await this.assertedPersistence.removeCurrentUser()}queue(Z){return this.operations=this.operations.then(Z,Z),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(Z){if(!Z||this.frameworks.includes(Z))return;this.frameworks.push(Z),this.frameworks.sort(),this.clientVersion=P6(this.config.clientPlatform,this._getFrameworks())}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var Z;let Q={["X-Client-Version"]:this.clientVersion};if(this.app.options.appId)Q["X-Firebase-gmpid"]=this.app.options.appId;let X=await((Z=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||Z===void 0?void 0:Z.getHeartbeatsHeader());if(X)Q["X-Firebase-Client"]=X;let J=await this._getAppCheckToken();if(J)Q["X-Firebase-AppCheck"]=J;return Q}async _getAppCheckToken(){var Z;if(j(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let Q=await((Z=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||Z===void 0?void 0:Z.getToken());if(Q===null||Q===void 0?void 0:Q.error)V8(`Error while retrieving App Check token: ${Q.error}`);return Q===null||Q===void 0?void 0:Q.token}}function t(Z){return v(Z)}class L0{constructor(Z){this.auth=Z,this.observer=null,this.addObserver=qQ((Q)=>this.observer=Q)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}var iZ={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x8(Z){iZ=Z}function R6(Z){return iZ.loadJS(Z)}function I8(){return iZ.recaptchaEnterpriseScript}function y8(){return iZ.gapiScript}function A6(Z){return`__${Z}${Math.floor(Math.random()*1e6)}`}class L6{constructor(){this.enterprise=new C6}ready(Z){Z()}execute(Z,Q){return Promise.resolve("token")}render(Z,Q){return""}}class C6{ready(Z){Z()}execute(Z,Q){return Promise.resolve("token")}render(Z,Q){return""}}var k8="recaptcha-enterprise",SZ="NO_RECAPTCHA";class g0{constructor(Z){this.type=k8,this.auth=t(Z)}async verify(Z="verify",Q=!1){async function X(G){if(!Q){if(G.tenantId==null&&G._agentRecaptchaConfig!=null)return G._agentRecaptchaConfig.siteKey;if(G.tenantId!=null&&G._tenantRecaptchaConfigs[G.tenantId]!==void 0)return G._tenantRecaptchaConfigs[G.tenantId].siteKey}return new Promise(async(K,Y)=>{W6(G,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((W)=>{if(W.recaptchaKey===void 0)Y(new Error("recaptcha Enterprise site key undefined"));else{let $=new k0(W);if(G.tenantId==null)G._agentRecaptchaConfig=$;else G._tenantRecaptchaConfigs[G.tenantId]=$;return K($.siteKey)}}).catch((W)=>{Y(W)})})}function J(G,K,Y){let W=window.grecaptcha;if(bQ(W))W.enterprise.ready(()=>{W.enterprise.execute(G,{action:Z}).then(($)=>{K($)}).catch(()=>{K(SZ)})});else Y(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting)return new L6().execute("siteKey",{action:"verify"});return new Promise((G,K)=>{X(this.auth).then((Y)=>{if(!Q&&bQ(window.grecaptcha))J(Y,G,K);else{if(typeof window==="undefined"){K(new Error("RecaptchaVerifier is only supported in browser"));return}let W=I8();if(W.length!==0)W+=Y;R6(W).then(()=>{J(Y,G,K)}).catch(($)=>{K($)})}}).catch((Y)=>{K(Y)})})}}async function PZ(Z,Q,X,J=!1,G=!1){let K=new g0(Z),Y;if(G)Y=SZ;else try{Y=await K.verify(X)}catch($){Y=await K.verify(X,!0)}let W=Object.assign({},Q);if(X==="mfaSmsEnrollment"||X==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in W){let $=W.phoneEnrollmentInfo.phoneNumber,U=W.phoneEnrollmentInfo.recaptchaToken;Object.assign(W,{phoneEnrollmentInfo:{phoneNumber:$,recaptchaToken:U,captchaResponse:Y,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in W){let $=W.phoneSignInInfo.recaptchaToken;Object.assign(W,{phoneSignInInfo:{recaptchaToken:$,captchaResponse:Y,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return W}if(!J)Object.assign(W,{captchaResponse:Y});else Object.assign(W,{captchaResp:Y});return Object.assign(W,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(W,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),W}async function RZ(Z,Q,X,J,G){var K,Y;if(G==="EMAIL_PASSWORD_PROVIDER")if((K=Z._getRecaptchaConfig())===null||K===void 0?void 0:K.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let W=await PZ(Z,Q,X,X==="getOobCode");return J(Z,W)}else return J(Z,Q).catch(async(W)=>{if(W.code==="auth/missing-recaptcha-token"){console.log(`${X} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let $=await PZ(Z,Q,X,X==="getOobCode");return J(Z,$)}else return Promise.reject(W)});else if(G==="PHONE_PROVIDER")if((Y=Z._getRecaptchaConfig())===null||Y===void 0?void 0:Y.isProviderEnabled("PHONE_PROVIDER")){let W=await PZ(Z,Q,X);return J(Z,W).catch(async($)=>{var U;if(((U=Z._getRecaptchaConfig())===null||U===void 0?void 0:U.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"){if($.code==="auth/missing-recaptcha-token"||$.code==="auth/invalid-app-credential"){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${X} flow.`);let V=await PZ(Z,Q,X,!1,!0);return J(Z,V)}}return Promise.reject($)})}else{let W=await PZ(Z,Q,X,!1,!0);return J(Z,W)}else return Promise.reject(G+" provider is not supported.")}async function _8(Z){let Q=t(Z),X=await W6(Q,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),J=new k0(X);if(Q.tenantId==null)Q._agentRecaptchaConfig=J;else Q._tenantRecaptchaConfigs[Q.tenantId]=J;if(J.isAnyProviderEnabled())new g0(Q).verify()}function T6(Z,Q){let X=w0(Z,"auth");if(X.isInitialized()){let G=X.getImmediate(),K=X.getOptions();if(m(K,Q!==null&&Q!==void 0?Q:{}))return G;else O(G,"already-initialized")}return X.initialize({options:Q})}function f8(Z,Q){let X=(Q===null||Q===void 0?void 0:Q.persistence)||[],J=(Array.isArray(X)?X:[X]).map(f);if(Q===null||Q===void 0?void 0:Q.errorMap)Z._updateErrorMap(Q.errorMap);Z._initializeWithPersistence(J,Q===null||Q===void 0?void 0:Q.popupRedirectResolver)}function E6(Z,Q,X){let J=t(Z);H(/^https?:\/\//.test(Q),J,"invalid-emulator-scheme");let G=!!(X===null||X===void 0?void 0:X.disableWarnings),K=x6(Q),{host:Y,port:W}=h8(Q),$=W===null?"":`:${W}`,U={url:`${K}//${Y}${$}/`},V=Object.freeze({host:Y,port:W,protocol:K.replace(":",""),options:Object.freeze({disableWarnings:G})});if(!J._canInitEmulator){H(J.config.emulator&&J.emulatorConfig,J,"emulator-config-failed"),H(m(U,J.config.emulator)&&m(V,J.emulatorConfig),J,"emulator-config-failed");return}if(J.config.emulator=U,J.emulatorConfig=V,J.settings.appVerificationDisabledForTesting=!0,EZ(Y))KQ(`${K}//${Y}${$}`),YQ("Auth",!0);else if(!G)g8()}function x6(Z){let Q=Z.indexOf(":");return Q<0?"":Z.substr(0,Q+1)}function h8(Z){let Q=x6(Z),X=/(\/\/)?([^?#/]+)/.exec(Z.substr(Q.length));if(!X)return{host:"",port:null};let J=X[2].split("@").pop()||"",G=/^(\[[^\]]+\])(:|$)/.exec(J);if(G){let K=G[1];return{host:K,port:cQ(J.substr(K.length+1))}}else{let[K,Y]=J.split(":");return{host:K,port:cQ(Y)}}}function cQ(Z){if(!Z)return null;let Q=Number(Z);if(isNaN(Q))return null;return Q}function g8(){function Z(){let Q=document.createElement("p"),X=Q.style;Q.innerText="Running in emulator mode. Do not use with production credentials.",X.position="fixed",X.width="100%",X.backgroundColor="#ffffff",X.border=".1em solid #000000",X.color="#b50000",X.bottom="0px",X.left="0px",X.margin="0px",X.zIndex="10000",X.textAlign="center",Q.classList.add("firebase-emulator-warning"),document.body.appendChild(Q)}if(typeof console!=="undefined"&&typeof console.info==="function")console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");if(typeof window!=="undefined"&&typeof document!=="undefined")if(document.readyState==="loading")window.addEventListener("DOMContentLoaded",Z);else Z()}class VZ{constructor(Z,Q){this.providerId=Z,this.signInMethod=Q}toJSON(){return L("not implemented")}_getIdTokenResponse(Z){return L("not implemented")}_linkToIdToken(Z,Q){return L("not implemented")}_getReauthenticationResolver(Z){return L("not implemented")}}async function b8(Z,Q){return M(Z,"POST","/v1/accounts:signUp",Q)}async function m8(Z,Q){return a(Z,"POST","/v1/accounts:signInWithPassword",D(Z,Q))}async function v8(Z,Q){return a(Z,"POST","/v1/accounts:signInWithEmailLink",D(Z,Q))}async function d8(Z,Q){return a(Z,"POST","/v1/accounts:signInWithEmailLink",D(Z,Q))}class UZ extends VZ{constructor(Z,Q,X,J=null){super("password",X);this._email=Z,this._password=Q,this._tenantId=J}static _fromEmailAndPassword(Z,Q){return new UZ(Z,Q,"password")}static _fromEmailAndCode(Z,Q,X=null){return new UZ(Z,Q,"emailLink",X)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(Z){let Q=typeof Z==="string"?JSON.parse(Z):Z;if((Q===null||Q===void 0?void 0:Q.email)&&(Q===null||Q===void 0?void 0:Q.password)){if(Q.signInMethod==="password")return this._fromEmailAndPassword(Q.email,Q.password);else if(Q.signInMethod==="emailLink")return this._fromEmailAndCode(Q.email,Q.password,Q.tenantId)}return null}async _getIdTokenResponse(Z){switch(this.signInMethod){case"password":let Q={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return RZ(Z,Q,"signInWithPassword",m8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return v8(Z,{email:this._email,oobCode:this._password});default:O(Z,"internal-error")}}async _linkToIdToken(Z,Q){switch(this.signInMethod){case"password":let X={idToken:Q,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return RZ(Z,X,"signUpPassword",b8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return d8(Z,{idToken:Q,email:this._email,oobCode:this._password});default:O(Z,"internal-error")}}_getReauthenticationResolver(Z){return this._getIdTokenResponse(Z)}}async function $Z(Z,Q){return a(Z,"POST","/v1/accounts:signInWithIdp",D(Z,Q))}var c8="http://localhost";class T extends VZ{constructor(){super(...arguments);this.pendingToken=null}static _fromParams(Z){let Q=new T(Z.providerId,Z.signInMethod);if(Z.idToken||Z.accessToken){if(Z.idToken)Q.idToken=Z.idToken;if(Z.accessToken)Q.accessToken=Z.accessToken;if(Z.nonce&&!Z.pendingToken)Q.nonce=Z.nonce;if(Z.pendingToken)Q.pendingToken=Z.pendingToken}else if(Z.oauthToken&&Z.oauthTokenSecret)Q.accessToken=Z.oauthToken,Q.secret=Z.oauthTokenSecret;else O("argument-error");return Q}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(Z){let Q=typeof Z==="string"?JSON.parse(Z):Z,{providerId:X,signInMethod:J}=Q,G=yZ(Q,["providerId","signInMethod"]);if(!X||!J)return null;let K=new T(X,J);return K.idToken=G.idToken||void 0,K.accessToken=G.accessToken||void 0,K.secret=G.secret,K.nonce=G.nonce,K.pendingToken=G.pendingToken||null,K}_getIdTokenResponse(Z){let Q=this.buildRequest();return $Z(Z,Q)}_linkToIdToken(Z,Q){let X=this.buildRequest();return X.idToken=Q,$Z(Z,X)}_getReauthenticationResolver(Z){let Q=this.buildRequest();return Q.autoCreate=!1,$Z(Z,Q)}buildRequest(){let Z={requestUri:c8,returnSecureToken:!0};if(this.pendingToken)Z.pendingToken=this.pendingToken;else{let Q={};if(this.idToken)Q.id_token=this.idToken;if(this.accessToken)Q.access_token=this.accessToken;if(this.secret)Q.oauth_token_secret=this.secret;if(Q.providerId=this.providerId,this.nonce&&!this.pendingToken)Q.nonce=this.nonce;Z.postBody=QZ(Q)}return Z}}async function lQ(Z,Q){return M(Z,"POST","/v1/accounts:sendVerificationCode",D(Z,Q))}async function l8(Z,Q){return a(Z,"POST","/v1/accounts:signInWithPhoneNumber",D(Z,Q))}async function u8(Z,Q){let X=await a(Z,"POST","/v1/accounts:signInWithPhoneNumber",D(Z,Q));if(X.temporaryProof)throw NZ(Z,"account-exists-with-different-credential",X);return X}var p8={["USER_NOT_FOUND"]:"user-not-found"};async function i8(Z,Q){let X=Object.assign(Object.assign({},Q),{operation:"REAUTH"});return a(Z,"POST","/v1/accounts:signInWithPhoneNumber",D(Z,X),p8)}class s extends VZ{constructor(Z){super("phone","phone");this.params=Z}static _fromVerification(Z,Q){return new s({verificationId:Z,verificationCode:Q})}static _fromTokenResponse(Z,Q){return new s({phoneNumber:Z,temporaryProof:Q})}_getIdTokenResponse(Z){return l8(Z,this._makeVerificationRequest())}_linkToIdToken(Z,Q){return u8(Z,Object.assign({idToken:Q},this._makeVerificationRequest()))}_getReauthenticationResolver(Z){return i8(Z,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:Z,phoneNumber:Q,verificationId:X,verificationCode:J}=this.params;if(Z&&Q)return{temporaryProof:Z,phoneNumber:Q};return{sessionInfo:X,code:J}}toJSON(){let Z={providerId:this.providerId};if(this.params.phoneNumber)Z.phoneNumber=this.params.phoneNumber;if(this.params.temporaryProof)Z.temporaryProof=this.params.temporaryProof;if(this.params.verificationCode)Z.verificationCode=this.params.verificationCode;if(this.params.verificationId)Z.verificationId=this.params.verificationId;return Z}static fromJSON(Z){if(typeof Z==="string")Z=JSON.parse(Z);let{verificationId:Q,verificationCode:X,phoneNumber:J,temporaryProof:G}=Z;if(!X&&!Q&&!J&&!G)return null;return new s({verificationId:Q,verificationCode:X,phoneNumber:J,temporaryProof:G})}}function s8(Z){switch(Z){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function o8(Z){let Q=XZ(JZ(Z)).link,X=Q?XZ(JZ(Q)).deep_link_id:null,J=XZ(JZ(Z)).deep_link_id;return(J?XZ(JZ(J)).link:null)||J||X||Q||Z}class sZ{constructor(Z){var Q,X,J,G,K,Y;let W=XZ(JZ(Z)),$=(Q=W.apiKey)!==null&&Q!==void 0?Q:null,U=(X=W.oobCode)!==null&&X!==void 0?X:null,V=s8((J=W.mode)!==null&&J!==void 0?J:null);H($&&U&&V,"argument-error"),this.apiKey=$,this.operation=V,this.code=U,this.continueUrl=(G=W.continueUrl)!==null&&G!==void 0?G:null,this.languageCode=(K=W.lang)!==null&&K!==void 0?K:null,this.tenantId=(Y=W.tenantId)!==null&&Y!==void 0?Y:null}static parseLink(Z){let Q=o8(Z);try{return new sZ(Q)}catch(X){return null}}}class BZ{constructor(){this.providerId=BZ.PROVIDER_ID}static credential(Z,Q){return UZ._fromEmailAndPassword(Z,Q)}static credentialWithLink(Z,Q){let X=sZ.parseLink(Q);return H(X,"argument-error"),UZ._fromEmailAndCode(Z,X.code,X.tenantId)}}BZ.PROVIDER_ID="password";BZ.EMAIL_PASSWORD_SIGN_IN_METHOD="password";BZ.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class oZ{constructor(Z){this.providerId=Z,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(Z){this.defaultLanguageCode=Z}setCustomParameters(Z){return this.customParameters=Z,this}getCustomParameters(){return this.customParameters}}class r extends oZ{constructor(){super(...arguments);this.scopes=[]}addScope(Z){if(!this.scopes.includes(Z))this.scopes.push(Z);return this}getScopes(){return[...this.scopes]}}class o extends r{static credentialFromJSON(Z){let Q=typeof Z==="string"?JSON.parse(Z):Z;return H("providerId"in Q&&"signInMethod"in Q,"argument-error"),T._fromParams(Q)}credential(Z){return this._credential(Object.assign(Object.assign({},Z),{nonce:Z.rawNonce}))}_credential(Z){return H(Z.idToken||Z.accessToken,"argument-error"),T._fromParams(Object.assign(Object.assign({},Z),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(Z){return o.oauthCredentialFromTaggedObject(Z)}static credentialFromError(Z){return o.oauthCredentialFromTaggedObject(Z.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:Z}){if(!Z)return null;let{oauthIdToken:Q,oauthAccessToken:X,oauthTokenSecret:J,pendingToken:G,nonce:K,providerId:Y}=Z;if(!X&&!J&&!Q&&!G)return null;if(!Y)return null;try{return new o(Y)._credential({idToken:Q,accessToken:X,nonce:K,pendingToken:G})}catch(W){return null}}}class I extends r{constructor(){super("facebook.com")}static credential(Z){return T._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:Z})}static credentialFromResult(Z){return I.credentialFromTaggedObject(Z)}static credentialFromError(Z){return I.credentialFromTaggedObject(Z.customData||{})}static credentialFromTaggedObject({_tokenResponse:Z}){if(!Z||!("oauthAccessToken"in Z))return null;if(!Z.oauthAccessToken)return null;try{return I.credential(Z.oauthAccessToken)}catch(Q){return null}}}I.FACEBOOK_SIGN_IN_METHOD="facebook.com";I.PROVIDER_ID="facebook.com";class y extends r{constructor(){super("google.com");this.addScope("profile")}static credential(Z,Q){return T._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:Z,accessToken:Q})}static credentialFromResult(Z){return y.credentialFromTaggedObject(Z)}static credentialFromError(Z){return y.credentialFromTaggedObject(Z.customData||{})}static credentialFromTaggedObject({_tokenResponse:Z}){if(!Z)return null;let{oauthIdToken:Q,oauthAccessToken:X}=Z;if(!Q&&!X)return null;try{return y.credential(Q,X)}catch(J){return null}}}y.GOOGLE_SIGN_IN_METHOD="google.com";y.PROVIDER_ID="google.com";class k extends r{constructor(){super("github.com")}static credential(Z){return T._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.GITHUB_SIGN_IN_METHOD,accessToken:Z})}static credentialFromResult(Z){return k.credentialFromTaggedObject(Z)}static credentialFromError(Z){return k.credentialFromTaggedObject(Z.customData||{})}static credentialFromTaggedObject({_tokenResponse:Z}){if(!Z||!("oauthAccessToken"in Z))return null;if(!Z.oauthAccessToken)return null;try{return k.credential(Z.oauthAccessToken)}catch(Q){return null}}}k.GITHUB_SIGN_IN_METHOD="github.com";k.PROVIDER_ID="github.com";class _ extends r{constructor(){super("twitter.com")}static credential(Z,Q){return T._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:Z,oauthTokenSecret:Q})}static credentialFromResult(Z){return _.credentialFromTaggedObject(Z)}static credentialFromError(Z){return _.credentialFromTaggedObject(Z.customData||{})}static credentialFromTaggedObject({_tokenResponse:Z}){if(!Z)return null;let{oauthAccessToken:Q,oauthTokenSecret:X}=Z;if(!Q||!X)return null;try{return _.credential(Q,X)}catch(J){return null}}}_.TWITTER_SIGN_IN_METHOD="twitter.com";_.PROVIDER_ID="twitter.com";class HZ{constructor(Z){this.user=Z.user,this.providerId=Z.providerId,this._tokenResponse=Z._tokenResponse,this.operationType=Z.operationType}static async _fromIdTokenResponse(Z,Q,X,J=!1){let G=await S._fromIdTokenResponse(Z,X,J),K=uQ(X);return new HZ({user:G,providerId:K,_tokenResponse:X,operationType:Q})}static async _forOperation(Z,Q,X){await Z._updateTokensIfNecessary(X,!0);let J=uQ(X);return new HZ({user:Z,providerId:J,_tokenResponse:X,operationType:Q})}}function uQ(Z){if(Z.providerId)return Z.providerId;if("phoneNumber"in Z)return"phone";return null}class lZ extends N{constructor(Z,Q,X,J){var G;super(Q.code,Q.message);this.operationType=X,this.user=J,Object.setPrototypeOf(this,lZ.prototype),this.customData={appName:Z.name,tenantId:(G=Z.tenantId)!==null&&G!==void 0?G:void 0,_serverResponse:Q.customData._serverResponse,operationType:X}}static _fromErrorAndOperation(Z,Q,X,J){return new lZ(Z,Q,X,J)}}function I6(Z,Q,X,J){return(Q==="reauthenticate"?X._getReauthenticationResolver(Z):X._getIdTokenResponse(Z)).catch((K)=>{if(K.code==="auth/multi-factor-auth-required")throw lZ._fromErrorAndOperation(Z,K,Q,J);throw K})}async function n8(Z,Q,X=!1){let J=await AZ(Z,Q._linkToIdToken(Z.auth,await Z.getIdToken()),X);return HZ._forOperation(Z,"link",J)}async function a8(Z,Q,X=!1){let{auth:J}=Z;if(j(J.app))return Promise.reject(i(J));let G="reauthenticate";try{let K=await AZ(Z,I6(J,G,Q,Z),X);H(K.idToken,J,"internal-error");let Y=_0(K.idToken);H(Y,J,"internal-error");let{sub:W}=Y;return H(Z.uid===W,J,"user-mismatch"),HZ._forOperation(Z,G,K)}catch(K){if((K===null||K===void 0?void 0:K.code)==="auth/user-not-found")O(J,"user-mismatch");throw K}}async function t8(Z,Q,X=!1){if(j(Z.app))return Promise.reject(i(Z));let J="signIn",G=await I6(Z,J,Q),K=await HZ._fromIdTokenResponse(Z,J,G);if(!X)await Z._updateCurrentUser(K.user);return K}function y6(Z,Q,X,J){return v(Z).onIdTokenChanged(Q,X,J)}function k6(Z,Q,X){return v(Z).beforeAuthStateChanged(Q,X)}function pQ(Z,Q){return M(Z,"POST","/v2/accounts/mfaEnrollment:start",D(Z,Q))}function r8(Z,Q){return M(Z,"POST","/v2/accounts/mfaEnrollment:finalize",D(Z,Q))}function e8(Z,Q){return M(Z,"POST","/v2/accounts/mfaEnrollment:start",D(Z,Q))}function Z9(Z,Q){return M(Z,"POST","/v2/accounts/mfaEnrollment:finalize",D(Z,Q))}var uZ="__sak";class b0{constructor(Z,Q){this.storageRetriever=Z,this.type=Q}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(uZ,"1"),this.storage.removeItem(uZ),Promise.resolve(!0)}catch(Z){return Promise.resolve(!1)}}_set(Z,Q){return this.storage.setItem(Z,JSON.stringify(Q)),Promise.resolve()}_get(Z){let Q=this.storage.getItem(Z);return Promise.resolve(Q?JSON.parse(Q):null)}_remove(Z){return this.storage.removeItem(Z),Promise.resolve()}get storage(){return this.storageRetriever()}}var Q9=1000,X9=10;class m0 extends b0{constructor(){super(()=>window.localStorage,"LOCAL");this.boundEventHandler=(Z,Q)=>this.onStorageEvent(Z,Q),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=O6(),this._shouldAllowMigration=!0}forAllChangedKeys(Z){for(let Q of Object.keys(this.listeners)){let X=this.storage.getItem(Q),J=this.localCache[Q];if(X!==J)Z(Q,J,X)}}onStorageEvent(Z,Q=!1){if(!Z.key){this.forAllChangedKeys((K,Y,W)=>{this.notifyListeners(K,W)});return}let X=Z.key;if(Q)this.detachListener();else this.stopPolling();let J=()=>{let K=this.storage.getItem(X);if(!Q&&this.localCache[X]===K)return;this.notifyListeners(X,K)},G=this.storage.getItem(X);if(C8()&&G!==Z.newValue&&Z.newValue!==Z.oldValue)setTimeout(J,X9);else J()}notifyListeners(Z,Q){this.localCache[Z]=Q;let X=this.listeners[Z];if(X)for(let J of Array.from(X))J(Q?JSON.parse(Q):Q)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((Z,Q,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:Z,oldValue:Q,newValue:X}),!0)})},Q9)}stopPolling(){if(this.pollTimer)clearInterval(this.pollTimer),this.pollTimer=null}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(Z,Q){if(Object.keys(this.listeners).length===0)if(this.fallbackToPolling)this.startPolling();else this.attachListener();if(!this.listeners[Z])this.listeners[Z]=new Set,this.localCache[Z]=this.storage.getItem(Z);this.listeners[Z].add(Q)}_removeListener(Z,Q){if(this.listeners[Z]){if(this.listeners[Z].delete(Q),this.listeners[Z].size===0)delete this.listeners[Z]}if(Object.keys(this.listeners).length===0)this.detachListener(),this.stopPolling()}async _set(Z,Q){await super._set(Z,Q),this.localCache[Z]=JSON.stringify(Q)}async _get(Z){let Q=await super._get(Z);return this.localCache[Z]=JSON.stringify(Q),Q}async _remove(Z){await super._remove(Z),delete this.localCache[Z]}}m0.type="LOCAL";var _6=m0,J9=1000;function P0(Z){var Q,X;let J=Z.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),G=RegExp(`${J}=([^;]+)`);return(X=(Q=document.cookie.match(G))===null||Q===void 0?void 0:Q[1])!==null&&X!==void 0?X:null}function N0(Z){return`${window.location.protocol==="http:"?"__dev_":"__HOST-"}FIREBASE_${Z.split(":")[3]}`}class f6{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(Z){if(typeof window===void 0)return Z;let Q=new URL(`${window.location.origin}/__cookies__`);return Q.searchParams.set("finalTarget",Z),Q}async _isAvailable(){var Z;if(typeof isSecureContext==="boolean"&&!isSecureContext)return!1;if(typeof navigator==="undefined"||typeof document==="undefined")return!1;return(Z=navigator.cookieEnabled)!==null&&Z!==void 0?Z:!0}async _set(Z,Q){return}async _get(Z){if(!this._isAvailable())return null;let Q=N0(Z);if(window.cookieStore){let X=await window.cookieStore.get(Q);return X===null||X===void 0?void 0:X.value}return P0(Q)}async _remove(Z){if(!this._isAvailable())return;if(!await this._get(Z))return;let X=N0(Z);document.cookie=`${X}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{return})}_addListener(Z,Q){if(!this._isAvailable())return;let X=N0(Z);if(window.cookieStore){let Y=($)=>{let U=$.changed.find((B)=>B.name===X);if(U)Q(U.value);if($.deleted.find((B)=>B.name===X))Q(null)},W=()=>window.cookieStore.removeEventListener("change",Y);return this.listenerUnsubscribes.set(Q,W),window.cookieStore.addEventListener("change",Y)}let J=P0(X),G=setInterval(()=>{let Y=P0(X);if(Y!==J)Q(Y),J=Y},J9),K=()=>clearInterval(G);this.listenerUnsubscribes.set(Q,K)}_removeListener(Z,Q){let X=this.listenerUnsubscribes.get(Q);if(!X)return;X(),this.listenerUnsubscribes.delete(Q)}}f6.type="COOKIE";class v0 extends b0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(Z,Q){return}_removeListener(Z,Q){return}}v0.type="SESSION";var d0=v0;function G9(Z){return Promise.all(Z.map(async(Q)=>{try{return{fulfilled:!0,value:await Q}}catch(X){return{fulfilled:!1,reason:X}}}))}class nZ{constructor(Z){this.eventTarget=Z,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(Z){let Q=this.receivers.find((J)=>J.isListeningto(Z));if(Q)return Q;let X=new nZ(Z);return this.receivers.push(X),X}isListeningto(Z){return this.eventTarget===Z}async handleEvent(Z){let Q=Z,{eventId:X,eventType:J,data:G}=Q.data,K=this.handlersMap[J];if(!(K===null||K===void 0?void 0:K.size))return;Q.ports[0].postMessage({status:"ack",eventId:X,eventType:J});let Y=Array.from(K).map(async($)=>$(Q.origin,G)),W=await G9(Y);Q.ports[0].postMessage({status:"done",eventId:X,eventType:J,response:W})}_subscribe(Z,Q){if(Object.keys(this.handlersMap).length===0)this.eventTarget.addEventListener("message",this.boundEventHandler);if(!this.handlersMap[Z])this.handlersMap[Z]=new Set;this.handlersMap[Z].add(Q)}_unsubscribe(Z,Q){if(this.handlersMap[Z]&&Q)this.handlersMap[Z].delete(Q);if(!Q||this.handlersMap[Z].size===0)delete this.handlersMap[Z];if(Object.keys(this.handlersMap).length===0)this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nZ.receivers=[];function c0(Z="",Q=10){let X="";for(let J=0;J<Q;J++)X+=Math.floor(Math.random()*10);return Z+X}class h6{constructor(Z){this.target=Z,this.handlers=new Set}removeMessageHandler(Z){if(Z.messageChannel)Z.messageChannel.port1.removeEventListener("message",Z.onMessage),Z.messageChannel.port1.close();this.handlers.delete(Z)}async _send(Z,Q,X=50){let J=typeof MessageChannel!=="undefined"?new MessageChannel:null;if(!J)throw new Error("connection_unavailable");let G,K;return new Promise((Y,W)=>{let $=c0("",20);J.port1.start();let U=setTimeout(()=>{W(new Error("unsupported_event"))},X);K={messageChannel:J,onMessage(V){let B=V;if(B.data.eventId!==$)return;switch(B.data.status){case"ack":clearTimeout(U),G=setTimeout(()=>{W(new Error("timeout"))},3000);break;case"done":clearTimeout(G),Y(B.data.response);break;default:clearTimeout(U),clearTimeout(G),W(new Error("invalid_response"));break}}},this.handlers.add(K),J.port1.addEventListener("message",K.onMessage),this.target.postMessage({eventType:Z,eventId:$,data:Q},[J.port2])}).finally(()=>{if(K)this.removeMessageHandler(K)})}}function C(){return window}function K9(Z){C().location.href=Z}function g6(){return typeof C().WorkerGlobalScope!=="undefined"&&typeof C().importScripts==="function"}async function Y9(){if(!(navigator===null||navigator===void 0?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(Z){return null}}function W9(){var Z;return((Z=navigator===null||navigator===void 0?void 0:navigator.serviceWorker)===null||Z===void 0?void 0:Z.controller)||null}function $9(){return g6()?self:null}var b6="firebaseLocalStorageDb",U9=1,pZ="firebaseLocalStorage",m6="fbase_key";class FZ{constructor(Z){this.request=Z}toPromise(){return new Promise((Z,Q)=>{this.request.addEventListener("success",()=>{Z(this.request.result)}),this.request.addEventListener("error",()=>{Q(this.request.error)})})}}function aZ(Z,Q){return Z.transaction([pZ],Q?"readwrite":"readonly").objectStore(pZ)}function H9(){let Z=indexedDB.deleteDatabase(b6);return new FZ(Z).toPromise()}function C0(){let Z=indexedDB.open(b6,U9);return new Promise((Q,X)=>{Z.addEventListener("error",()=>{X(Z.error)}),Z.addEventListener("upgradeneeded",()=>{let J=Z.result;try{J.createObjectStore(pZ,{keyPath:m6})}catch(G){X(G)}}),Z.addEventListener("success",async()=>{let J=Z.result;if(!J.objectStoreNames.contains(pZ))J.close(),await H9(),Q(await C0());else Q(J)})})}async function iQ(Z,Q,X){let J=aZ(Z,!0).put({[m6]:Q,value:X});return new FZ(J).toPromise()}async function z9(Z,Q){let X=aZ(Z,!1).get(Q),J=await new FZ(X).toPromise();return J===void 0?null:J.value}function sQ(Z,Q){let X=aZ(Z,!0).delete(Q);return new FZ(X).toPromise()}var V9=800,B9=3;class l0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){if(this.db)return this.db;return this.db=await C0(),this.db}async _withRetries(Z){let Q=0;while(!0)try{let X=await this._openDb();return await Z(X)}catch(X){if(Q++>B9)throw X;if(this.db)this.db.close(),this.db=void 0}}async initializeServiceWorkerMessaging(){return g6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nZ._getInstance($9()),this.receiver._subscribe("keyChanged",async(Z,Q)=>{return{keyProcessed:(await this._poll()).includes(Q.key)}}),this.receiver._subscribe("ping",async(Z,Q)=>{return["keyChanged"]})}async initializeSender(){var Z,Q;if(this.activeServiceWorker=await Y9(),!this.activeServiceWorker)return;this.sender=new h6(this.activeServiceWorker);let X=await this.sender._send("ping",{},800);if(!X)return;if(((Z=X[0])===null||Z===void 0?void 0:Z.fulfilled)&&((Q=X[0])===null||Q===void 0?void 0:Q.value.includes("keyChanged")))this.serviceWorkerReceiverAvailable=!0}async notifyServiceWorker(Z){if(!this.sender||!this.activeServiceWorker||W9()!==this.activeServiceWorker)return;try{await this.sender._send("keyChanged",{key:Z},this.serviceWorkerReceiverAvailable?800:50)}catch(Q){}}async _isAvailable(){try{if(!indexedDB)return!1;let Z=await C0();return await iQ(Z,uZ,"1"),await sQ(Z,uZ),!0}catch(Z){}return!1}async _withPendingWrite(Z){this.pendingWrites++;try{await Z()}finally{this.pendingWrites--}}async _set(Z,Q){return this._withPendingWrite(async()=>{return await this._withRetries((X)=>iQ(X,Z,Q)),this.localCache[Z]=Q,this.notifyServiceWorker(Z)})}async _get(Z){let Q=await this._withRetries((X)=>z9(X,Z));return this.localCache[Z]=Q,Q}async _remove(Z){return this._withPendingWrite(async()=>{return await this._withRetries((Q)=>sQ(Q,Z)),delete this.localCache[Z],this.notifyServiceWorker(Z)})}async _poll(){let Z=await this._withRetries((J)=>{let G=aZ(J,!1).getAll();return new FZ(G).toPromise()});if(!Z)return[];if(this.pendingWrites!==0)return[];let Q=[],X=new Set;if(Z.length!==0){for(let{fbase_key:J,value:G}of Z)if(X.add(J),JSON.stringify(this.localCache[J])!==JSON.stringify(G))this.notifyListeners(J,G),Q.push(J)}for(let J of Object.keys(this.localCache))if(this.localCache[J]&&!X.has(J))this.notifyListeners(J,null),Q.push(J);return Q}notifyListeners(Z,Q){this.localCache[Z]=Q;let X=this.listeners[Z];if(X)for(let J of Array.from(X))J(Q)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V9)}stopPolling(){if(this.pollTimer)clearInterval(this.pollTimer),this.pollTimer=null}_addListener(Z,Q){if(Object.keys(this.listeners).length===0)this.startPolling();if(!this.listeners[Z])this.listeners[Z]=new Set,this._get(Z);this.listeners[Z].add(Q)}_removeListener(Z,Q){if(this.listeners[Z]){if(this.listeners[Z].delete(Q),this.listeners[Z].size===0)delete this.listeners[Z]}if(Object.keys(this.listeners).length===0)this.stopPolling()}}l0.type="LOCAL";var v6=l0;function oQ(Z,Q){return M(Z,"POST","/v2/accounts/mfaSignIn:start",D(Z,Q))}function F9(Z,Q){return M(Z,"POST","/v2/accounts/mfaSignIn:finalize",D(Z,Q))}function q9(Z,Q){return M(Z,"POST","/v2/accounts/mfaSignIn:finalize",D(Z,Q))}var pJ=A6("rcb"),iJ=new zZ(30000,60000);var hZ="recaptcha";async function D9(Z,Q,X){var J;if(!Z._getRecaptchaConfig())try{await _8(Z)}catch(G){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let G;if(typeof Q==="string")G={phoneNumber:Q};else G=Q;if("session"in G){let K=G.session;if("phoneNumber"in G){H(K.type==="enroll",Z,"internal-error");let Y={idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:G.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await RZ(Z,Y,"mfaSmsEnrollment",async(V,B)=>{if(B.phoneEnrollmentInfo.captchaResponse===SZ){H((X===null||X===void 0?void 0:X.type)===hZ,V,"argument-error");let z=await j0(V,B,X);return pQ(V,z)}return pQ(V,B)},"PHONE_PROVIDER").catch((V)=>{return Promise.reject(V)})).phoneSessionInfo.sessionInfo}else{H(K.type==="signin",Z,"internal-error");let Y=((J=G.multiFactorHint)===null||J===void 0?void 0:J.uid)||G.multiFactorUid;H(Y,Z,"missing-multi-factor-info");let W={mfaPendingCredential:K.credential,mfaEnrollmentId:Y,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await RZ(Z,W,"mfaSmsSignIn",async(B,z)=>{if(z.phoneSignInInfo.captchaResponse===SZ){H((X===null||X===void 0?void 0:X.type)===hZ,B,"argument-error");let q=await j0(B,z,X);return oQ(B,q)}return oQ(B,z)},"PHONE_PROVIDER").catch((B)=>{return Promise.reject(B)})).phoneResponseInfo.sessionInfo}}else{let K={phoneNumber:G.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await RZ(Z,K,"sendVerificationCode",async(U,V)=>{if(V.captchaResponse===SZ){H((X===null||X===void 0?void 0:X.type)===hZ,U,"argument-error");let B=await j0(U,V,X);return lQ(U,B)}return lQ(U,V)},"PHONE_PROVIDER").catch((U)=>{return Promise.reject(U)})).sessionInfo}}finally{X===null||X===void 0||X._reset()}}async function j0(Z,Q,X){H(X.type===hZ,Z,"argument-error");let J=await X.verify();H(typeof J==="string",Z,"argument-error");let G=Object.assign({},Q);if("phoneEnrollmentInfo"in G){let K=G.phoneEnrollmentInfo.phoneNumber,Y=G.phoneEnrollmentInfo.captchaResponse,W=G.phoneEnrollmentInfo.clientType,$=G.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(G,{phoneEnrollmentInfo:{phoneNumber:K,recaptchaToken:J,captchaResponse:Y,clientType:W,recaptchaVersion:$}}),G}else if("phoneSignInInfo"in G){let K=G.phoneSignInInfo.captchaResponse,Y=G.phoneSignInInfo.clientType,W=G.phoneSignInInfo.recaptchaVersion;return Object.assign(G,{phoneSignInInfo:{recaptchaToken:J,captchaResponse:K,clientType:Y,recaptchaVersion:W}}),G}else return Object.assign(G,{recaptchaToken:J}),G}class n{constructor(Z){this.providerId=n.PROVIDER_ID,this.auth=t(Z)}verifyPhoneNumber(Z,Q){return D9(this.auth,Z,v(Q))}static credential(Z,Q){return s._fromVerification(Z,Q)}static credentialFromResult(Z){let Q=Z;return n.credentialFromTaggedObject(Q)}static credentialFromError(Z){return n.credentialFromTaggedObject(Z.customData||{})}static credentialFromTaggedObject({_tokenResponse:Z}){if(!Z)return null;let{phoneNumber:Q,temporaryProof:X}=Z;if(Q&&X)return s._fromTokenResponse(Q,X);return null}}n.PROVIDER_ID="phone";n.PHONE_SIGN_IN_METHOD="phone";function d6(Z,Q){if(Q)return f(Q);return H(Z._popupRedirectResolver,Z,"argument-error"),Z._popupRedirectResolver}class tZ extends VZ{constructor(Z){super("custom","custom");this.params=Z}_getIdTokenResponse(Z){return $Z(Z,this._buildIdpRequest())}_linkToIdToken(Z,Q){return $Z(Z,this._buildIdpRequest(Q))}_getReauthenticationResolver(Z){return $Z(Z,this._buildIdpRequest())}_buildIdpRequest(Z){let Q={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};if(Z)Q.idToken=Z;return Q}}function w9(Z){return t8(Z.auth,new tZ(Z),Z.bypassAuthState)}function M9(Z){let{auth:Q,user:X}=Z;return H(X,Q,"internal-error"),a8(X,new tZ(Z),Z.bypassAuthState)}async function O9(Z){let{auth:Q,user:X}=Z;return H(X,Q,"internal-error"),n8(X,new tZ(Z),Z.bypassAuthState)}class u0{constructor(Z,Q,X,J,G=!1){this.auth=Z,this.resolver=X,this.user=J,this.bypassAuthState=G,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(Q)?Q:[Q]}execute(){return new Promise(async(Z,Q)=>{this.pendingPromise={resolve:Z,reject:Q};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(X){this.reject(X)}})}async onAuthEvent(Z){let{urlResponse:Q,sessionId:X,postBody:J,tenantId:G,error:K,type:Y}=Z;if(K){this.reject(K);return}let W={auth:this.auth,requestUri:Q,sessionId:X,tenantId:G||void 0,postBody:J||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(Y)(W))}catch($){this.reject($)}}onError(Z){this.reject(Z)}getIdpTask(Z){switch(Z){case"signInViaPopup":case"signInViaRedirect":return w9;case"linkViaPopup":case"linkViaRedirect":return O9;case"reauthViaPopup":case"reauthViaRedirect":return M9;default:O(this.auth,"internal-error")}}resolve(Z){h(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(Z),this.unregisterAndCleanUp()}reject(Z){h(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(Z),this.unregisterAndCleanUp()}unregisterAndCleanUp(){if(this.eventManager)this.eventManager.unregisterConsumer(this);this.pendingPromise=null,this.cleanUp()}}var P9=new zZ(2000,1e4);async function p0(Z,Q,X){if(j(Z.app))return Promise.reject(R(Z,"operation-not-supported-in-this-environment"));let J=t(Z);B8(Z,Q,oZ);let G=d6(J,X);return new p(J,"signInViaPopup",Q,G).executeNotNull()}class p extends u0{constructor(Z,Q,X,J,G){super(Z,Q,J,G);if(this.provider=X,this.authWindow=null,this.pollId=null,p.currentPopupAction)p.currentPopupAction.cancel();p.currentPopupAction=this}async executeNotNull(){let Z=await this.execute();return H(Z,this.auth,"internal-error"),Z}async onExecution(){h(this.filter.length===1,"Popup operations only handle one event");let Z=c0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],Z),this.authWindow.associatedEvent=Z,this.resolver._originValidation(this.auth).catch((Q)=>{this.reject(Q)}),this.resolver._isIframeWebStorageSupported(this.auth,(Q)=>{if(!Q)this.reject(R(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var Z;return((Z=this.authWindow)===null||Z===void 0?void 0:Z.associatedEvent)||null}cancel(){this.reject(R(this.auth,"cancelled-popup-request"))}cleanUp(){if(this.authWindow)this.authWindow.close();if(this.pollId)window.clearTimeout(this.pollId);this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){let Z=()=>{var Q,X;if((X=(Q=this.authWindow)===null||Q===void 0?void 0:Q.window)===null||X===void 0?void 0:X.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(R(this.auth,"popup-closed-by-user"))},8000);return}this.pollId=window.setTimeout(Z,P9.get())};Z()}}p.currentPopupAction=null;var N9="pendingRedirect",gZ=new Map;class c6 extends u0{constructor(Z,Q,X=!1){super(Z,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],Q,void 0,X);this.eventId=null}async execute(){let Z=gZ.get(this.auth._key());if(!Z){try{let X=await j9(this.resolver,this.auth)?await super.execute():null;Z=()=>Promise.resolve(X)}catch(Q){Z=()=>Promise.reject(Q)}gZ.set(this.auth._key(),Z)}if(!this.bypassAuthState)gZ.set(this.auth._key(),()=>Promise.resolve(null));return Z()}async onAuthEvent(Z){if(Z.type==="signInViaRedirect")return super.onAuthEvent(Z);else if(Z.type==="unknown"){this.resolve(null);return}if(Z.eventId){let Q=await this.auth._redirectUserForId(Z.eventId);if(Q)return this.user=Q,super.onAuthEvent(Z);else this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j9(Z,Q){let X=A9(Q),J=R9(Z);if(!await J._isAvailable())return!1;let G=await J._get(X)==="true";return await J._remove(X),G}function S9(Z,Q){gZ.set(Z._key(),Q)}function R9(Z){return f(Z._redirectPersistence)}function A9(Z){return fZ(N9,Z.config.apiKey,Z.name)}async function L9(Z,Q,X=!1){if(j(Z.app))return Promise.reject(i(Z));let J=t(Z),G=d6(J,Q),Y=await new c6(J,G,X).execute();if(Y&&!X)delete Y.user._redirectEventId,await J._persistUserIfCurrent(Y.user),await J._setRedirectUser(null,Q);return Y}var C9=600000;class l6{constructor(Z){this.auth=Z,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(Z){if(this.consumers.add(Z),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,Z))this.sendToConsumer(this.queuedRedirectEvent,Z),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null}unregisterConsumer(Z){this.consumers.delete(Z)}onEvent(Z){if(this.hasEventBeenHandled(Z))return!1;let Q=!1;if(this.consumers.forEach((X)=>{if(this.isEventForConsumer(Z,X))Q=!0,this.sendToConsumer(Z,X),this.saveEventToCache(Z)}),this.hasHandledPotentialRedirect||!T9(Z))return Q;if(this.hasHandledPotentialRedirect=!0,!Q)this.queuedRedirectEvent=Z,Q=!0;return Q}sendToConsumer(Z,Q){var X;if(Z.error&&!u6(Z)){let J=((X=Z.error.code)===null||X===void 0?void 0:X.split("auth/")[1])||"internal-error";Q.onError(R(this.auth,J))}else Q.onAuthEvent(Z)}isEventForConsumer(Z,Q){let X=Q.eventId===null||!!Z.eventId&&Z.eventId===Q.eventId;return Q.filter.includes(Z.type)&&X}hasEventBeenHandled(Z){if(Date.now()-this.lastProcessedEventTime>=C9)this.cachedEventUids.clear();return this.cachedEventUids.has(nQ(Z))}saveEventToCache(Z){this.cachedEventUids.add(nQ(Z)),this.lastProcessedEventTime=Date.now()}}function nQ(Z){return[Z.type,Z.eventId,Z.sessionId,Z.tenantId].filter((Q)=>Q).join("-")}function u6({type:Z,error:Q}){return Z==="unknown"&&(Q===null||Q===void 0?void 0:Q.code)==="auth/no-auth-event"}function T9(Z){switch(Z.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u6(Z);default:return!1}}async function E9(Z,Q={}){return M(Z,"GET","/v1/projects",Q)}var x9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I9=/^https?/;async function y9(Z){if(Z.config.emulator)return;let{authorizedDomains:Q}=await E9(Z);for(let X of Q)try{if(k9(X))return}catch(J){}O(Z,"unauthorized-domain")}function k9(Z){let Q=R0(),{protocol:X,hostname:J}=new URL(Q);if(Z.startsWith("chrome-extension://")){let Y=new URL(Z);if(Y.hostname===""&&J==="")return X==="chrome-extension:"&&Z.replace("chrome-extension://","")===Q.replace("chrome-extension://","");return X==="chrome-extension:"&&Y.hostname===J}if(!I9.test(X))return!1;if(x9.test(Z))return J===Z;let G=Z.replace(/\./g,"\\.");return new RegExp("^(.+\\."+G+"|"+G+")$","i").test(J)}var _9=new zZ(30000,60000);function aQ(){let Z=C().___jsl;if(Z===null||Z===void 0?void 0:Z.H){for(let Q of Object.keys(Z.H))if(Z.H[Q].r=Z.H[Q].r||[],Z.H[Q].L=Z.H[Q].L||[],Z.H[Q].r=[...Z.H[Q].L],Z.CP)for(let X=0;X<Z.CP.length;X++)Z.CP[X]=null}}function f9(Z){return new Promise((Q,X)=>{var J,G,K;function Y(){aQ(),gapi.load("gapi.iframes",{callback:()=>{Q(gapi.iframes.getContext())},ontimeout:()=>{aQ(),X(R(Z,"network-request-failed"))},timeout:_9.get()})}if((G=(J=C().gapi)===null||J===void 0?void 0:J.iframes)===null||G===void 0?void 0:G.Iframe)Q(gapi.iframes.getContext());else if((K=C().gapi)===null||K===void 0?void 0:K.load)Y();else{let W=A6("iframefcb");return C()[W]=()=>{if(gapi.load)Y();else X(R(Z,"network-request-failed"))},R6(`${y8()}?onload=${W}`).catch(($)=>X($))}}).catch((Q)=>{throw bZ=null,Q})}var bZ=null;function h9(Z){return bZ=bZ||f9(Z),bZ}var g9=new zZ(5000,15000),b9="__/auth/iframe",m9="emulator/auth/iframe",v9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},d9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c9(Z){let Q=Z.config;H(Q.authDomain,Z,"auth-domain-config-required");let X=Q.emulator?I0(Q,m9):`https://${Z.config.authDomain}/${b9}`,J={apiKey:Q.apiKey,appName:Z.name,v:KZ},G=d9.get(Z.config.apiHost);if(G)J.eid=G;let K=Z._getFrameworks();if(K.length)J.fw=K.join(",");return`${X}?${QZ(J).slice(1)}`}async function l9(Z){let Q=await h9(Z),X=C().gapi;return H(X,Z,"internal-error"),Q.open({where:document.body,url:c9(Z),messageHandlersFilter:X.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v9,dontclear:!0},(J)=>new Promise(async(G,K)=>{await J.restyle({setHideOnLeave:!1});let Y=R(Z,"network-request-failed"),W=C().setTimeout(()=>{K(Y)},g9.get());function $(){C().clearTimeout(W),G(J)}J.ping($).then($,()=>{K(Y)})}))}var u9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p9=500,i9=600,s9="_blank",o9="http://localhost";class T0{constructor(Z){this.window=Z,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Z){}}}function n9(Z,Q,X,J=p9,G=i9){let K=Math.max((window.screen.availHeight-G)/2,0).toString(),Y=Math.max((window.screen.availWidth-J)/2,0).toString(),W="",$=Object.assign(Object.assign({},u9),{width:J.toString(),height:G.toString(),top:K,left:Y}),U=w().toLowerCase();if(X)W=F6(U)?s9:X;if(V6(U))Q=Q||o9,$.scrollbars="yes";let V=Object.entries($).reduce((z,[q,P])=>`${z}${q}=${P},`,"");if(L8(U)&&W!=="_self")return a9(Q||"",W),new T0(null);let B=window.open(Q||"",W,V);H(B,Z,"popup-blocked");try{B.focus()}catch(z){}return new T0(B)}function a9(Z,Q){let X=document.createElement("a");X.href=Z,X.target=Q;let J=document.createEvent("MouseEvent");J.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),X.dispatchEvent(J)}var t9="__/auth/handler",r9="emulator/auth/handler",e9=encodeURIComponent("fac");async function tQ(Z,Q,X,J,G,K){H(Z.config.authDomain,Z,"auth-domain-config-required"),H(Z.config.apiKey,Z,"invalid-api-key");let Y={apiKey:Z.config.apiKey,appName:Z.name,authType:X,redirectUrl:J,v:KZ,eventId:G};if(Q instanceof oZ){if(Q.setDefaultLanguage(Z.languageCode),Y.providerId=Q.providerId||"",!FQ(Q.getCustomParameters()))Y.customParameters=JSON.stringify(Q.getCustomParameters());for(let[V,B]of Object.entries(K||{}))Y[V]=B}if(Q instanceof r){let V=Q.getScopes().filter((B)=>B!=="");if(V.length>0)Y.scopes=V.join(",")}if(Z.tenantId)Y.tid=Z.tenantId;let W=Y;for(let V of Object.keys(W))if(W[V]===void 0)delete W[V];let $=await Z._getAppCheckToken(),U=$?`#${e9}=${encodeURIComponent($)}`:"";return`${ZJ(Z)}?${QZ(W).slice(1)}${U}`}function ZJ({config:Z}){if(!Z.emulator)return`https://${Z.authDomain}/${t9}`;return I0(Z,r9)}var S0="webStorageSupport";class p6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d0,this._completeRedirectFn=L9,this._overrideRedirectResult=S9}async _openPopup(Z,Q,X,J){var G;h((G=this.eventManagers[Z._key()])===null||G===void 0?void 0:G.manager,"_initialize() not called before _openPopup()");let K=await tQ(Z,Q,X,R0(),J);return n9(Z,K,c0())}async _openRedirect(Z,Q,X,J){await this._originValidation(Z);let G=await tQ(Z,Q,X,R0(),J);return K9(G),new Promise(()=>{})}_initialize(Z){let Q=Z._key();if(this.eventManagers[Q]){let{manager:J,promise:G}=this.eventManagers[Q];if(J)return Promise.resolve(J);else return h(G,"If manager is not set, promise should be"),G}let X=this.initAndGetManager(Z);return this.eventManagers[Q]={promise:X},X.catch(()=>{delete this.eventManagers[Q]}),X}async initAndGetManager(Z){let Q=await l9(Z),X=new l6(Z);return Q.register("authEvent",(J)=>{return H(J===null||J===void 0?void 0:J.authEvent,Z,"invalid-auth-event"),{status:X.onEvent(J.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[Z._key()]={manager:X},this.iframes[Z._key()]=Q,X}_isIframeWebStorageSupported(Z,Q){this.iframes[Z._key()].send(S0,{type:S0},(J)=>{var G;let K=(G=J===null||J===void 0?void 0:J[0])===null||G===void 0?void 0:G[S0];if(K!==void 0)Q(!!K);O(Z,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(Z){let Q=Z._key();if(!this.originValidationPromises[Q])this.originValidationPromises[Q]=y9(Z);return this.originValidationPromises[Q]}get _shouldInitProactively(){return O6()||B6()||h0()}}var i6=p6;class i0{constructor(Z){this.factorId=Z}_process(Z,Q,X){switch(Q.type){case"enroll":return this._finalizeEnroll(Z,Q.credential,X);case"signin":return this._finalizeSignIn(Z,Q.credential);default:return L("unexpected MultiFactorSessionType")}}}class s0 extends i0{constructor(Z){super("phone");this.credential=Z}static _fromCredential(Z){return new s0(Z)}_finalizeEnroll(Z,Q,X){return r8(Z,{idToken:Q,displayName:X,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(Z,Q){return F9(Z,{mfaPendingCredential:Q,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class o0{constructor(){}static assertion(Z){return s0._fromCredential(Z)}}o0.FACTOR_ID="phone";class n0{static assertionForEnrollment(Z,Q){return LZ._fromSecret(Z,Q)}static assertionForSignIn(Z,Q){return LZ._fromEnrollmentId(Z,Q)}static async generateSecret(Z){var Q;let X=Z;H(typeof((Q=X.user)===null||Q===void 0?void 0:Q.auth)!=="undefined","internal-error");let J=await e8(X.user.auth,{idToken:X.credential,totpEnrollmentInfo:{}});return rZ._fromStartTotpMfaEnrollmentResponse(J,X.user.auth)}}n0.FACTOR_ID="totp";class LZ extends i0{constructor(Z,Q,X){super("totp");this.otp=Z,this.enrollmentId=Q,this.secret=X}static _fromSecret(Z,Q){return new LZ(Q,void 0,Z)}static _fromEnrollmentId(Z,Q){return new LZ(Q,Z)}async _finalizeEnroll(Z,Q,X){return H(typeof this.secret!=="undefined",Z,"argument-error"),Z9(Z,{idToken:Q,displayName:X,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(Z,Q){H(this.enrollmentId!==void 0&&this.otp!==void 0,Z,"argument-error");let X={verificationCode:this.otp};return q9(Z,{mfaPendingCredential:Q,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:X})}}class rZ{constructor(Z,Q,X,J,G,K,Y){this.sessionInfo=K,this.auth=Y,this.secretKey=Z,this.hashingAlgorithm=Q,this.codeLength=X,this.codeIntervalSeconds=J,this.enrollmentCompletionDeadline=G}static _fromStartTotpMfaEnrollmentResponse(Z,Q){return new rZ(Z.totpSessionInfo.sharedSecretKey,Z.totpSessionInfo.hashingAlgorithm,Z.totpSessionInfo.verificationCodeLength,Z.totpSessionInfo.periodSec,new Date(Z.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),Z.totpSessionInfo.sessionInfo,Q)}_makeTotpVerificationInfo(Z){return{sessionInfo:this.sessionInfo,verificationCode:Z}}generateQrCodeUrl(Z,Q){var X;let J=!1;if(kZ(Z)||kZ(Q))J=!0;if(J){if(kZ(Z))Z=((X=this.auth.currentUser)===null||X===void 0?void 0:X.email)||"unknownuser";if(kZ(Q))Q=this.auth.name}return`otpauth://totp/${Q}:${Z}?secret=${this.secretKey}&issuer=${Q}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function kZ(Z){return typeof Z==="undefined"||(Z===null||Z===void 0?void 0:Z.length)===0}var rQ="@firebase/auth",eQ="1.10.6";class s6{constructor(Z){this.auth=Z,this.internalListeners=new Map}getUid(){var Z;return this.assertAuthConfigured(),((Z=this.auth.currentUser)===null||Z===void 0?void 0:Z.uid)||null}async getToken(Z){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(Z)}}addAuthTokenListener(Z){if(this.assertAuthConfigured(),this.internalListeners.has(Z))return;let Q=this.auth.onIdTokenChanged((X)=>{Z((X===null||X===void 0?void 0:X.stsTokenManager.accessToken)||null)});this.internalListeners.set(Z,Q),this.updateProactiveRefresh()}removeAuthTokenListener(Z){this.assertAuthConfigured();let Q=this.internalListeners.get(Z);if(!Q)return;this.internalListeners.delete(Z),Q(),this.updateProactiveRefresh()}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){if(this.internalListeners.size>0)this.auth._startProactiveRefresh();else this.auth._stopProactiveRefresh()}}function QJ(Z){switch(Z){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XJ(Z){GZ(new E("auth",(Q,{options:X})=>{let J=Q.getProvider("app").getImmediate(),G=Q.getProvider("heartbeat"),K=Q.getProvider("app-check-internal"),{apiKey:Y,authDomain:W}=J.options;H(Y&&!Y.includes(":"),"invalid-api-key",{appName:J.name});let $={apiKey:Y,authDomain:W,clientPlatform:Z,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P6(Z)},U=new S6(J,G,K,$);return f8(U,X),U},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Q,X,J)=>{Q.getProvider("auth-internal").initialize()})),GZ(new E("auth-internal",(Q)=>{let X=t(Q.getProvider("auth").getImmediate());return((J)=>new s6(J))(X)},"PRIVATE").setInstantiationMode("EXPLICIT")),c(rQ,eQ,QJ(Z)),c(rQ,eQ,"esm2017")}var JJ=300,GJ=K0("authIdTokenMaxAge")||JJ,Z6=null,KJ=(Z)=>async(Q)=>{let X=Q&&await Q.getIdTokenResult(),J=X&&(new Date().getTime()-Date.parse(X.issuedAtTime))/1000;if(J&&J>GJ)return;let G=X===null||X===void 0?void 0:X.token;if(Z6===G)return;Z6=G,await fetch(Z,{method:G?"POST":"DELETE",headers:G?{Authorization:`Bearer ${G}`}:{}})};function a0(Z=yQ()){let Q=w0(Z,"auth");if(Q.isInitialized())return Q.getImmediate();let X=T6(Z,{popupRedirectResolver:i6,persistence:[v6,_6,d0]}),J=K0("authTokenSyncURL");if(J&&typeof isSecureContext==="boolean"&&isSecureContext){let K=new URL(J,location.origin);if(location.origin===K.origin){let Y=KJ(K.toString());k6(X,Y,()=>Y(X.currentUser)),y6(X,(W)=>Y(W))}}let G=GQ("auth");if(G)E6(X,`http://${G}`);return X}function YJ(){var Z,Q;return(Q=(Z=document.getElementsByTagName("head"))===null||Z===void 0?void 0:Z[0])!==null&&Q!==void 0?Q:document}x8({loadJS(Z){return new Promise((Q,X)=>{let J=document.createElement("script");J.setAttribute("src",Z),J.onload=Q,J.onerror=(G)=>{let K=R("internal-error");K.customData=G,X(K)},J.type="text/javascript",J.charset="UTF-8",YJ().appendChild(J)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XJ("Browser");var WJ={apiKey:"AIzaSyD_TLzPJT3IxX59b_7raOyLka11kLYGYg0",authDomain:"som-clingen-projects.firebaseapp.com",projectId:"som-clingen-projects",storageBucket:"som-clingen-projects.firebasestorage.app",messagingSenderId:"653902215137",appId:"1:653902215137:web:d054a272e88ab9ca2644a0"},$J=M0(WJ);function UJ(){return document.cookie.split("; ").find((Z)=>Z.startsWith("csrftoken="))?.split("=")[1]}async function HJ(Z){let Q=a0($J),X=new o(Z);return(await p0(Q,X)).user.getIdToken()}async function zJ(Z){let X={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":UJ()},body:JSON.stringify({idToken:Z})};return await(await fetch("/firebase/verify",X)).json()}async function o6(Z){try{let Q=await HJ(Z),X=await zJ(Q);if(X.valid)window.location.href="/";else window.alert(X.message)}catch(Q){let X=`Something went wrong trying to log you in with ${Z}.

`;X+=`Error Code:
${Q.code}

`,X+=`Error Message:
${Q.message}`,window.alert(X)}}async function VJ(){await o6("google.com")}async function BJ(){await o6("microsoft.com")}var FJ=document.getElementById("log-in-with-google-button");FJ.addEventListener("click",VJ);var qJ=document.getElementById("log-in-with-microsoft-button");qJ.addEventListener("click",BJ);
