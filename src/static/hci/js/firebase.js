var HQ=()=>{return};var UQ=function(Z){let Q=[],X=0;for(let J=0;J<Z.length;J++){let G=Z.charCodeAt(J);if(G<128)Q[X++]=G;else if(G<2048)Q[X++]=G>>6|192,Q[X++]=G&63|128;else if((G&64512)===55296&&J+1<Z.length&&(Z.charCodeAt(J+1)&64512)===56320)G=65536+((G&1023)<<10)+(Z.charCodeAt(++J)&1023),Q[X++]=G>>18|240,Q[X++]=G>>12&63|128,Q[X++]=G>>6&63|128,Q[X++]=G&63|128;else Q[X++]=G>>12|224,Q[X++]=G>>6&63|128,Q[X++]=G&63|128}return Q},WX=function(Z){let Q=[],X=0,J=0;while(X<Z.length){let G=Z[X++];if(G<128)Q[J++]=String.fromCharCode(G);else if(G>191&&G<224){let K=Z[X++];Q[J++]=String.fromCharCode((G&31)<<6|K&63)}else if(G>239&&G<365){let K=Z[X++],Y=Z[X++],$=Z[X++],H=((G&7)<<18|(K&63)<<12|(Y&63)<<6|$&63)-65536;Q[J++]=String.fromCharCode(55296+(H>>10)),Q[J++]=String.fromCharCode(56320+(H&1023))}else{let K=Z[X++],Y=Z[X++];Q[J++]=String.fromCharCode((G&15)<<12|(K&63)<<6|Y&63)}}return Q.join("")},VQ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob==="function",encodeByteArray(Z,Q){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();let X=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,J=[];for(let G=0;G<Z.length;G+=3){let K=Z[G],Y=G+1<Z.length,$=Y?Z[G+1]:0,H=G+2<Z.length,z=H?Z[G+2]:0,U=K>>2,B=(K&3)<<4|$>>4,V=($&15)<<2|z>>6,D=z&63;if(!H){if(D=64,!Y)V=64}J.push(X[U],X[B],X[V],X[D])}return J.join("")},encodeString(Z,Q){if(this.HAS_NATIVE_SUPPORT&&!Q)return btoa(Z);return this.encodeByteArray(UQ(Z),Q)},decodeString(Z,Q){if(this.HAS_NATIVE_SUPPORT&&!Q)return atob(Z);return WX(this.decodeStringToByteArray(Z,Q))},decodeStringToByteArray(Z,Q){this.init_();let X=Q?this.charToByteMapWebSafe_:this.charToByteMap_,J=[];for(let G=0;G<Z.length;){let K=X[Z.charAt(G++)],$=G<Z.length?X[Z.charAt(G)]:0;++G;let z=G<Z.length?X[Z.charAt(G)]:64;++G;let B=G<Z.length?X[Z.charAt(G)]:64;if(++G,K==null||$==null||z==null||B==null)throw new BQ;let V=K<<2|$>>4;if(J.push(V),z!==64){let D=$<<4&240|z>>2;if(J.push(D),B!==64){let j=z<<6&192|B;J.push(j)}}}return J},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)if(this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length)this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z}}};class BQ extends Error{constructor(){super(...arguments);this.name="DecodeBase64StringError"}}var UX=function(Z){let Q=UQ(Z);return VQ.encodeByteArray(Q,!0)},H0=function(Z){return UX(Z).replace(/\./g,"")},yZ=function(Z){try{return VQ.decodeString(Z,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function VX(){if(typeof self!=="undefined")return self;if(typeof window!=="undefined")return window;if(typeof global!=="undefined")return global;throw new Error("Unable to locate global object.")}var BX=()=>VX().__FIREBASE_DEFAULTS__,FX=()=>{if(typeof process==="undefined"||typeof process.env==="undefined")return;let Z=process.env.__FIREBASE_DEFAULTS__;if(Z)return JSON.parse(Z)},qX=()=>{if(typeof document==="undefined")return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(X){return}let Q=Z&&yZ(Z[1]);return Q&&JSON.parse(Q)},z0=()=>{try{return HQ()||BX()||FX()||qX()}catch(Z){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`);return}},FQ=(Z)=>{var Q,X;return(X=(Q=z0())===null||Q===void 0?void 0:Q.emulatorHosts)===null||X===void 0?void 0:X[Z]};var W0=()=>{var Z;return(Z=z0())===null||Z===void 0?void 0:Z.config},U0=(Z)=>{var Q;return(Q=z0())===null||Q===void 0?void 0:Q[`_${Z}`]};class V0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,Q)=>{this.resolve=Z,this.reject=Q})}wrapCallback(Z){return(Q,X)=>{if(Q)this.reject(Q);else this.resolve(X);if(typeof Z==="function")if(this.promise.catch(()=>{}),Z.length===1)Z(Q);else Z(Q,X)}}}function _Z(Z){return Z.endsWith(".cloudworkstations.dev")}async function qQ(Z){return(await fetch(Z,{credentials:"include"})).ok}var PZ={};function DX(){let Z={prod:[],emulator:[]};for(let Q of Object.keys(PZ))if(PZ[Q])Z.emulator.push(Q);else Z.prod.push(Q);return Z}function wX(Z){let Q=document.getElementById(Z),X=!1;if(!Q)Q=document.createElement("div"),Q.setAttribute("id",Z),X=!0;return{created:X,element:Q}}var zQ=!1;function DQ(Z,Q){if(typeof window==="undefined"||typeof document==="undefined"||!_Z(window.location.host)||PZ[Z]===Q||PZ[Z]||zQ)return;PZ[Z]=Q;function X(V){return`__firebase__banner__${V}`}let J="__firebase__banner",K=DX().prod.length>0;function Y(){let V=document.getElementById(J);if(V)V.remove()}function $(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function H(V,D){V.setAttribute("width","24"),V.setAttribute("id",D),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function z(){let V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{zQ=!0,Y()},V}function U(V,D){V.setAttribute("id",D),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function B(){let V=wX(J),D=X("text"),j=document.getElementById(D)||document.createElement("span"),GZ=X("learnmore"),MZ=document.getElementById(GZ)||document.createElement("a"),SZ=X("preprendIcon"),c=document.getElementById(SZ)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){let KZ=V.element;$(KZ),U(MZ,GZ);let IZ=z();H(c,SZ),KZ.append(c,j,MZ,IZ),document.body.appendChild(KZ)}if(K)j.innerText="Preview backend disconnected.",c.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`;else c.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace.";j.setAttribute("id",D)}if(document.readyState==="loading")window.addEventListener("DOMContentLoaded",B);else B()}function O(){if(typeof navigator!=="undefined"&&typeof navigator.userAgent==="string")return navigator.userAgent;else return""}function wQ(){return typeof window!=="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O())}function OQ(){return typeof navigator!=="undefined"&&navigator.userAgent==="Cloudflare-Workers"}function NQ(){let Z=typeof chrome==="object"?chrome.runtime:typeof browser==="object"?browser.runtime:void 0;return typeof Z==="object"&&Z.id!==void 0}function MQ(){return typeof navigator==="object"&&navigator.product==="ReactNative"}function SQ(){let Z=O();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function PQ(){try{return typeof indexedDB==="object"}catch(Z){return!1}}function jQ(){return new Promise((Z,Q)=>{try{let X=!0,J="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(J);G.onsuccess=()=>{if(G.result.close(),!X)self.indexedDB.deleteDatabase(J);Z(!0)},G.onupgradeneeded=()=>{X=!1},G.onerror=()=>{var K;Q(((K=G.error)===null||K===void 0?void 0:K.message)||"")}}catch(X){Q(X)}})}var OX="FirebaseError";class R extends Error{constructor(Z,Q,X){super(Q);if(this.code=Z,this.customData=X,this.name=OX,Object.setPrototypeOf(this,R.prototype),Error.captureStackTrace)Error.captureStackTrace(this,l.prototype.create)}}class l{constructor(Z,Q,X){this.service=Z,this.serviceName=Q,this.errors=X}create(Z,...Q){let X=Q[0]||{},J=`${this.service}/${Z}`,G=this.errors[Z],K=G?NX(G,X):"Error",Y=`${this.serviceName}: ${K} (${J}).`;return new R(J,Y,X)}}function NX(Z,Q){return Z.replace(MX,(X,J)=>{let G=Q[J];return G!=null?String(G):`<${J}?>`})}var MX=/\{\$([^}]+)}/g;function RQ(Z){for(let Q in Z)if(Object.prototype.hasOwnProperty.call(Z,Q))return!1;return!0}function u(Z,Q){if(Z===Q)return!0;let X=Object.keys(Z),J=Object.keys(Q);for(let G of X){if(!J.includes(G))return!1;let K=Z[G],Y=Q[G];if(WQ(K)&&WQ(Y)){if(!u(K,Y))return!1}else if(K!==Y)return!1}for(let G of J)if(!X.includes(G))return!1;return!0}function WQ(Z){return Z!==null&&typeof Z==="object"}function YZ(Z){let Q=[];for(let[X,J]of Object.entries(Z))if(Array.isArray(J))J.forEach((G)=>{Q.push(encodeURIComponent(X)+"="+encodeURIComponent(G))});else Q.push(encodeURIComponent(X)+"="+encodeURIComponent(J));return Q.length?"&"+Q.join("&"):""}function $Z(Z){let Q={};return Z.replace(/^\?/,"").split("&").forEach((J)=>{if(J){let[G,K]=J.split("=");Q[decodeURIComponent(G)]=decodeURIComponent(K)}}),Q}function HZ(Z){let Q=Z.indexOf("?");if(!Q)return"";let X=Z.indexOf("#",Q);return Z.substring(Q,X>0?X:void 0)}function LQ(Z,Q){let X=new CQ(Z,Q);return X.subscribe.bind(X)}class CQ{constructor(Z,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{Z(this)}).catch((X)=>{this.error(X)})}next(Z){this.forEachObserver((Q)=>{Q.next(Z)})}error(Z){this.forEachObserver((Q)=>{Q.error(Z)}),this.close(Z)}complete(){this.forEachObserver((Z)=>{Z.complete()}),this.close()}subscribe(Z,Q,X){let J;if(Z===void 0&&Q===void 0&&X===void 0)throw new Error("Missing Observer.");if(SX(Z,["next","error","complete"]))J=Z;else J={next:Z,error:Q,complete:X};if(J.next===void 0)J.next=$0;if(J.error===void 0)J.error=$0;if(J.complete===void 0)J.complete=$0;let G=this.unsubscribeOne.bind(this,this.observers.length);if(this.finalized)this.task.then(()=>{try{if(this.finalError)J.error(this.finalError);else J.complete()}catch(K){}return});return this.observers.push(J),G}unsubscribeOne(Z){if(this.observers===void 0||this.observers[Z]===void 0)return;if(delete this.observers[Z],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0)this.onNoObservers(this)}forEachObserver(Z){if(this.finalized)return;for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,Z)}sendOne(Z,Q){this.task.then(()=>{if(this.observers!==void 0&&this.observers[Z]!==void 0)try{Q(this.observers[Z])}catch(X){if(typeof console!=="undefined"&&console.error)console.error(X)}})}close(Z){if(this.finalized)return;if(this.finalized=!0,Z!==void 0)this.finalError=Z;this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0})}}function SX(Z,Q){if(typeof Z!=="object"||Z===null)return!1;for(let X of Q)if(X in Z&&typeof Z[X]==="function")return!0;return!1}function $0(){}function S(Z){if(Z&&Z._delegate)return Z._delegate;else return Z}class y{constructor(Z,Q,X){this.name=Z,this.instanceFactory=Q,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}var o="[DEFAULT]";class AQ{constructor(Z,Q){this.name=Z,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){let Q=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(Q)){let X=new V0;if(this.instancesDeferred.set(Q,X),this.isInitialized(Q)||this.shouldAutoInitialize())try{let J=this.getOrInitializeService({instanceIdentifier:Q});if(J)X.resolve(J)}catch(J){}}return this.instancesDeferred.get(Q).promise}getImmediate(Z){var Q;let X=this.normalizeInstanceIdentifier(Z===null||Z===void 0?void 0:Z.identifier),J=(Q=Z===null||Z===void 0?void 0:Z.optional)!==null&&Q!==void 0?Q:!1;if(this.isInitialized(X)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:X})}catch(G){if(J)return null;else throw G}else if(J)return null;else throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,!this.shouldAutoInitialize())return;if(jX(Z))try{this.getOrInitializeService({instanceIdentifier:o})}catch(Q){}for(let[Q,X]of this.instancesDeferred.entries()){let J=this.normalizeInstanceIdentifier(Q);try{let G=this.getOrInitializeService({instanceIdentifier:J});X.resolve(G)}catch(G){}}}clearInstance(Z=o){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}async delete(){let Z=Array.from(this.instances.values());await Promise.all([...Z.filter((Q)=>("INTERNAL"in Q)).map((Q)=>Q.INTERNAL.delete()),...Z.filter((Q)=>("_delete"in Q)).map((Q)=>Q._delete())])}isComponentSet(){return this.component!=null}isInitialized(Z=o){return this.instances.has(Z)}getOptions(Z=o){return this.instancesOptions.get(Z)||{}}initialize(Z={}){let{options:Q={}}=Z,X=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let J=this.getOrInitializeService({instanceIdentifier:X,options:Q});for(let[G,K]of this.instancesDeferred.entries()){let Y=this.normalizeInstanceIdentifier(G);if(X===Y)K.resolve(J)}return J}onInit(Z,Q){var X;let J=this.normalizeInstanceIdentifier(Q),G=(X=this.onInitCallbacks.get(J))!==null&&X!==void 0?X:new Set;G.add(Z),this.onInitCallbacks.set(J,G);let K=this.instances.get(J);if(K)Z(K,J);return()=>{G.delete(Z)}}invokeOnInitCallbacks(Z,Q){let X=this.onInitCallbacks.get(Q);if(!X)return;for(let J of X)try{J(Z,Q)}catch(G){}}getOrInitializeService({instanceIdentifier:Z,options:Q={}}){let X=this.instances.get(Z);if(!X&&this.component){if(X=this.component.instanceFactory(this.container,{instanceIdentifier:PX(Z),options:Q}),this.instances.set(Z,X),this.instancesOptions.set(Z,Q),this.invokeOnInitCallbacks(X,Z),this.component.onInstanceCreated)try{this.component.onInstanceCreated(this.container,Z,X)}catch(J){}}return X||null}normalizeInstanceIdentifier(Z=o){if(this.component)return this.component.multipleInstances?Z:o;else return Z}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PX(Z){return Z===o?void 0:Z}function jX(Z){return Z.instantiationMode==="EAGER"}class B0{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){let Q=this.getProvider(Z.name);if(Q.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);Q.setComponent(Z)}addOrOverwriteComponent(Z){if(this.getProvider(Z.name).isComponentSet())this.providers.delete(Z.name);this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);let Q=new AQ(Z,this);return this.providers.set(Z,Q),Q}getProviders(){return Array.from(this.providers.values())}}var RX=[],F;(function(Z){Z[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT"})(F||(F={}));var LX={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},CX=F.INFO,AX={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},xX=(Z,Q,...X)=>{if(Q<Z.logLevel)return;let J=new Date().toISOString(),G=AX[Q];if(G)console[G](`[${J}]  ${Z.name}:`,...X);else throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`)};class jZ{constructor(Z){this.name=Z,this._logLevel=CX,this._logHandler=xX,this._userLogHandler=null,RX.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in F))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel=typeof Z==="string"?LX[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if(typeof Z!=="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...Z),this._logHandler(this,F.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...Z),this._logHandler(this,F.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,F.INFO,...Z),this._logHandler(this,F.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,F.WARN,...Z),this._logHandler(this,F.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...Z),this._logHandler(this,F.ERROR,...Z)}}var TX=(Z,Q)=>Q.some((X)=>Z instanceof X),xQ,TQ;function EX(){return xQ||(xQ=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IX(){return TQ||(TQ=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var EQ=new WeakMap,q0=new WeakMap,IQ=new WeakMap,F0=new WeakMap,w0=new WeakMap;function yX(Z){let Q=new Promise((X,J)=>{let G=()=>{Z.removeEventListener("success",K),Z.removeEventListener("error",Y)},K=()=>{X(A(Z.result)),G()},Y=()=>{J(Z.error),G()};Z.addEventListener("success",K),Z.addEventListener("error",Y)});return Q.then((X)=>{if(X instanceof IDBCursor)EQ.set(X,Z)}).catch(()=>{}),w0.set(Q,Z),Q}function _X(Z){if(q0.has(Z))return;let Q=new Promise((X,J)=>{let G=()=>{Z.removeEventListener("complete",K),Z.removeEventListener("error",Y),Z.removeEventListener("abort",Y)},K=()=>{X(),G()},Y=()=>{J(Z.error||new DOMException("AbortError","AbortError")),G()};Z.addEventListener("complete",K),Z.addEventListener("error",Y),Z.addEventListener("abort",Y)});q0.set(Z,Q)}var D0={get(Z,Q,X){if(Z instanceof IDBTransaction){if(Q==="done")return q0.get(Z);if(Q==="objectStoreNames")return Z.objectStoreNames||IQ.get(Z);if(Q==="store")return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return A(Z[Q])},set(Z,Q,X){return Z[Q]=X,!0},has(Z,Q){if(Z instanceof IDBTransaction&&(Q==="done"||Q==="store"))return!0;return Q in Z}};function yQ(Z){D0=Z(D0)}function kX(Z){if(Z===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype))return function(Q,...X){let J=Z.call(kZ(this),Q,...X);return IQ.set(J,Q.sort?Q.sort():[Q]),A(J)};if(IX().includes(Z))return function(...Q){return Z.apply(kZ(this),Q),A(EQ.get(this))};return function(...Q){return A(Z.apply(kZ(this),Q))}}function fX(Z){if(typeof Z==="function")return kX(Z);if(Z instanceof IDBTransaction)_X(Z);if(TX(Z,EX()))return new Proxy(Z,D0);return Z}function A(Z){if(Z instanceof IDBRequest)return yX(Z);if(F0.has(Z))return F0.get(Z);let Q=fX(Z);if(Q!==Z)F0.set(Z,Q),w0.set(Q,Z);return Q}var kZ=(Z)=>w0.get(Z);function kQ(Z,Q,{blocked:X,upgrade:J,blocking:G,terminated:K}={}){let Y=indexedDB.open(Z,Q),$=A(Y);if(J)Y.addEventListener("upgradeneeded",(H)=>{J(A(Y.result),H.oldVersion,H.newVersion,A(Y.transaction),H)});if(X)Y.addEventListener("blocked",(H)=>X(H.oldVersion,H.newVersion,H));return $.then((H)=>{if(K)H.addEventListener("close",()=>K());if(G)H.addEventListener("versionchange",(z)=>G(z.oldVersion,z.newVersion,z))}).catch(()=>{}),$}var hX=["get","getKey","getAll","getAllKeys","count"],bX=["put","add","delete","clear"],O0=new Map;function _Q(Z,Q){if(!(Z instanceof IDBDatabase&&!(Q in Z)&&typeof Q==="string"))return;if(O0.get(Q))return O0.get(Q);let X=Q.replace(/FromIndex$/,""),J=Q!==X,G=bX.includes(X);if(!(X in(J?IDBIndex:IDBObjectStore).prototype)||!(G||hX.includes(X)))return;let K=async function(Y,...$){let H=this.transaction(Y,G?"readwrite":"readonly"),z=H.store;if(J)z=z.index($.shift());return(await Promise.all([z[X](...$),G&&H.done]))[0]};return O0.set(Q,K),K}yQ((Z)=>({...Z,get:(Q,X,J)=>_Q(Q,X)||Z.get(Q,X,J),has:(Q,X)=>!!_Q(Q,X)||Z.has(Q,X)}));class vQ{constructor(Z){this.container=Z}getPlatformInfoString(){return this.container.getProviders().map((Q)=>{if(gX(Q)){let X=Q.getImmediate();return`${X.library}/${X.version}`}else return null}).filter((Q)=>Q).join(" ")}}function gX(Z){let Q=Z.getComponent();return(Q===null||Q===void 0?void 0:Q.type)==="VERSION"}var M0="@firebase/app",fQ="0.13.0",_=new jZ("@firebase/app"),mX="@firebase/app-compat",vX="@firebase/analytics-compat",dX="@firebase/analytics",cX="@firebase/app-check-compat",lX="@firebase/app-check",uX="@firebase/auth",pX="@firebase/auth-compat",iX="@firebase/database",sX="@firebase/data-connect",nX="@firebase/database-compat",oX="@firebase/functions",aX="@firebase/functions-compat",tX="@firebase/installations",rX="@firebase/installations-compat",eX="@firebase/messaging",Z8="@firebase/messaging-compat",Q8="@firebase/performance",X8="@firebase/performance-compat",J8="@firebase/remote-config",G8="@firebase/remote-config-compat",K8="@firebase/storage",Y8="@firebase/storage-compat",$8="@firebase/firestore",H8="@firebase/ai",z8="@firebase/firestore-compat",W8="firebase",U8="11.8.0",S0="[DEFAULT]",V8={[M0]:"fire-core",[mX]:"fire-core-compat",[dX]:"fire-analytics",[vX]:"fire-analytics-compat",[lX]:"fire-app-check",[cX]:"fire-app-check-compat",[uX]:"fire-auth",[pX]:"fire-auth-compat",[iX]:"fire-rtdb",[sX]:"fire-data-connect",[nX]:"fire-rtdb-compat",[oX]:"fire-fn",[aX]:"fire-fn-compat",[tX]:"fire-iid",[rX]:"fire-iid-compat",[eX]:"fire-fcm",[Z8]:"fire-fcm-compat",[Q8]:"fire-perf",[X8]:"fire-perf-compat",[J8]:"fire-rc",[G8]:"fire-rc-compat",[K8]:"fire-gcs",[Y8]:"fire-gcs-compat",[$8]:"fire-fst",[z8]:"fire-fst-compat",[H8]:"fire-vertex","fire-js":"fire-js",[W8]:"fire-js-all"},fZ=new Map,B8=new Map,P0=new Map;function hQ(Z,Q){try{Z.container.addComponent(Q)}catch(X){_.debug(`Component ${Q.name} failed to register with FirebaseApp ${Z.name}`,X)}}function zZ(Z){let Q=Z.name;if(P0.has(Q))return _.debug(`There were multiple attempts to register component ${Q}.`),!1;P0.set(Q,Z);for(let X of fZ.values())hQ(X,Z);for(let X of B8.values())hQ(X,Z);return!0}function j0(Z,Q){let X=Z.container.getProvider("heartbeat").getImmediate({optional:!0});if(X)X.triggerHeartbeat();return Z.container.getProvider(Q)}function M(Z){if(Z===null||Z===void 0)return!1;return Z.settings!==void 0}var F8={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}'",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["server-app-deleted"]:"Firebase Server App has been deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",["finalization-registry-not-supported"]:"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",["invalid-server-app-environment"]:"FirebaseServerApp is not for use in browser environments."},p=new l("app","Firebase",F8);class dQ{constructor(Z,Q,X){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},Q),this._name=Q.name,this._automaticDataCollectionEnabled=Q.automaticDataCollectionEnabled,this._container=X,this.container.addComponent(new y("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this.checkDestroyed(),this._automaticDataCollectionEnabled=Z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Z){this._isDeleted=Z}checkDestroyed(){if(this.isDeleted)throw p.create("app-deleted",{appName:this._name})}}var WZ=U8;function R0(Z,Q={}){let X=Z;if(typeof Q!=="object")Q={name:Q};let J=Object.assign({name:S0,automaticDataCollectionEnabled:!0},Q),G=J.name;if(typeof G!=="string"||!G)throw p.create("bad-app-name",{appName:String(G)});if(X||(X=W0()),!X)throw p.create("no-options");let K=fZ.get(G);if(K)if(u(X,K.options)&&u(J,K.config))return K;else throw p.create("duplicate-app",{appName:G});let Y=new B0(G);for(let H of P0.values())Y.addComponent(H);let $=new dQ(X,J,Y);return fZ.set(G,$),$}function cQ(Z=S0){let Q=fZ.get(Z);if(!Q&&Z===S0&&W0())return R0();if(!Q)throw p.create("no-app",{appName:Z});return Q}function i(Z,Q,X){var J;let G=(J=V8[Z])!==null&&J!==void 0?J:Z;if(X)G+=`-${X}`;let K=G.match(/\s|\//),Y=Q.match(/\s|\//);if(K||Y){let $=[`Unable to register library "${G}" with version "${Q}":`];if(K)$.push(`library name "${G}" contains illegal characters (whitespace or "/")`);if(K&&Y)$.push("and");if(Y)$.push(`version name "${Q}" contains illegal characters (whitespace or "/")`);_.warn($.join(" "));return}zZ(new y(`${G}-version`,()=>({library:G,version:Q}),"VERSION"))}var q8="firebase-heartbeat-database",D8=1,RZ="firebase-heartbeat-store",N0=null;function lQ(){if(!N0)N0=kQ(q8,D8,{upgrade:(Z,Q)=>{switch(Q){case 0:try{Z.createObjectStore(RZ)}catch(X){console.warn(X)}}}}).catch((Z)=>{throw p.create("idb-open",{originalErrorMessage:Z.message})});return N0}async function w8(Z){try{let X=(await lQ()).transaction(RZ),J=await X.objectStore(RZ).get(uQ(Z));return await X.done,J}catch(Q){if(Q instanceof R)_.warn(Q.message);else{let X=p.create("idb-get",{originalErrorMessage:Q===null||Q===void 0?void 0:Q.message});_.warn(X.message)}}}async function bQ(Z,Q){try{let J=(await lQ()).transaction(RZ,"readwrite");await J.objectStore(RZ).put(Q,uQ(Z)),await J.done}catch(X){if(X instanceof R)_.warn(X.message);else{let J=p.create("idb-set",{originalErrorMessage:X===null||X===void 0?void 0:X.message});_.warn(J.message)}}}function uQ(Z){return`${Z.name}!${Z.options.appId}`}var O8=1024,N8=30;class pQ{constructor(Z){this.container=Z,this._heartbeatsCache=null;let Q=this.container.getProvider("app").getImmediate();this._storage=new iQ(Q),this._heartbeatsCachePromise=this._storage.read().then((X)=>{return this._heartbeatsCache=X,X})}async triggerHeartbeat(){var Z,Q;try{let J=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),G=gQ();if(((Z=this._heartbeatsCache)===null||Z===void 0?void 0:Z.heartbeats)==null){if(this._heartbeatsCache=await this._heartbeatsCachePromise,((Q=this._heartbeatsCache)===null||Q===void 0?void 0:Q.heartbeats)==null)return}if(this._heartbeatsCache.lastSentHeartbeatDate===G||this._heartbeatsCache.heartbeats.some((K)=>K.date===G))return;else if(this._heartbeatsCache.heartbeats.push({date:G,agent:J}),this._heartbeatsCache.heartbeats.length>N8){let K=S8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(K,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(X){_.warn(X)}}async getHeartbeatsHeader(){var Z;try{if(this._heartbeatsCache===null)await this._heartbeatsCachePromise;if(((Z=this._heartbeatsCache)===null||Z===void 0?void 0:Z.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let Q=gQ(),{heartbeatsToSend:X,unsentEntries:J}=M8(this._heartbeatsCache.heartbeats),G=H0(JSON.stringify({version:2,heartbeats:X}));if(this._heartbeatsCache.lastSentHeartbeatDate=Q,J.length>0)this._heartbeatsCache.heartbeats=J,await this._storage.overwrite(this._heartbeatsCache);else this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);return G}catch(Q){return _.warn(Q),""}}}function gQ(){return new Date().toISOString().substring(0,10)}function M8(Z,Q=O8){let X=[],J=Z.slice();for(let G of Z){let K=X.find((Y)=>Y.agent===G.agent);if(!K){if(X.push({agent:G.agent,dates:[G.date]}),mQ(X)>Q){X.pop();break}}else if(K.dates.push(G.date),mQ(X)>Q){K.dates.pop();break}J=J.slice(1)}return{heartbeatsToSend:X,unsentEntries:J}}class iQ{constructor(Z){this.app=Z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){if(!PQ())return!1;else return jQ().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};else{let Q=await w8(this.app);if(Q===null||Q===void 0?void 0:Q.heartbeats)return Q;else return{heartbeats:[]}}}async overwrite(Z){var Q;if(!await this._canUseIndexedDBPromise)return;else{let J=await this.read();return bQ(this.app,{lastSentHeartbeatDate:(Q=Z.lastSentHeartbeatDate)!==null&&Q!==void 0?Q:J.lastSentHeartbeatDate,heartbeats:Z.heartbeats})}}async add(Z){var Q;if(!await this._canUseIndexedDBPromise)return;else{let J=await this.read();return bQ(this.app,{lastSentHeartbeatDate:(Q=Z.lastSentHeartbeatDate)!==null&&Q!==void 0?Q:J.lastSentHeartbeatDate,heartbeats:[...J.heartbeats,...Z.heartbeats]})}}}function mQ(Z){return H0(JSON.stringify({version:2,heartbeats:Z})).length}function S8(Z){if(Z.length===0)return-1;let Q=0,X=Z[0].date;for(let J=1;J<Z.length;J++)if(Z[J].date<X)X=Z[J].date,Q=J;return Q}function P8(Z){zZ(new y("platform-logger",(Q)=>new vQ(Q),"PRIVATE")),zZ(new y("heartbeat",(Q)=>new pQ(Q),"PRIVATE")),i(M0,fQ,Z),i(M0,fQ,"esm2017"),i("fire-js","")}P8("");var j8="firebase",R8="11.8.1";i(j8,R8,"app");function hZ(Z,Q){var X={};for(var J in Z)if(Object.prototype.hasOwnProperty.call(Z,J)&&Q.indexOf(J)<0)X[J]=Z[J];if(Z!=null&&typeof Object.getOwnPropertySymbols==="function"){for(var G=0,J=Object.getOwnPropertySymbols(Z);G<J.length;G++)if(Q.indexOf(J[G])<0&&Object.prototype.propertyIsEnumerable.call(Z,J[G]))X[J[G]]=Z[J[G]]}return X}function U6(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var V6=U6,B6=new l("auth","Firebase",U6());var lZ=new jZ("@firebase/auth");function L8(Z,...Q){if(lZ.logLevel<=F.WARN)lZ.warn(`Auth (${WZ}): ${Z}`,...Q)}function gZ(Z,...Q){if(lZ.logLevel<=F.ERROR)lZ.error(`Auth (${WZ}): ${Z}`,...Q)}function P(Z,...Q){throw h0(Z,...Q)}function C(Z,...Q){return h0(Z,...Q)}function f0(Z,Q,X){let J=Object.assign(Object.assign({},V6()),{[Q]:X});return new l("auth","Firebase",J).create(Q,{appName:Z.name})}function m(Z){return f0(Z,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C8(Z,Q,X){let J=X;if(!(Q instanceof J)){if(J.name!==Q.constructor.name)P(Z,"argument-error");throw f0(Z,"argument-error",`Type of ${Q.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}}function h0(Z,...Q){if(typeof Z!=="string"){let X=Q[0],J=[...Q.slice(1)];if(J[0])J[0].appName=Z.name;return Z._errorFactory.create(X,...J)}return B6.create(Z,...Q)}function W(Z,Q,...X){if(!Z)throw h0(Q,...X)}function x(Z){let Q="INTERNAL ASSERTION FAILED: "+Z;throw gZ(Q),new Error(Q)}function v(Z,Q){if(!Z)x(Q)}function E0(){var Z;return typeof self!=="undefined"&&((Z=self.location)===null||Z===void 0?void 0:Z.href)||""}function A8(){return sQ()==="http:"||sQ()==="https:"}function sQ(){var Z;return typeof self!=="undefined"&&((Z=self.location)===null||Z===void 0?void 0:Z.protocol)||null}function x8(){if(typeof navigator!=="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine==="boolean"&&(A8()||NQ()||("connection"in navigator)))return navigator.onLine;return!0}function T8(){if(typeof navigator==="undefined")return null;let Z=navigator;return Z.languages&&Z.languages[0]||Z.language||null}class wZ{constructor(Z,Q){this.shortDelay=Z,this.longDelay=Q,v(Q>Z,"Short delay should be less than long delay!"),this.isMobile=wQ()||MQ()}get(){if(!x8())return Math.min(5000,this.shortDelay);return this.isMobile?this.longDelay:this.shortDelay}}function b0(Z,Q){v(Z.emulator,"Emulator should always be set here");let{url:X}=Z.emulator;if(!Q)return X;return`${X}${Q.startsWith("/")?Q.slice(1):Q}`}class g0{static initialize(Z,Q,X){if(this.fetchImpl=Z,Q)this.headersImpl=Q;if(X)this.responseImpl=X}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!=="undefined"&&"fetch"in self)return self.fetch;if(typeof globalThis!=="undefined"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch!=="undefined")return fetch;x("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!=="undefined"&&"Headers"in self)return self.Headers;if(typeof globalThis!=="undefined"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers!=="undefined")return Headers;x("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!=="undefined"&&"Response"in self)return self.Response;if(typeof globalThis!=="undefined"&&globalThis.Response)return globalThis.Response;if(typeof Response!=="undefined")return Response;x("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}var E8={["CREDENTIAL_MISMATCH"]:"custom-token-mismatch",["MISSING_CUSTOM_TOKEN"]:"internal-error",["INVALID_IDENTIFIER"]:"invalid-email",["MISSING_CONTINUE_URI"]:"internal-error",["INVALID_PASSWORD"]:"wrong-password",["MISSING_PASSWORD"]:"missing-password",["INVALID_LOGIN_CREDENTIALS"]:"invalid-credential",["EMAIL_EXISTS"]:"email-already-in-use",["PASSWORD_LOGIN_DISABLED"]:"operation-not-allowed",["INVALID_IDP_RESPONSE"]:"invalid-credential",["INVALID_PENDING_TOKEN"]:"invalid-credential",["FEDERATED_USER_ID_ALREADY_LINKED"]:"credential-already-in-use",["MISSING_REQ_TYPE"]:"internal-error",["EMAIL_NOT_FOUND"]:"user-not-found",["RESET_PASSWORD_EXCEED_LIMIT"]:"too-many-requests",["EXPIRED_OOB_CODE"]:"expired-action-code",["INVALID_OOB_CODE"]:"invalid-action-code",["MISSING_OOB_CODE"]:"internal-error",["CREDENTIAL_TOO_OLD_LOGIN_AGAIN"]:"requires-recent-login",["INVALID_ID_TOKEN"]:"invalid-user-token",["TOKEN_EXPIRED"]:"user-token-expired",["USER_NOT_FOUND"]:"user-token-expired",["TOO_MANY_ATTEMPTS_TRY_LATER"]:"too-many-requests",["PASSWORD_DOES_NOT_MEET_REQUIREMENTS"]:"password-does-not-meet-requirements",["INVALID_CODE"]:"invalid-verification-code",["INVALID_SESSION_INFO"]:"invalid-verification-id",["INVALID_TEMPORARY_PROOF"]:"invalid-credential",["MISSING_SESSION_INFO"]:"missing-verification-id",["SESSION_EXPIRED"]:"code-expired",["MISSING_ANDROID_PACKAGE_NAME"]:"missing-android-pkg-name",["UNAUTHORIZED_DOMAIN"]:"unauthorized-continue-uri",["INVALID_OAUTH_CLIENT_ID"]:"invalid-oauth-client-id",["ADMIN_ONLY_OPERATION"]:"admin-restricted-operation",["INVALID_MFA_PENDING_CREDENTIAL"]:"invalid-multi-factor-session",["MFA_ENROLLMENT_NOT_FOUND"]:"multi-factor-info-not-found",["MISSING_MFA_ENROLLMENT_ID"]:"missing-multi-factor-info",["MISSING_MFA_PENDING_CREDENTIAL"]:"missing-multi-factor-session",["SECOND_FACTOR_EXISTS"]:"second-factor-already-in-use",["SECOND_FACTOR_LIMIT_EXCEEDED"]:"maximum-second-factor-count-exceeded",["BLOCKING_FUNCTION_ERROR_RESPONSE"]:"internal-error",["RECAPTCHA_NOT_ENABLED"]:"recaptcha-not-enabled",["MISSING_RECAPTCHA_TOKEN"]:"missing-recaptcha-token",["INVALID_RECAPTCHA_TOKEN"]:"invalid-recaptcha-token",["INVALID_RECAPTCHA_ACTION"]:"invalid-recaptcha-action",["MISSING_CLIENT_TYPE"]:"missing-client-type",["MISSING_RECAPTCHA_VERSION"]:"missing-recaptcha-version",["INVALID_RECAPTCHA_VERSION"]:"invalid-recaptcha-version",["INVALID_REQ_TYPE"]:"invalid-req-type"},I8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],y8=new wZ(30000,60000);function q(Z,Q){if(Z.tenantId&&!Q.tenantId)return Object.assign(Object.assign({},Q),{tenantId:Z.tenantId});return Q}async function w(Z,Q,X,J,G={}){return F6(Z,G,async()=>{let K={},Y={};if(J)if(Q==="GET")Y=J;else K={body:JSON.stringify(J)};let $=YZ(Object.assign({key:Z.config.apiKey},Y)).slice(1),H=await Z._getAdditionalHeaders();if(H["Content-Type"]="application/json",Z.languageCode)H["X-Firebase-Locale"]=Z.languageCode;let z=Object.assign({method:Q,headers:H},K);if(!OQ())z.referrerPolicy="no-referrer";if(Z.emulatorConfig&&_Z(Z.emulatorConfig.host))z.credentials="include";return g0.fetch()(await q6(Z,Z.config.apiHost,X,$),z)})}async function F6(Z,Q,X){Z._canInitEmulator=!1;let J=Object.assign(Object.assign({},E8),Q);try{let G=new D6(Z),K=await Promise.race([X(),G.promise]);G.clearNetworkTimeout();let Y=await K.json();if("needConfirmation"in Y)throw CZ(Z,"account-exists-with-different-credential",Y);if(K.ok&&!("errorMessage"in Y))return Y;else{let $=K.ok?Y.errorMessage:Y.error.message,[H,z]=$.split(" : ");if(H==="FEDERATED_USER_ID_ALREADY_LINKED")throw CZ(Z,"credential-already-in-use",Y);else if(H==="EMAIL_EXISTS")throw CZ(Z,"email-already-in-use",Y);else if(H==="USER_DISABLED")throw CZ(Z,"user-disabled",Y);let U=J[H]||H.toLowerCase().replace(/[_\s]+/g,"-");if(z)throw f0(Z,U,z);else P(Z,U)}}catch(G){if(G instanceof R)throw G;P(Z,"network-request-failed",{message:String(G)})}}async function n(Z,Q,X,J,G={}){let K=await w(Z,Q,X,J,G);if("mfaPendingCredential"in K)P(Z,"multi-factor-auth-required",{_serverResponse:K});return K}async function q6(Z,Q,X,J){let G=`${Q}${X}?${J}`,K=Z,Y=K.config.emulator?b0(Z.config,G):`${Z.config.apiScheme}://${G}`;if(I8.includes(X)){if(await K._persistenceManagerAvailable,K._getPersistenceType()==="COOKIE")return K._getPersistence()._getFinalTarget(Y).toString()}return Y}function _8(Z){switch(Z){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class D6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(Z){this.auth=Z,this.timer=null,this.promise=new Promise((Q,X)=>{this.timer=setTimeout(()=>{return X(C(this.auth,"network-request-failed"))},y8.get())})}}function CZ(Z,Q,X){let J={appName:Z.name};if(X.email)J.email=X.email;if(X.phoneNumber)J.phoneNumber=X.phoneNumber;let G=C(Z,Q,J);return G.customData._tokenResponse=X,G}function nQ(Z){return Z!==void 0&&Z.enterprise!==void 0}class m0{constructor(Z){if(this.siteKey="",this.recaptchaEnforcementState=[],Z.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=Z.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=Z.recaptchaEnforcementState}getProviderEnforcementState(Z){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let Q of this.recaptchaEnforcementState)if(Q.provider&&Q.provider===Z)return _8(Q.enforcementState);return null}isProviderEnabled(Z){return this.getProviderEnforcementState(Z)==="ENFORCE"||this.getProviderEnforcementState(Z)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function w6(Z,Q){return w(Z,"GET","/v2/recaptchaConfig",q(Z,Q))}async function k8(Z,Q){return w(Z,"POST","/v1/accounts:delete",Q)}async function uZ(Z,Q){return w(Z,"POST","/v1/accounts:lookup",Q)}function AZ(Z){if(!Z)return;try{let Q=new Date(Number(Z));if(!isNaN(Q.getTime()))return Q.toUTCString()}catch(Q){}return}async function O6(Z,Q=!1){let X=S(Z),J=await X.getIdToken(Q),G=v0(J);W(G&&G.exp&&G.auth_time&&G.iat,X.auth,"internal-error");let K=typeof G.firebase==="object"?G.firebase:void 0,Y=K===null||K===void 0?void 0:K.sign_in_provider;return{claims:G,token:J,authTime:AZ(L0(G.auth_time)),issuedAtTime:AZ(L0(G.iat)),expirationTime:AZ(L0(G.exp)),signInProvider:Y||null,signInSecondFactor:(K===null||K===void 0?void 0:K.sign_in_second_factor)||null}}function L0(Z){return Number(Z)*1000}function v0(Z){let[Q,X,J]=Z.split(".");if(Q===void 0||X===void 0||J===void 0)return gZ("JWT malformed, contained fewer than 3 sections"),null;try{let G=yZ(X);if(!G)return gZ("Failed to decode base64 JWT payload"),null;return JSON.parse(G)}catch(G){return gZ("Caught error parsing JWT payload as JSON",G===null||G===void 0?void 0:G.toString()),null}}function oQ(Z){let Q=v0(Z);return W(Q,"internal-error"),W(typeof Q.exp!=="undefined","internal-error"),W(typeof Q.iat!=="undefined","internal-error"),Number(Q.exp)-Number(Q.iat)}async function qZ(Z,Q,X=!1){if(X)return Q;try{return await Q}catch(J){if(J instanceof R&&f8(J)){if(Z.auth.currentUser===Z)await Z.auth.signOut()}throw J}}function f8({code:Z}){return Z==="auth/user-disabled"||Z==="auth/user-token-expired"}class N6{constructor(Z){this.user=Z,this.isRunning=!1,this.timerId=null,this.errorBackoff=30000}_start(){if(this.isRunning)return;this.isRunning=!0,this.schedule()}_stop(){if(!this.isRunning)return;if(this.isRunning=!1,this.timerId!==null)clearTimeout(this.timerId)}getInterval(Z){var Q;if(Z){let X=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,960000),X}else{this.errorBackoff=30000;let J=((Q=this.user.stsTokenManager.expirationTime)!==null&&Q!==void 0?Q:0)-Date.now()-300000;return Math.max(0,J)}}schedule(Z=!1){if(!this.isRunning)return;let Q=this.getInterval(Z);this.timerId=setTimeout(async()=>{await this.iteration()},Q)}async iteration(){try{await this.user.getIdToken(!0)}catch(Z){if((Z===null||Z===void 0?void 0:Z.code)==="auth/network-request-failed")this.schedule(!0);return}this.schedule()}}class pZ{constructor(Z,Q){this.createdAt=Z,this.lastLoginAt=Q,this._initializeTime()}_initializeTime(){this.lastSignInTime=AZ(this.lastLoginAt),this.creationTime=AZ(this.createdAt)}_copy(Z){this.createdAt=Z.createdAt,this.lastLoginAt=Z.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function iZ(Z){var Q;let X=Z.auth,J=await Z.getIdToken(),G=await qZ(Z,uZ(X,{idToken:J}));W(G===null||G===void 0?void 0:G.users.length,X,"internal-error");let K=G.users[0];Z._notifyReloadListener(K);let Y=((Q=K.providerUserInfo)===null||Q===void 0?void 0:Q.length)?S6(K.providerUserInfo):[],$=h8(Z.providerData,Y),H=Z.isAnonymous,z=!(Z.email&&K.passwordHash)&&!($===null||$===void 0?void 0:$.length),U=!H?!1:z,B={uid:K.localId,displayName:K.displayName||null,photoURL:K.photoUrl||null,email:K.email||null,emailVerified:K.emailVerified||!1,phoneNumber:K.phoneNumber||null,tenantId:K.tenantId||null,providerData:$,metadata:new pZ(K.createdAt,K.lastLoginAt),isAnonymous:U};Object.assign(Z,B)}async function M6(Z){let Q=S(Z);await iZ(Q),await Q.auth._persistUserIfCurrent(Q),Q.auth._notifyListenersIfCurrent(Q)}function h8(Z,Q){return[...Z.filter((J)=>!Q.some((G)=>G.providerId===J.providerId)),...Q]}function S6(Z){return Z.map((Q)=>{var{providerId:X}=Q,J=hZ(Q,["providerId"]);return{providerId:X,uid:J.rawId||"",displayName:J.displayName||null,email:J.email||null,phoneNumber:J.phoneNumber||null,photoURL:J.photoUrl||null}})}async function b8(Z,Q){let X=await F6(Z,{},async()=>{let J=YZ({grant_type:"refresh_token",refresh_token:Q}).slice(1),{tokenApiHost:G,apiKey:K}=Z.config,Y=await q6(Z,G,"/v1/token",`key=${K}`),$=await Z._getAdditionalHeaders();return $["Content-Type"]="application/x-www-form-urlencoded",g0.fetch()(Y,{method:"POST",headers:$,body:J})});return{accessToken:X.access_token,expiresIn:X.expires_in,refreshToken:X.refresh_token}}async function g8(Z,Q){return w(Z,"POST","/v2/accounts:revokeToken",q(Z,Q))}class UZ{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-30000}updateFromServerResponse(Z){W(Z.idToken,"internal-error"),W(typeof Z.idToken!=="undefined","internal-error"),W(typeof Z.refreshToken!=="undefined","internal-error");let Q="expiresIn"in Z&&typeof Z.expiresIn!=="undefined"?Number(Z.expiresIn):oQ(Z.idToken);this.updateTokensAndExpiration(Z.idToken,Z.refreshToken,Q)}updateFromIdToken(Z){W(Z.length!==0,"internal-error");let Q=oQ(Z);this.updateTokensAndExpiration(Z,null,Q)}async getToken(Z,Q=!1){if(!Q&&this.accessToken&&!this.isExpired)return this.accessToken;if(W(this.refreshToken,Z,"user-token-expired"),this.refreshToken)return await this.refresh(Z,this.refreshToken),this.accessToken;return null}clearRefreshToken(){this.refreshToken=null}async refresh(Z,Q){let{accessToken:X,refreshToken:J,expiresIn:G}=await b8(Z,Q);this.updateTokensAndExpiration(X,J,Number(G))}updateTokensAndExpiration(Z,Q,X){this.refreshToken=Q||null,this.accessToken=Z||null,this.expirationTime=Date.now()+X*1000}static fromJSON(Z,Q){let{refreshToken:X,accessToken:J,expirationTime:G}=Q,K=new UZ;if(X)W(typeof X==="string","internal-error",{appName:Z}),K.refreshToken=X;if(J)W(typeof J==="string","internal-error",{appName:Z}),K.accessToken=J;if(G)W(typeof G==="number","internal-error",{appName:Z}),K.expirationTime=G;return K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(Z){this.accessToken=Z.accessToken,this.refreshToken=Z.refreshToken,this.expirationTime=Z.expirationTime}_clone(){return Object.assign(new UZ,this.toJSON())}_performRefresh(){return x("not implemented")}}function s(Z,Q){W(typeof Z==="string"||typeof Z==="undefined","internal-error",{appName:Q})}class L{constructor(Z){var{uid:Q,auth:X,stsTokenManager:J}=Z,G=hZ(Z,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new N6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=Q,this.auth=X,this.stsTokenManager=J,this.accessToken=J.accessToken,this.displayName=G.displayName||null,this.email=G.email||null,this.emailVerified=G.emailVerified||!1,this.phoneNumber=G.phoneNumber||null,this.photoURL=G.photoURL||null,this.isAnonymous=G.isAnonymous||!1,this.tenantId=G.tenantId||null,this.providerData=G.providerData?[...G.providerData]:[],this.metadata=new pZ(G.createdAt||void 0,G.lastLoginAt||void 0)}async getIdToken(Z){let Q=await qZ(this,this.stsTokenManager.getToken(this.auth,Z));if(W(Q,this.auth,"internal-error"),this.accessToken!==Q)this.accessToken=Q,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this);return Q}getIdTokenResult(Z){return O6(this,Z)}reload(){return M6(this)}_assign(Z){if(this===Z)return;W(this.uid===Z.uid,this.auth,"internal-error"),this.displayName=Z.displayName,this.photoURL=Z.photoURL,this.email=Z.email,this.emailVerified=Z.emailVerified,this.phoneNumber=Z.phoneNumber,this.isAnonymous=Z.isAnonymous,this.tenantId=Z.tenantId,this.providerData=Z.providerData.map((Q)=>Object.assign({},Q)),this.metadata._copy(Z.metadata),this.stsTokenManager._assign(Z.stsTokenManager)}_clone(Z){let Q=new L(Object.assign(Object.assign({},this),{auth:Z,stsTokenManager:this.stsTokenManager._clone()}));return Q.metadata._copy(this.metadata),Q}_onReload(Z){if(W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=Z,this.reloadUserInfo)this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null}_notifyReloadListener(Z){if(this.reloadListener)this.reloadListener(Z);else this.reloadUserInfo=Z}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(Z,Q=!1){let X=!1;if(Z.idToken&&Z.idToken!==this.stsTokenManager.accessToken)this.stsTokenManager.updateFromServerResponse(Z),X=!0;if(Q)await iZ(this);if(await this.auth._persistUserIfCurrent(this),X)this.auth._notifyListenersIfCurrent(this)}async delete(){if(M(this.auth.app))return Promise.reject(m(this.auth));let Z=await this.getIdToken();return await qZ(this,k8(this.auth,{idToken:Z})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((Z)=>Object.assign({},Z)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(Z,Q){var X,J,G,K,Y,$,H,z;let U=(X=Q.displayName)!==null&&X!==void 0?X:void 0,B=(J=Q.email)!==null&&J!==void 0?J:void 0,V=(G=Q.phoneNumber)!==null&&G!==void 0?G:void 0,D=(K=Q.photoURL)!==null&&K!==void 0?K:void 0,j=(Y=Q.tenantId)!==null&&Y!==void 0?Y:void 0,GZ=($=Q._redirectEventId)!==null&&$!==void 0?$:void 0,MZ=(H=Q.createdAt)!==null&&H!==void 0?H:void 0,SZ=(z=Q.lastLoginAt)!==null&&z!==void 0?z:void 0,{uid:c,emailVerified:KZ,isAnonymous:IZ,providerData:K0,stsTokenManager:$Q}=Q;W(c&&$Q,Z,"internal-error");let HX=UZ.fromJSON(this.name,$Q);W(typeof c==="string",Z,"internal-error"),s(U,Z.name),s(B,Z.name),W(typeof KZ==="boolean",Z,"internal-error"),W(typeof IZ==="boolean",Z,"internal-error"),s(V,Z.name),s(D,Z.name),s(j,Z.name),s(GZ,Z.name),s(MZ,Z.name),s(SZ,Z.name);let Y0=new L({uid:c,auth:Z,email:B,emailVerified:KZ,displayName:U,isAnonymous:IZ,photoURL:D,phoneNumber:V,tenantId:j,stsTokenManager:HX,createdAt:MZ,lastLoginAt:SZ});if(K0&&Array.isArray(K0))Y0.providerData=K0.map((zX)=>Object.assign({},zX));if(GZ)Y0._redirectEventId=GZ;return Y0}static async _fromIdTokenResponse(Z,Q,X=!1){let J=new UZ;J.updateFromServerResponse(Q);let G=new L({uid:Q.localId,auth:Z,stsTokenManager:J,isAnonymous:X});return await iZ(G),G}static async _fromGetAccountInfoResponse(Z,Q,X){let J=Q.users[0];W(J.localId!==void 0,"internal-error");let G=J.providerUserInfo!==void 0?S6(J.providerUserInfo):[],K=!(J.email&&J.passwordHash)&&!(G===null||G===void 0?void 0:G.length),Y=new UZ;Y.updateFromIdToken(X);let $=new L({uid:J.localId,auth:Z,stsTokenManager:Y,isAnonymous:K}),H={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:G,metadata:new pZ(J.createdAt,J.lastLoginAt),isAnonymous:!(J.email&&J.passwordHash)&&!(G===null||G===void 0?void 0:G.length)};return Object.assign($,H),$}}var aQ=new Map;function g(Z){v(Z instanceof Function,"Expected a class definition");let Q=aQ.get(Z);if(Q)return v(Q instanceof Z,"Instance stored in cache mismatched with class"),Q;return Q=new Z,aQ.set(Z,Q),Q}class d0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(Z,Q){this.storage[Z]=Q}async _get(Z){let Q=this.storage[Z];return Q===void 0?null:Q}async _remove(Z){delete this.storage[Z]}_addListener(Z,Q){return}_removeListener(Z,Q){return}}d0.type="NONE";var I0=d0;function mZ(Z,Q,X){return`firebase:${Z}:${Q}:${X}`}class VZ{constructor(Z,Q,X){this.persistence=Z,this.auth=Q,this.userKey=X;let{config:J,name:G}=this.auth;this.fullUserKey=mZ(this.userKey,J.apiKey,G),this.fullPersistenceKey=mZ("persistence",J.apiKey,G),this.boundEventHandler=Q._onStorageEvent.bind(Q),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(Z){return this.persistence._set(this.fullUserKey,Z.toJSON())}async getCurrentUser(){let Z=await this.persistence._get(this.fullUserKey);if(!Z)return null;if(typeof Z==="string"){let Q=await uZ(this.auth,{idToken:Z}).catch(()=>{return});if(!Q)return null;return L._fromGetAccountInfoResponse(this.auth,Q,Z)}return L._fromJSON(this.auth,Z)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(Z){if(this.persistence===Z)return;let Q=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=Z,Q)return this.setCurrentUser(Q)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(Z,Q,X="authUser"){if(!Q.length)return new VZ(g(I0),Z,X);let J=(await Promise.all(Q.map(async(H)=>{if(await H._isAvailable())return H;return}))).filter((H)=>H),G=J[0]||g(I0),K=mZ(X,Z.config.apiKey,Z.name),Y=null;for(let H of Q)try{let z=await H._get(K);if(z){let U;if(typeof z==="string"){let B=await uZ(Z,{idToken:z}).catch(()=>{return});if(!B)break;U=await L._fromGetAccountInfoResponse(Z,B,z)}else U=L._fromJSON(Z,z);if(H!==G)Y=U;G=H;break}}catch(z){}let $=J.filter((H)=>H._shouldAllowMigration);if(!G._shouldAllowMigration||!$.length)return new VZ(G,Z,X);if(G=$[0],Y)await G._set(K,Y.toJSON());return await Promise.all(Q.map(async(H)=>{if(H!==G)try{await H._remove(K)}catch(z){}})),new VZ(G,Z,X)}}function tQ(Z){let Q=Z.toLowerCase();if(Q.includes("opera/")||Q.includes("opr/")||Q.includes("opios/"))return"Opera";else if(L6(Q))return"IEMobile";else if(Q.includes("msie")||Q.includes("trident/"))return"IE";else if(Q.includes("edge/"))return"Edge";else if(P6(Q))return"Firefox";else if(Q.includes("silk/"))return"Silk";else if(A6(Q))return"Blackberry";else if(x6(Q))return"Webos";else if(j6(Q))return"Safari";else if((Q.includes("chrome/")||R6(Q))&&!Q.includes("edge/"))return"Chrome";else if(C6(Q))return"Android";else{let X=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,J=Z.match(X);if((J===null||J===void 0?void 0:J.length)===2)return J[1]}return"Other"}function P6(Z=O()){return/firefox\//i.test(Z)}function j6(Z=O()){let Q=Z.toLowerCase();return Q.includes("safari/")&&!Q.includes("chrome/")&&!Q.includes("crios/")&&!Q.includes("android")}function R6(Z=O()){return/crios\//i.test(Z)}function L6(Z=O()){return/iemobile/i.test(Z)}function C6(Z=O()){return/android/i.test(Z)}function A6(Z=O()){return/blackberry/i.test(Z)}function x6(Z=O()){return/webos/i.test(Z)}function c0(Z=O()){return/iphone|ipad|ipod/i.test(Z)||/macintosh/i.test(Z)&&/mobile/i.test(Z)}function m8(Z=O()){var Q;return c0(Z)&&!!((Q=window.navigator)===null||Q===void 0?void 0:Q.standalone)}function v8(){return SQ()&&document.documentMode===10}function T6(Z=O()){return c0(Z)||C6(Z)||x6(Z)||A6(Z)||/windows phone/i.test(Z)||L6(Z)}function E6(Z,Q=[]){let X;switch(Z){case"Browser":X=tQ(O());break;case"Worker":X=`${tQ(O())}-${Z}`;break;default:X=Z}let J=Q.length?Q.join(","):"FirebaseCore-web";return`${X}/JsCore/${WZ}/${J}`}class I6{constructor(Z){this.auth=Z,this.queue=[]}pushCallback(Z,Q){let X=(G)=>new Promise((K,Y)=>{try{let $=Z(G);K($)}catch($){Y($)}});X.onAbort=Q,this.queue.push(X);let J=this.queue.length-1;return()=>{this.queue[J]=()=>Promise.resolve()}}async runMiddleware(Z){if(this.auth.currentUser===Z)return;let Q=[];try{for(let X of this.queue)if(await X(Z),X.onAbort)Q.push(X.onAbort)}catch(X){Q.reverse();for(let J of Q)try{J()}catch(G){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:X===null||X===void 0?void 0:X.message})}}}async function d8(Z,Q={}){return w(Z,"GET","/v2/passwordPolicy",q(Z,Q))}var c8=6;class y6{constructor(Z){var Q,X,J,G;let K=Z.customStrengthOptions;if(this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(Q=K.minPasswordLength)!==null&&Q!==void 0?Q:c8,K.maxPasswordLength)this.customStrengthOptions.maxPasswordLength=K.maxPasswordLength;if(K.containsLowercaseCharacter!==void 0)this.customStrengthOptions.containsLowercaseLetter=K.containsLowercaseCharacter;if(K.containsUppercaseCharacter!==void 0)this.customStrengthOptions.containsUppercaseLetter=K.containsUppercaseCharacter;if(K.containsNumericCharacter!==void 0)this.customStrengthOptions.containsNumericCharacter=K.containsNumericCharacter;if(K.containsNonAlphanumericCharacter!==void 0)this.customStrengthOptions.containsNonAlphanumericCharacter=K.containsNonAlphanumericCharacter;if(this.enforcementState=Z.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED")this.enforcementState="OFF";this.allowedNonAlphanumericCharacters=(J=(X=Z.allowedNonAlphanumericCharacters)===null||X===void 0?void 0:X.join(""))!==null&&J!==void 0?J:"",this.forceUpgradeOnSignin=(G=Z.forceUpgradeOnSignin)!==null&&G!==void 0?G:!1,this.schemaVersion=Z.schemaVersion}validatePassword(Z){var Q,X,J,G,K,Y;let $={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(Z,$),this.validatePasswordCharacterOptions(Z,$),$.isValid&&($.isValid=(Q=$.meetsMinPasswordLength)!==null&&Q!==void 0?Q:!0),$.isValid&&($.isValid=(X=$.meetsMaxPasswordLength)!==null&&X!==void 0?X:!0),$.isValid&&($.isValid=(J=$.containsLowercaseLetter)!==null&&J!==void 0?J:!0),$.isValid&&($.isValid=(G=$.containsUppercaseLetter)!==null&&G!==void 0?G:!0),$.isValid&&($.isValid=(K=$.containsNumericCharacter)!==null&&K!==void 0?K:!0),$.isValid&&($.isValid=(Y=$.containsNonAlphanumericCharacter)!==null&&Y!==void 0?Y:!0),$}validatePasswordLengthOptions(Z,Q){let X=this.customStrengthOptions.minPasswordLength,J=this.customStrengthOptions.maxPasswordLength;if(X)Q.meetsMinPasswordLength=Z.length>=X;if(J)Q.meetsMaxPasswordLength=Z.length<=J}validatePasswordCharacterOptions(Z,Q){this.updatePasswordCharacterOptionsStatuses(Q,!1,!1,!1,!1);let X;for(let J=0;J<Z.length;J++)X=Z.charAt(J),this.updatePasswordCharacterOptionsStatuses(Q,X>="a"&&X<="z",X>="A"&&X<="Z",X>="0"&&X<="9",this.allowedNonAlphanumericCharacters.includes(X))}updatePasswordCharacterOptionsStatuses(Z,Q,X,J,G){if(this.customStrengthOptions.containsLowercaseLetter)Z.containsLowercaseLetter||(Z.containsLowercaseLetter=Q);if(this.customStrengthOptions.containsUppercaseLetter)Z.containsUppercaseLetter||(Z.containsUppercaseLetter=X);if(this.customStrengthOptions.containsNumericCharacter)Z.containsNumericCharacter||(Z.containsNumericCharacter=J);if(this.customStrengthOptions.containsNonAlphanumericCharacter)Z.containsNonAlphanumericCharacter||(Z.containsNonAlphanumericCharacter=G)}}class _6{constructor(Z,Q,X,J){this.app=Z,this.heartbeatServiceProvider=Q,this.appCheckServiceProvider=X,this.config=J,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y0(this),this.idTokenSubscription=new y0(this),this.beforeStateQueue=new I6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=Z.name,this.clientVersion=J.sdkClientVersion,this._persistenceManagerAvailable=new Promise((G)=>this._resolvePersistenceManagerAvailable=G)}_initializeWithPersistence(Z,Q){if(Q)this._popupRedirectResolver=g(Q);return this._initializationPromise=this.queue(async()=>{var X,J,G;if(this._deleted)return;if(this.persistenceManager=await VZ.create(this,Z),(X=this._resolvePersistenceManagerAvailable)===null||X===void 0||X.call(this),this._deleted)return;if((J=this._popupRedirectResolver)===null||J===void 0?void 0:J._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(K){}if(await this.initializeCurrentUser(Q),this.lastNotifiedUid=((G=this.currentUser)===null||G===void 0?void 0:G.uid)||null,this._deleted)return;this._isInitialized=!0}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let Z=await this.assertedPersistence.getCurrentUser();if(!this.currentUser&&!Z)return;if(this.currentUser&&Z&&this.currentUser.uid===Z.uid){this._currentUser._assign(Z),await this.currentUser.getIdToken();return}await this._updateCurrentUser(Z,!0)}async initializeCurrentUserFromIdToken(Z){try{let Q=await uZ(this,{idToken:Z}),X=await L._fromGetAccountInfoResponse(this,Q,Z);await this.directlySetCurrentUser(X)}catch(Q){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",Q),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(Z){var Q;if(M(this.app)){let K=this.app.settings.authIdToken;if(K)return new Promise((Y)=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(K).then(Y,Y))});else return this.directlySetCurrentUser(null)}let X=await this.assertedPersistence.getCurrentUser(),J=X,G=!1;if(Z&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let K=(Q=this.redirectUser)===null||Q===void 0?void 0:Q._redirectEventId,Y=J===null||J===void 0?void 0:J._redirectEventId,$=await this.tryRedirectSignIn(Z);if((!K||K===Y)&&($===null||$===void 0?void 0:$.user))J=$.user,G=!0}if(!J)return this.directlySetCurrentUser(null);if(!J._redirectEventId){if(G)try{await this.beforeStateQueue.runMiddleware(J)}catch(K){J=X,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(K))}if(J)return this.reloadAndSetCurrentUserOrClear(J);else return this.directlySetCurrentUser(null)}if(W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===J._redirectEventId)return this.directlySetCurrentUser(J);return this.reloadAndSetCurrentUserOrClear(J)}async tryRedirectSignIn(Z){let Q=null;try{Q=await this._popupRedirectResolver._completeRedirectFn(this,Z,!0)}catch(X){await this._setRedirectUser(null)}return Q}async reloadAndSetCurrentUserOrClear(Z){try{await iZ(Z)}catch(Q){if((Q===null||Q===void 0?void 0:Q.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(Z)}useDeviceLanguage(){this.languageCode=T8()}async _delete(){this._deleted=!0}async updateCurrentUser(Z){if(M(this.app))return Promise.reject(m(this));let Q=Z?S(Z):null;if(Q)W(Q.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token");return this._updateCurrentUser(Q&&Q._clone(this))}async _updateCurrentUser(Z,Q=!1){if(this._deleted)return;if(Z)W(this.tenantId===Z.tenantId,this,"tenant-id-mismatch");if(!Q)await this.beforeStateQueue.runMiddleware(Z);return this.queue(async()=>{await this.directlySetCurrentUser(Z),this.notifyAuthListeners()})}async signOut(){if(M(this.app))return Promise.reject(m(this));if(await this.beforeStateQueue.runMiddleware(null),this.redirectPersistenceManager||this._popupRedirectResolver)await this._setRedirectUser(null);return this._updateCurrentUser(null,!0)}setPersistence(Z){if(M(this.app))return Promise.reject(m(this));return this.queue(async()=>{await this.assertedPersistence.setPersistence(g(Z))})}_getRecaptchaConfig(){if(this.tenantId==null)return this._agentRecaptchaConfig;else return this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(Z){if(!this._getPasswordPolicyInternal())await this._updatePasswordPolicy();let Q=this._getPasswordPolicyInternal();if(Q.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION)return Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{}));return Q.validatePassword(Z)}_getPasswordPolicyInternal(){if(this.tenantId===null)return this._projectPasswordPolicy;else return this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let Z=await d8(this),Q=new y6(Z);if(this.tenantId===null)this._projectPasswordPolicy=Q;else this._tenantPasswordPolicies[this.tenantId]=Q}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(Z){this._errorFactory=new l("auth","Firebase",Z())}onAuthStateChanged(Z,Q,X){return this.registerStateListener(this.authStateSubscription,Z,Q,X)}beforeAuthStateChanged(Z,Q){return this.beforeStateQueue.pushCallback(Z,Q)}onIdTokenChanged(Z,Q,X){return this.registerStateListener(this.idTokenSubscription,Z,Q,X)}authStateReady(){return new Promise((Z,Q)=>{if(this.currentUser)Z();else{let X=this.onAuthStateChanged(()=>{X(),Z()},Q)}})}async revokeAccessToken(Z){if(this.currentUser){let Q=await this.currentUser.getIdToken(),X={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:Z,idToken:Q};if(this.tenantId!=null)X.tenantId=this.tenantId;await g8(this,X)}}toJSON(){var Z;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(Z=this._currentUser)===null||Z===void 0?void 0:Z.toJSON()}}async _setRedirectUser(Z,Q){let X=await this.getOrInitRedirectPersistenceManager(Q);return Z===null?X.removeCurrentUser():X.setCurrentUser(Z)}async getOrInitRedirectPersistenceManager(Z){if(!this.redirectPersistenceManager){let Q=Z&&g(Z)||this._popupRedirectResolver;W(Q,this,"argument-error"),this.redirectPersistenceManager=await VZ.create(this,[g(Q._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(Z){var Q,X;if(this._isInitialized)await this.queue(async()=>{});if(((Q=this._currentUser)===null||Q===void 0?void 0:Q._redirectEventId)===Z)return this._currentUser;if(((X=this.redirectUser)===null||X===void 0?void 0:X._redirectEventId)===Z)return this.redirectUser;return null}async _persistUserIfCurrent(Z){if(Z===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(Z))}_notifyListenersIfCurrent(Z){if(Z===this.currentUser)this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){if(this.isProactiveRefreshEnabled=!0,this.currentUser)this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){if(this.isProactiveRefreshEnabled=!1,this.currentUser)this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var Z,Q;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let X=(Q=(Z=this.currentUser)===null||Z===void 0?void 0:Z.uid)!==null&&Q!==void 0?Q:null;if(this.lastNotifiedUid!==X)this.lastNotifiedUid=X,this.authStateSubscription.next(this.currentUser)}registerStateListener(Z,Q,X,J){if(this._deleted)return()=>{};let G=typeof Q==="function"?Q:Q.next.bind(Q),K=!1,Y=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(Y,this,"internal-error"),Y.then(()=>{if(K)return;G(this.currentUser)}),typeof Q==="function"){let $=Z.addObserver(Q,X,J);return()=>{K=!0,$()}}else{let $=Z.addObserver(Q);return()=>{K=!0,$()}}}async directlySetCurrentUser(Z){if(this.currentUser&&this.currentUser!==Z)this._currentUser._stopProactiveRefresh();if(Z&&this.isProactiveRefreshEnabled)Z._startProactiveRefresh();if(this.currentUser=Z,Z)await this.assertedPersistence.setCurrentUser(Z);else await this.assertedPersistence.removeCurrentUser()}queue(Z){return this.operations=this.operations.then(Z,Z),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(Z){if(!Z||this.frameworks.includes(Z))return;this.frameworks.push(Z),this.frameworks.sort(),this.clientVersion=E6(this.config.clientPlatform,this._getFrameworks())}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var Z;let Q={["X-Client-Version"]:this.clientVersion};if(this.app.options.appId)Q["X-Firebase-gmpid"]=this.app.options.appId;let X=await((Z=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||Z===void 0?void 0:Z.getHeartbeatsHeader());if(X)Q["X-Firebase-Client"]=X;let J=await this._getAppCheckToken();if(J)Q["X-Firebase-AppCheck"]=J;return Q}async _getAppCheckToken(){var Z;if(M(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let Q=await((Z=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||Z===void 0?void 0:Z.getToken());if(Q===null||Q===void 0?void 0:Q.error)L8(`Error while retrieving App Check token: ${Q.error}`);return Q===null||Q===void 0?void 0:Q.token}}function I(Z){return S(Z)}class y0{constructor(Z){this.auth=Z,this.observer=null,this.addObserver=LQ((Q)=>this.observer=Q)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}var aZ={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function l8(Z){aZ=Z}function k6(Z){return aZ.loadJS(Z)}function u8(){return aZ.recaptchaEnterpriseScript}function p8(){return aZ.gapiScript}function f6(Z){return`__${Z}${Math.floor(Math.random()*1e6)}`}class h6{constructor(){this.enterprise=new b6}ready(Z){Z()}execute(Z,Q){return Promise.resolve("token")}render(Z,Q){return""}}class b6{ready(Z){Z()}execute(Z,Q){return Promise.resolve("token")}render(Z,Q){return""}}var i8="recaptcha-enterprise",xZ="NO_RECAPTCHA";class l0{constructor(Z){this.type=i8,this.auth=I(Z)}async verify(Z="verify",Q=!1){async function X(G){if(!Q){if(G.tenantId==null&&G._agentRecaptchaConfig!=null)return G._agentRecaptchaConfig.siteKey;if(G.tenantId!=null&&G._tenantRecaptchaConfigs[G.tenantId]!==void 0)return G._tenantRecaptchaConfigs[G.tenantId].siteKey}return new Promise(async(K,Y)=>{w6(G,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(($)=>{if($.recaptchaKey===void 0)Y(new Error("recaptcha Enterprise site key undefined"));else{let H=new m0($);if(G.tenantId==null)G._agentRecaptchaConfig=H;else G._tenantRecaptchaConfigs[G.tenantId]=H;return K(H.siteKey)}}).catch(($)=>{Y($)})})}function J(G,K,Y){let $=window.grecaptcha;if(nQ($))$.enterprise.ready(()=>{$.enterprise.execute(G,{action:Z}).then((H)=>{K(H)}).catch(()=>{K(xZ)})});else Y(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting)return new h6().execute("siteKey",{action:"verify"});return new Promise((G,K)=>{X(this.auth).then((Y)=>{if(!Q&&nQ(window.grecaptcha))J(Y,G,K);else{if(typeof window==="undefined"){K(new Error("RecaptchaVerifier is only supported in browser"));return}let $=u8();if($.length!==0)$+=Y;k6($).then(()=>{J(Y,G,K)}).catch((H)=>{K(H)})}}).catch((Y)=>{K(Y)})})}}async function LZ(Z,Q,X,J=!1,G=!1){let K=new l0(Z),Y;if(G)Y=xZ;else try{Y=await K.verify(X)}catch(H){Y=await K.verify(X,!0)}let $=Object.assign({},Q);if(X==="mfaSmsEnrollment"||X==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in $){let H=$.phoneEnrollmentInfo.phoneNumber,z=$.phoneEnrollmentInfo.recaptchaToken;Object.assign($,{phoneEnrollmentInfo:{phoneNumber:H,recaptchaToken:z,captchaResponse:Y,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in $){let H=$.phoneSignInInfo.recaptchaToken;Object.assign($,{phoneSignInInfo:{recaptchaToken:H,captchaResponse:Y,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return $}if(!J)Object.assign($,{captchaResponse:Y});else Object.assign($,{captchaResp:Y});return Object.assign($,{clientType:"CLIENT_TYPE_WEB"}),Object.assign($,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),$}async function BZ(Z,Q,X,J,G){var K,Y;if(G==="EMAIL_PASSWORD_PROVIDER")if((K=Z._getRecaptchaConfig())===null||K===void 0?void 0:K.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let $=await LZ(Z,Q,X,X==="getOobCode");return J(Z,$)}else return J(Z,Q).catch(async($)=>{if($.code==="auth/missing-recaptcha-token"){console.log(`${X} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let H=await LZ(Z,Q,X,X==="getOobCode");return J(Z,H)}else return Promise.reject($)});else if(G==="PHONE_PROVIDER")if((Y=Z._getRecaptchaConfig())===null||Y===void 0?void 0:Y.isProviderEnabled("PHONE_PROVIDER")){let $=await LZ(Z,Q,X);return J(Z,$).catch(async(H)=>{var z;if(((z=Z._getRecaptchaConfig())===null||z===void 0?void 0:z.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"){if(H.code==="auth/missing-recaptcha-token"||H.code==="auth/invalid-app-credential"){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${X} flow.`);let U=await LZ(Z,Q,X,!1,!0);return J(Z,U)}}return Promise.reject(H)})}else{let $=await LZ(Z,Q,X,!1,!0);return J(Z,$)}else return Promise.reject(G+" provider is not supported.")}async function s8(Z){let Q=I(Z),X=await w6(Q,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),J=new m0(X);if(Q.tenantId==null)Q._agentRecaptchaConfig=J;else Q._tenantRecaptchaConfigs[Q.tenantId]=J;if(J.isAnyProviderEnabled())new l0(Q).verify()}function g6(Z,Q){let X=j0(Z,"auth");if(X.isInitialized()){let G=X.getImmediate(),K=X.getOptions();if(u(K,Q!==null&&Q!==void 0?Q:{}))return G;else P(G,"already-initialized")}return X.initialize({options:Q})}function n8(Z,Q){let X=(Q===null||Q===void 0?void 0:Q.persistence)||[],J=(Array.isArray(X)?X:[X]).map(g);if(Q===null||Q===void 0?void 0:Q.errorMap)Z._updateErrorMap(Q.errorMap);Z._initializeWithPersistence(J,Q===null||Q===void 0?void 0:Q.popupRedirectResolver)}function m6(Z,Q,X){let J=I(Z);W(/^https?:\/\//.test(Q),J,"invalid-emulator-scheme");let G=!!(X===null||X===void 0?void 0:X.disableWarnings),K=v6(Q),{host:Y,port:$}=o8(Q),H=$===null?"":`:${$}`,z={url:`${K}//${Y}${H}/`},U=Object.freeze({host:Y,port:$,protocol:K.replace(":",""),options:Object.freeze({disableWarnings:G})});if(!J._canInitEmulator){W(J.config.emulator&&J.emulatorConfig,J,"emulator-config-failed"),W(u(z,J.config.emulator)&&u(U,J.emulatorConfig),J,"emulator-config-failed");return}if(J.config.emulator=z,J.emulatorConfig=U,J.settings.appVerificationDisabledForTesting=!0,_Z(Y))qQ(`${K}//${Y}${H}`),DQ("Auth",!0);else if(!G)a8()}function v6(Z){let Q=Z.indexOf(":");return Q<0?"":Z.substr(0,Q+1)}function o8(Z){let Q=v6(Z),X=/(\/\/)?([^?#/]+)/.exec(Z.substr(Q.length));if(!X)return{host:"",port:null};let J=X[2].split("@").pop()||"",G=/^(\[[^\]]+\])(:|$)/.exec(J);if(G){let K=G[1];return{host:K,port:rQ(J.substr(K.length+1))}}else{let[K,Y]=J.split(":");return{host:K,port:rQ(Y)}}}function rQ(Z){if(!Z)return null;let Q=Number(Z);if(isNaN(Q))return null;return Q}function a8(){function Z(){let Q=document.createElement("p"),X=Q.style;Q.innerText="Running in emulator mode. Do not use with production credentials.",X.position="fixed",X.width="100%",X.backgroundColor="#ffffff",X.border=".1em solid #000000",X.color="#b50000",X.bottom="0px",X.left="0px",X.margin="0px",X.zIndex="10000",X.textAlign="center",Q.classList.add("firebase-emulator-warning"),document.body.appendChild(Q)}if(typeof console!=="undefined"&&typeof console.info==="function")console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");if(typeof window!=="undefined"&&typeof document!=="undefined")if(document.readyState==="loading")window.addEventListener("DOMContentLoaded",Z);else Z()}class OZ{constructor(Z,Q){this.providerId=Z,this.signInMethod=Q}toJSON(){return x("not implemented")}_getIdTokenResponse(Z){return x("not implemented")}_linkToIdToken(Z,Q){return x("not implemented")}_getReauthenticationResolver(Z){return x("not implemented")}}async function t8(Z,Q){return w(Z,"POST","/v1/accounts:signUp",Q)}async function r8(Z,Q){return n(Z,"POST","/v1/accounts:signInWithPassword",q(Z,Q))}async function e8(Z,Q){return w(Z,"POST","/v1/accounts:sendOobCode",q(Z,Q))}async function Z1(Z,Q){return e8(Z,Q)}async function Q1(Z,Q){return n(Z,"POST","/v1/accounts:signInWithEmailLink",q(Z,Q))}async function X1(Z,Q){return n(Z,"POST","/v1/accounts:signInWithEmailLink",q(Z,Q))}class DZ extends OZ{constructor(Z,Q,X,J=null){super("password",X);this._email=Z,this._password=Q,this._tenantId=J}static _fromEmailAndPassword(Z,Q){return new DZ(Z,Q,"password")}static _fromEmailAndCode(Z,Q,X=null){return new DZ(Z,Q,"emailLink",X)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(Z){let Q=typeof Z==="string"?JSON.parse(Z):Z;if((Q===null||Q===void 0?void 0:Q.email)&&(Q===null||Q===void 0?void 0:Q.password)){if(Q.signInMethod==="password")return this._fromEmailAndPassword(Q.email,Q.password);else if(Q.signInMethod==="emailLink")return this._fromEmailAndCode(Q.email,Q.password,Q.tenantId)}return null}async _getIdTokenResponse(Z){switch(this.signInMethod){case"password":let Q={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return BZ(Z,Q,"signInWithPassword",r8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Q1(Z,{email:this._email,oobCode:this._password});default:P(Z,"internal-error")}}async _linkToIdToken(Z,Q){switch(this.signInMethod){case"password":let X={idToken:Q,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return BZ(Z,X,"signUpPassword",t8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return X1(Z,{idToken:Q,email:this._email,oobCode:this._password});default:P(Z,"internal-error")}}_getReauthenticationResolver(Z){return this._getIdTokenResponse(Z)}}async function FZ(Z,Q){return n(Z,"POST","/v1/accounts:signInWithIdp",q(Z,Q))}var J1="http://localhost";class E extends OZ{constructor(){super(...arguments);this.pendingToken=null}static _fromParams(Z){let Q=new E(Z.providerId,Z.signInMethod);if(Z.idToken||Z.accessToken){if(Z.idToken)Q.idToken=Z.idToken;if(Z.accessToken)Q.accessToken=Z.accessToken;if(Z.nonce&&!Z.pendingToken)Q.nonce=Z.nonce;if(Z.pendingToken)Q.pendingToken=Z.pendingToken}else if(Z.oauthToken&&Z.oauthTokenSecret)Q.accessToken=Z.oauthToken,Q.secret=Z.oauthTokenSecret;else P("argument-error");return Q}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(Z){let Q=typeof Z==="string"?JSON.parse(Z):Z,{providerId:X,signInMethod:J}=Q,G=hZ(Q,["providerId","signInMethod"]);if(!X||!J)return null;let K=new E(X,J);return K.idToken=G.idToken||void 0,K.accessToken=G.accessToken||void 0,K.secret=G.secret,K.nonce=G.nonce,K.pendingToken=G.pendingToken||null,K}_getIdTokenResponse(Z){let Q=this.buildRequest();return FZ(Z,Q)}_linkToIdToken(Z,Q){let X=this.buildRequest();return X.idToken=Q,FZ(Z,X)}_getReauthenticationResolver(Z){let Q=this.buildRequest();return Q.autoCreate=!1,FZ(Z,Q)}buildRequest(){let Z={requestUri:J1,returnSecureToken:!0};if(this.pendingToken)Z.pendingToken=this.pendingToken;else{let Q={};if(this.idToken)Q.id_token=this.idToken;if(this.accessToken)Q.access_token=this.accessToken;if(this.secret)Q.oauth_token_secret=this.secret;if(Q.providerId=this.providerId,this.nonce&&!this.pendingToken)Q.nonce=this.nonce;Z.postBody=YZ(Q)}return Z}}async function eQ(Z,Q){return w(Z,"POST","/v1/accounts:sendVerificationCode",q(Z,Q))}async function G1(Z,Q){return n(Z,"POST","/v1/accounts:signInWithPhoneNumber",q(Z,Q))}async function K1(Z,Q){let X=await n(Z,"POST","/v1/accounts:signInWithPhoneNumber",q(Z,Q));if(X.temporaryProof)throw CZ(Z,"account-exists-with-different-credential",X);return X}var Y1={["USER_NOT_FOUND"]:"user-not-found"};async function $1(Z,Q){let X=Object.assign(Object.assign({},Q),{operation:"REAUTH"});return n(Z,"POST","/v1/accounts:signInWithPhoneNumber",q(Z,X),Y1)}class t extends OZ{constructor(Z){super("phone","phone");this.params=Z}static _fromVerification(Z,Q){return new t({verificationId:Z,verificationCode:Q})}static _fromTokenResponse(Z,Q){return new t({phoneNumber:Z,temporaryProof:Q})}_getIdTokenResponse(Z){return G1(Z,this._makeVerificationRequest())}_linkToIdToken(Z,Q){return K1(Z,Object.assign({idToken:Q},this._makeVerificationRequest()))}_getReauthenticationResolver(Z){return $1(Z,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:Z,phoneNumber:Q,verificationId:X,verificationCode:J}=this.params;if(Z&&Q)return{temporaryProof:Z,phoneNumber:Q};return{sessionInfo:X,code:J}}toJSON(){let Z={providerId:this.providerId};if(this.params.phoneNumber)Z.phoneNumber=this.params.phoneNumber;if(this.params.temporaryProof)Z.temporaryProof=this.params.temporaryProof;if(this.params.verificationCode)Z.verificationCode=this.params.verificationCode;if(this.params.verificationId)Z.verificationId=this.params.verificationId;return Z}static fromJSON(Z){if(typeof Z==="string")Z=JSON.parse(Z);let{verificationId:Q,verificationCode:X,phoneNumber:J,temporaryProof:G}=Z;if(!X&&!Q&&!J&&!G)return null;return new t({verificationId:Q,verificationCode:X,phoneNumber:J,temporaryProof:G})}}function H1(Z){switch(Z){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function z1(Z){let Q=$Z(HZ(Z)).link,X=Q?$Z(HZ(Q)).deep_link_id:null,J=$Z(HZ(Z)).deep_link_id;return(J?$Z(HZ(J)).link:null)||J||X||Q||Z}class tZ{constructor(Z){var Q,X,J,G,K,Y;let $=$Z(HZ(Z)),H=(Q=$.apiKey)!==null&&Q!==void 0?Q:null,z=(X=$.oobCode)!==null&&X!==void 0?X:null,U=H1((J=$.mode)!==null&&J!==void 0?J:null);W(H&&z&&U,"argument-error"),this.apiKey=H,this.operation=U,this.code=z,this.continueUrl=(G=$.continueUrl)!==null&&G!==void 0?G:null,this.languageCode=(K=$.lang)!==null&&K!==void 0?K:null,this.tenantId=(Y=$.tenantId)!==null&&Y!==void 0?Y:null}static parseLink(Z){let Q=z1(Z);try{return new tZ(Q)}catch(X){return null}}}class QZ{constructor(){this.providerId=QZ.PROVIDER_ID}static credential(Z,Q){return DZ._fromEmailAndPassword(Z,Q)}static credentialWithLink(Z,Q){let X=tZ.parseLink(Q);return W(X,"argument-error"),DZ._fromEmailAndCode(Z,X.code,X.tenantId)}}QZ.PROVIDER_ID="password";QZ.EMAIL_PASSWORD_SIGN_IN_METHOD="password";QZ.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class rZ{constructor(Z){this.providerId=Z,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(Z){this.defaultLanguageCode=Z}setCustomParameters(Z){return this.customParameters=Z,this}getCustomParameters(){return this.customParameters}}class XZ extends rZ{constructor(){super(...arguments);this.scopes=[]}addScope(Z){if(!this.scopes.includes(Z))this.scopes.push(Z);return this}getScopes(){return[...this.scopes]}}class r extends XZ{static credentialFromJSON(Z){let Q=typeof Z==="string"?JSON.parse(Z):Z;return W("providerId"in Q&&"signInMethod"in Q,"argument-error"),E._fromParams(Q)}credential(Z){return this._credential(Object.assign(Object.assign({},Z),{nonce:Z.rawNonce}))}_credential(Z){return W(Z.idToken||Z.accessToken,"argument-error"),E._fromParams(Object.assign(Object.assign({},Z),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(Z){return r.oauthCredentialFromTaggedObject(Z)}static credentialFromError(Z){return r.oauthCredentialFromTaggedObject(Z.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:Z}){if(!Z)return null;let{oauthIdToken:Q,oauthAccessToken:X,oauthTokenSecret:J,pendingToken:G,nonce:K,providerId:Y}=Z;if(!X&&!J&&!Q&&!G)return null;if(!Y)return null;try{return new r(Y)._credential({idToken:Q,accessToken:X,nonce:K,pendingToken:G})}catch($){return null}}}class k extends XZ{constructor(){super("facebook.com")}static credential(Z){return E._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.FACEBOOK_SIGN_IN_METHOD,accessToken:Z})}static credentialFromResult(Z){return k.credentialFromTaggedObject(Z)}static credentialFromError(Z){return k.credentialFromTaggedObject(Z.customData||{})}static credentialFromTaggedObject({_tokenResponse:Z}){if(!Z||!("oauthAccessToken"in Z))return null;if(!Z.oauthAccessToken)return null;try{return k.credential(Z.oauthAccessToken)}catch(Q){return null}}}k.FACEBOOK_SIGN_IN_METHOD="facebook.com";k.PROVIDER_ID="facebook.com";class f extends XZ{constructor(){super("google.com");this.addScope("profile")}static credential(Z,Q){return E._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:Z,accessToken:Q})}static credentialFromResult(Z){return f.credentialFromTaggedObject(Z)}static credentialFromError(Z){return f.credentialFromTaggedObject(Z.customData||{})}static credentialFromTaggedObject({_tokenResponse:Z}){if(!Z)return null;let{oauthIdToken:Q,oauthAccessToken:X}=Z;if(!Q&&!X)return null;try{return f.credential(Q,X)}catch(J){return null}}}f.GOOGLE_SIGN_IN_METHOD="google.com";f.PROVIDER_ID="google.com";class h extends XZ{constructor(){super("github.com")}static credential(Z){return E._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.GITHUB_SIGN_IN_METHOD,accessToken:Z})}static credentialFromResult(Z){return h.credentialFromTaggedObject(Z)}static credentialFromError(Z){return h.credentialFromTaggedObject(Z.customData||{})}static credentialFromTaggedObject({_tokenResponse:Z}){if(!Z||!("oauthAccessToken"in Z))return null;if(!Z.oauthAccessToken)return null;try{return h.credential(Z.oauthAccessToken)}catch(Q){return null}}}h.GITHUB_SIGN_IN_METHOD="github.com";h.PROVIDER_ID="github.com";class b extends XZ{constructor(){super("twitter.com")}static credential(Z,Q){return E._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:Z,oauthTokenSecret:Q})}static credentialFromResult(Z){return b.credentialFromTaggedObject(Z)}static credentialFromError(Z){return b.credentialFromTaggedObject(Z.customData||{})}static credentialFromTaggedObject({_tokenResponse:Z}){if(!Z)return null;let{oauthAccessToken:Q,oauthTokenSecret:X}=Z;if(!Q||!X)return null;try{return b.credential(Q,X)}catch(J){return null}}}b.TWITTER_SIGN_IN_METHOD="twitter.com";b.PROVIDER_ID="twitter.com";async function W1(Z,Q){return n(Z,"POST","/v1/accounts:signUp",q(Z,Q))}class ZZ{constructor(Z){this.user=Z.user,this.providerId=Z.providerId,this._tokenResponse=Z._tokenResponse,this.operationType=Z.operationType}static async _fromIdTokenResponse(Z,Q,X,J=!1){let G=await L._fromIdTokenResponse(Z,X,J),K=Z6(X);return new ZZ({user:G,providerId:K,_tokenResponse:X,operationType:Q})}static async _forOperation(Z,Q,X){await Z._updateTokensIfNecessary(X,!0);let J=Z6(X);return new ZZ({user:Z,providerId:J,_tokenResponse:X,operationType:Q})}}function Z6(Z){if(Z.providerId)return Z.providerId;if("phoneNumber"in Z)return"phone";return null}class sZ extends R{constructor(Z,Q,X,J){var G;super(Q.code,Q.message);this.operationType=X,this.user=J,Object.setPrototypeOf(this,sZ.prototype),this.customData={appName:Z.name,tenantId:(G=Z.tenantId)!==null&&G!==void 0?G:void 0,_serverResponse:Q.customData._serverResponse,operationType:X}}static _fromErrorAndOperation(Z,Q,X,J){return new sZ(Z,Q,X,J)}}function d6(Z,Q,X,J){return(Q==="reauthenticate"?X._getReauthenticationResolver(Z):X._getIdTokenResponse(Z)).catch((K)=>{if(K.code==="auth/multi-factor-auth-required")throw sZ._fromErrorAndOperation(Z,K,Q,J);throw K})}async function U1(Z,Q,X=!1){let J=await qZ(Z,Q._linkToIdToken(Z.auth,await Z.getIdToken()),X);return ZZ._forOperation(Z,"link",J)}async function V1(Z,Q,X=!1){let{auth:J}=Z;if(M(J.app))return Promise.reject(m(J));let G="reauthenticate";try{let K=await qZ(Z,d6(J,G,Q,Z),X);W(K.idToken,J,"internal-error");let Y=v0(K.idToken);W(Y,J,"internal-error");let{sub:$}=Y;return W(Z.uid===$,J,"user-mismatch"),ZZ._forOperation(Z,G,K)}catch(K){if((K===null||K===void 0?void 0:K.code)==="auth/user-not-found")P(J,"user-mismatch");throw K}}async function c6(Z,Q,X=!1){if(M(Z.app))return Promise.reject(m(Z));let J="signIn",G=await d6(Z,J,Q),K=await ZZ._fromIdTokenResponse(Z,J,G);if(!X)await Z._updateCurrentUser(K.user);return K}async function l6(Z,Q){return c6(I(Z),Q)}function B1(Z,Q,X){var J;if(W(((J=X.url)===null||J===void 0?void 0:J.length)>0,Z,"invalid-continue-uri"),W(typeof X.dynamicLinkDomain==="undefined"||X.dynamicLinkDomain.length>0,Z,"invalid-dynamic-link-domain"),W(typeof X.linkDomain==="undefined"||X.linkDomain.length>0,Z,"invalid-hosting-link-domain"),Q.continueUrl=X.url,Q.dynamicLinkDomain=X.dynamicLinkDomain,Q.linkDomain=X.linkDomain,Q.canHandleCodeInApp=X.handleCodeInApp,X.iOS)W(X.iOS.bundleId.length>0,Z,"missing-ios-bundle-id"),Q.iOSBundleId=X.iOS.bundleId;if(X.android)W(X.android.packageName.length>0,Z,"missing-android-pkg-name"),Q.androidInstallApp=X.android.installApp,Q.androidMinimumVersionCode=X.android.minimumVersion,Q.androidPackageName=X.android.packageName}async function u6(Z){let Q=I(Z);if(Q._getPasswordPolicyInternal())await Q._updatePasswordPolicy()}async function u0(Z,Q,X){if(M(Z.app))return Promise.reject(m(Z));let J=I(Z),Y=await BZ(J,{returnSecureToken:!0,email:Q,password:X,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",W1,"EMAIL_PASSWORD_PROVIDER").catch((H)=>{if(H.code==="auth/password-does-not-meet-requirements")u6(Z);throw H}),$=await ZZ._fromIdTokenResponse(J,"signIn",Y);return await J._updateCurrentUser($.user),$}function p0(Z,Q,X){if(M(Z.app))return Promise.reject(m(Z));return l6(S(Z),QZ.credential(Q,X)).catch(async(J)=>{if(J.code==="auth/password-does-not-meet-requirements")u6(Z);throw J})}async function eZ(Z,Q){let X=S(Z),G={requestType:"VERIFY_EMAIL",idToken:await Z.getIdToken()};if(Q)B1(X.auth,G,Q);let{email:K}=await Z1(X.auth,G);if(K!==Z.email)await Z.reload()}async function F1(Z,Q){return w(Z,"POST","/v1/accounts:update",Q)}async function i0(Z,{displayName:Q,photoURL:X}){if(Q===void 0&&X===void 0)return;let J=S(Z),K={idToken:await J.getIdToken(),displayName:Q,photoUrl:X,returnSecureToken:!0},Y=await qZ(J,F1(J.auth,K));J.displayName=Y.displayName||null,J.photoURL=Y.photoUrl||null;let $=J.providerData.find(({providerId:H})=>H==="password");if($)$.displayName=J.displayName,$.photoURL=J.photoURL;await J._updateTokensIfNecessary(Y)}function p6(Z,Q,X,J){return S(Z).onIdTokenChanged(Q,X,J)}function i6(Z,Q,X){return S(Z).beforeAuthStateChanged(Q,X)}function s0(Z){return S(Z).signOut()}function Q6(Z,Q){return w(Z,"POST","/v2/accounts/mfaEnrollment:start",q(Z,Q))}function q1(Z,Q){return w(Z,"POST","/v2/accounts/mfaEnrollment:finalize",q(Z,Q))}function D1(Z,Q){return w(Z,"POST","/v2/accounts/mfaEnrollment:start",q(Z,Q))}function w1(Z,Q){return w(Z,"POST","/v2/accounts/mfaEnrollment:finalize",q(Z,Q))}var nZ="__sak";class n0{constructor(Z,Q){this.storageRetriever=Z,this.type=Q}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(nZ,"1"),this.storage.removeItem(nZ),Promise.resolve(!0)}catch(Z){return Promise.resolve(!1)}}_set(Z,Q){return this.storage.setItem(Z,JSON.stringify(Q)),Promise.resolve()}_get(Z){let Q=this.storage.getItem(Z);return Promise.resolve(Q?JSON.parse(Q):null)}_remove(Z){return this.storage.removeItem(Z),Promise.resolve()}get storage(){return this.storageRetriever()}}var O1=1000,N1=10;class o0 extends n0{constructor(){super(()=>window.localStorage,"LOCAL");this.boundEventHandler=(Z,Q)=>this.onStorageEvent(Z,Q),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T6(),this._shouldAllowMigration=!0}forAllChangedKeys(Z){for(let Q of Object.keys(this.listeners)){let X=this.storage.getItem(Q),J=this.localCache[Q];if(X!==J)Z(Q,J,X)}}onStorageEvent(Z,Q=!1){if(!Z.key){this.forAllChangedKeys((K,Y,$)=>{this.notifyListeners(K,$)});return}let X=Z.key;if(Q)this.detachListener();else this.stopPolling();let J=()=>{let K=this.storage.getItem(X);if(!Q&&this.localCache[X]===K)return;this.notifyListeners(X,K)},G=this.storage.getItem(X);if(v8()&&G!==Z.newValue&&Z.newValue!==Z.oldValue)setTimeout(J,N1);else J()}notifyListeners(Z,Q){this.localCache[Z]=Q;let X=this.listeners[Z];if(X)for(let J of Array.from(X))J(Q?JSON.parse(Q):Q)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((Z,Q,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:Z,oldValue:Q,newValue:X}),!0)})},O1)}stopPolling(){if(this.pollTimer)clearInterval(this.pollTimer),this.pollTimer=null}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(Z,Q){if(Object.keys(this.listeners).length===0)if(this.fallbackToPolling)this.startPolling();else this.attachListener();if(!this.listeners[Z])this.listeners[Z]=new Set,this.localCache[Z]=this.storage.getItem(Z);this.listeners[Z].add(Q)}_removeListener(Z,Q){if(this.listeners[Z]){if(this.listeners[Z].delete(Q),this.listeners[Z].size===0)delete this.listeners[Z]}if(Object.keys(this.listeners).length===0)this.detachListener(),this.stopPolling()}async _set(Z,Q){await super._set(Z,Q),this.localCache[Z]=JSON.stringify(Q)}async _get(Z){let Q=await super._get(Z);return this.localCache[Z]=JSON.stringify(Q),Q}async _remove(Z){await super._remove(Z),delete this.localCache[Z]}}o0.type="LOCAL";var s6=o0,M1=1000;function C0(Z){var Q,X;let J=Z.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),G=RegExp(`${J}=([^;]+)`);return(X=(Q=document.cookie.match(G))===null||Q===void 0?void 0:Q[1])!==null&&X!==void 0?X:null}function A0(Z){return`${window.location.protocol==="http:"?"__dev_":"__HOST-"}FIREBASE_${Z.split(":")[3]}`}class n6{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(Z){if(typeof window===void 0)return Z;let Q=new URL(`${window.location.origin}/__cookies__`);return Q.searchParams.set("finalTarget",Z),Q}async _isAvailable(){var Z;if(typeof isSecureContext==="boolean"&&!isSecureContext)return!1;if(typeof navigator==="undefined"||typeof document==="undefined")return!1;return(Z=navigator.cookieEnabled)!==null&&Z!==void 0?Z:!0}async _set(Z,Q){return}async _get(Z){if(!this._isAvailable())return null;let Q=A0(Z);if(window.cookieStore){let X=await window.cookieStore.get(Q);return X===null||X===void 0?void 0:X.value}return C0(Q)}async _remove(Z){if(!this._isAvailable())return;if(!await this._get(Z))return;let X=A0(Z);document.cookie=`${X}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{return})}_addListener(Z,Q){if(!this._isAvailable())return;let X=A0(Z);if(window.cookieStore){let Y=(H)=>{let z=H.changed.find((B)=>B.name===X);if(z)Q(z.value);if(H.deleted.find((B)=>B.name===X))Q(null)},$=()=>window.cookieStore.removeEventListener("change",Y);return this.listenerUnsubscribes.set(Q,$),window.cookieStore.addEventListener("change",Y)}let J=C0(X),G=setInterval(()=>{let Y=C0(X);if(Y!==J)Q(Y),J=Y},M1),K=()=>clearInterval(G);this.listenerUnsubscribes.set(Q,K)}_removeListener(Z,Q){let X=this.listenerUnsubscribes.get(Q);if(!X)return;X(),this.listenerUnsubscribes.delete(Q)}}n6.type="COOKIE";class a0 extends n0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(Z,Q){return}_removeListener(Z,Q){return}}a0.type="SESSION";var t0=a0;function S1(Z){return Promise.all(Z.map(async(Q)=>{try{return{fulfilled:!0,value:await Q}}catch(X){return{fulfilled:!1,reason:X}}}))}class Z0{constructor(Z){this.eventTarget=Z,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(Z){let Q=this.receivers.find((J)=>J.isListeningto(Z));if(Q)return Q;let X=new Z0(Z);return this.receivers.push(X),X}isListeningto(Z){return this.eventTarget===Z}async handleEvent(Z){let Q=Z,{eventId:X,eventType:J,data:G}=Q.data,K=this.handlersMap[J];if(!(K===null||K===void 0?void 0:K.size))return;Q.ports[0].postMessage({status:"ack",eventId:X,eventType:J});let Y=Array.from(K).map(async(H)=>H(Q.origin,G)),$=await S1(Y);Q.ports[0].postMessage({status:"done",eventId:X,eventType:J,response:$})}_subscribe(Z,Q){if(Object.keys(this.handlersMap).length===0)this.eventTarget.addEventListener("message",this.boundEventHandler);if(!this.handlersMap[Z])this.handlersMap[Z]=new Set;this.handlersMap[Z].add(Q)}_unsubscribe(Z,Q){if(this.handlersMap[Z]&&Q)this.handlersMap[Z].delete(Q);if(!Q||this.handlersMap[Z].size===0)delete this.handlersMap[Z];if(Object.keys(this.handlersMap).length===0)this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Z0.receivers=[];function r0(Z="",Q=10){let X="";for(let J=0;J<Q;J++)X+=Math.floor(Math.random()*10);return Z+X}class o6{constructor(Z){this.target=Z,this.handlers=new Set}removeMessageHandler(Z){if(Z.messageChannel)Z.messageChannel.port1.removeEventListener("message",Z.onMessage),Z.messageChannel.port1.close();this.handlers.delete(Z)}async _send(Z,Q,X=50){let J=typeof MessageChannel!=="undefined"?new MessageChannel:null;if(!J)throw new Error("connection_unavailable");let G,K;return new Promise((Y,$)=>{let H=r0("",20);J.port1.start();let z=setTimeout(()=>{$(new Error("unsupported_event"))},X);K={messageChannel:J,onMessage(U){let B=U;if(B.data.eventId!==H)return;switch(B.data.status){case"ack":clearTimeout(z),G=setTimeout(()=>{$(new Error("timeout"))},3000);break;case"done":clearTimeout(G),Y(B.data.response);break;default:clearTimeout(z),clearTimeout(G),$(new Error("invalid_response"));break}}},this.handlers.add(K),J.port1.addEventListener("message",K.onMessage),this.target.postMessage({eventType:Z,eventId:H,data:Q},[J.port2])}).finally(()=>{if(K)this.removeMessageHandler(K)})}}function T(){return window}function P1(Z){T().location.href=Z}function a6(){return typeof T().WorkerGlobalScope!=="undefined"&&typeof T().importScripts==="function"}async function j1(){if(!(navigator===null||navigator===void 0?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(Z){return null}}function R1(){var Z;return((Z=navigator===null||navigator===void 0?void 0:navigator.serviceWorker)===null||Z===void 0?void 0:Z.controller)||null}function L1(){return a6()?self:null}var t6="firebaseLocalStorageDb",C1=1,oZ="firebaseLocalStorage",r6="fbase_key";class NZ{constructor(Z){this.request=Z}toPromise(){return new Promise((Z,Q)=>{this.request.addEventListener("success",()=>{Z(this.request.result)}),this.request.addEventListener("error",()=>{Q(this.request.error)})})}}function Q0(Z,Q){return Z.transaction([oZ],Q?"readwrite":"readonly").objectStore(oZ)}function A1(){let Z=indexedDB.deleteDatabase(t6);return new NZ(Z).toPromise()}function _0(){let Z=indexedDB.open(t6,C1);return new Promise((Q,X)=>{Z.addEventListener("error",()=>{X(Z.error)}),Z.addEventListener("upgradeneeded",()=>{let J=Z.result;try{J.createObjectStore(oZ,{keyPath:r6})}catch(G){X(G)}}),Z.addEventListener("success",async()=>{let J=Z.result;if(!J.objectStoreNames.contains(oZ))J.close(),await A1(),Q(await _0());else Q(J)})})}async function X6(Z,Q,X){let J=Q0(Z,!0).put({[r6]:Q,value:X});return new NZ(J).toPromise()}async function x1(Z,Q){let X=Q0(Z,!1).get(Q),J=await new NZ(X).toPromise();return J===void 0?null:J.value}function J6(Z,Q){let X=Q0(Z,!0).delete(Q);return new NZ(X).toPromise()}var T1=800,E1=3;class e0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){if(this.db)return this.db;return this.db=await _0(),this.db}async _withRetries(Z){let Q=0;while(!0)try{let X=await this._openDb();return await Z(X)}catch(X){if(Q++>E1)throw X;if(this.db)this.db.close(),this.db=void 0}}async initializeServiceWorkerMessaging(){return a6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Z0._getInstance(L1()),this.receiver._subscribe("keyChanged",async(Z,Q)=>{return{keyProcessed:(await this._poll()).includes(Q.key)}}),this.receiver._subscribe("ping",async(Z,Q)=>{return["keyChanged"]})}async initializeSender(){var Z,Q;if(this.activeServiceWorker=await j1(),!this.activeServiceWorker)return;this.sender=new o6(this.activeServiceWorker);let X=await this.sender._send("ping",{},800);if(!X)return;if(((Z=X[0])===null||Z===void 0?void 0:Z.fulfilled)&&((Q=X[0])===null||Q===void 0?void 0:Q.value.includes("keyChanged")))this.serviceWorkerReceiverAvailable=!0}async notifyServiceWorker(Z){if(!this.sender||!this.activeServiceWorker||R1()!==this.activeServiceWorker)return;try{await this.sender._send("keyChanged",{key:Z},this.serviceWorkerReceiverAvailable?800:50)}catch(Q){}}async _isAvailable(){try{if(!indexedDB)return!1;let Z=await _0();return await X6(Z,nZ,"1"),await J6(Z,nZ),!0}catch(Z){}return!1}async _withPendingWrite(Z){this.pendingWrites++;try{await Z()}finally{this.pendingWrites--}}async _set(Z,Q){return this._withPendingWrite(async()=>{return await this._withRetries((X)=>X6(X,Z,Q)),this.localCache[Z]=Q,this.notifyServiceWorker(Z)})}async _get(Z){let Q=await this._withRetries((X)=>x1(X,Z));return this.localCache[Z]=Q,Q}async _remove(Z){return this._withPendingWrite(async()=>{return await this._withRetries((Q)=>J6(Q,Z)),delete this.localCache[Z],this.notifyServiceWorker(Z)})}async _poll(){let Z=await this._withRetries((J)=>{let G=Q0(J,!1).getAll();return new NZ(G).toPromise()});if(!Z)return[];if(this.pendingWrites!==0)return[];let Q=[],X=new Set;if(Z.length!==0){for(let{fbase_key:J,value:G}of Z)if(X.add(J),JSON.stringify(this.localCache[J])!==JSON.stringify(G))this.notifyListeners(J,G),Q.push(J)}for(let J of Object.keys(this.localCache))if(this.localCache[J]&&!X.has(J))this.notifyListeners(J,null),Q.push(J);return Q}notifyListeners(Z,Q){this.localCache[Z]=Q;let X=this.listeners[Z];if(X)for(let J of Array.from(X))J(Q)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T1)}stopPolling(){if(this.pollTimer)clearInterval(this.pollTimer),this.pollTimer=null}_addListener(Z,Q){if(Object.keys(this.listeners).length===0)this.startPolling();if(!this.listeners[Z])this.listeners[Z]=new Set,this._get(Z);this.listeners[Z].add(Q)}_removeListener(Z,Q){if(this.listeners[Z]){if(this.listeners[Z].delete(Q),this.listeners[Z].size===0)delete this.listeners[Z]}if(Object.keys(this.listeners).length===0)this.stopPolling()}}e0.type="LOCAL";var e6=e0;function G6(Z,Q){return w(Z,"POST","/v2/accounts/mfaSignIn:start",q(Z,Q))}function I1(Z,Q){return w(Z,"POST","/v2/accounts/mfaSignIn:finalize",q(Z,Q))}function y1(Z,Q){return w(Z,"POST","/v2/accounts/mfaSignIn:finalize",q(Z,Q))}var VJ=f6("rcb"),BJ=new wZ(30000,60000);var vZ="recaptcha";async function _1(Z,Q,X){var J;if(!Z._getRecaptchaConfig())try{await s8(Z)}catch(G){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let G;if(typeof Q==="string")G={phoneNumber:Q};else G=Q;if("session"in G){let K=G.session;if("phoneNumber"in G){W(K.type==="enroll",Z,"internal-error");let Y={idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:G.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await BZ(Z,Y,"mfaSmsEnrollment",async(U,B)=>{if(B.phoneEnrollmentInfo.captchaResponse===xZ){W((X===null||X===void 0?void 0:X.type)===vZ,U,"argument-error");let V=await x0(U,B,X);return Q6(U,V)}return Q6(U,B)},"PHONE_PROVIDER").catch((U)=>{return Promise.reject(U)})).phoneSessionInfo.sessionInfo}else{W(K.type==="signin",Z,"internal-error");let Y=((J=G.multiFactorHint)===null||J===void 0?void 0:J.uid)||G.multiFactorUid;W(Y,Z,"missing-multi-factor-info");let $={mfaPendingCredential:K.credential,mfaEnrollmentId:Y,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await BZ(Z,$,"mfaSmsSignIn",async(B,V)=>{if(V.phoneSignInInfo.captchaResponse===xZ){W((X===null||X===void 0?void 0:X.type)===vZ,B,"argument-error");let D=await x0(B,V,X);return G6(B,D)}return G6(B,V)},"PHONE_PROVIDER").catch((B)=>{return Promise.reject(B)})).phoneResponseInfo.sessionInfo}}else{let K={phoneNumber:G.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await BZ(Z,K,"sendVerificationCode",async(z,U)=>{if(U.captchaResponse===xZ){W((X===null||X===void 0?void 0:X.type)===vZ,z,"argument-error");let B=await x0(z,U,X);return eQ(z,B)}return eQ(z,U)},"PHONE_PROVIDER").catch((z)=>{return Promise.reject(z)})).sessionInfo}}finally{X===null||X===void 0||X._reset()}}async function x0(Z,Q,X){W(X.type===vZ,Z,"argument-error");let J=await X.verify();W(typeof J==="string",Z,"argument-error");let G=Object.assign({},Q);if("phoneEnrollmentInfo"in G){let K=G.phoneEnrollmentInfo.phoneNumber,Y=G.phoneEnrollmentInfo.captchaResponse,$=G.phoneEnrollmentInfo.clientType,H=G.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(G,{phoneEnrollmentInfo:{phoneNumber:K,recaptchaToken:J,captchaResponse:Y,clientType:$,recaptchaVersion:H}}),G}else if("phoneSignInInfo"in G){let K=G.phoneSignInInfo.captchaResponse,Y=G.phoneSignInInfo.clientType,$=G.phoneSignInInfo.recaptchaVersion;return Object.assign(G,{phoneSignInInfo:{recaptchaToken:J,captchaResponse:K,clientType:Y,recaptchaVersion:$}}),G}else return Object.assign(G,{recaptchaToken:J}),G}class e{constructor(Z){this.providerId=e.PROVIDER_ID,this.auth=I(Z)}verifyPhoneNumber(Z,Q){return _1(this.auth,Z,S(Q))}static credential(Z,Q){return t._fromVerification(Z,Q)}static credentialFromResult(Z){let Q=Z;return e.credentialFromTaggedObject(Q)}static credentialFromError(Z){return e.credentialFromTaggedObject(Z.customData||{})}static credentialFromTaggedObject({_tokenResponse:Z}){if(!Z)return null;let{phoneNumber:Q,temporaryProof:X}=Z;if(Q&&X)return t._fromTokenResponse(Q,X);return null}}e.PROVIDER_ID="phone";e.PHONE_SIGN_IN_METHOD="phone";function ZX(Z,Q){if(Q)return g(Q);return W(Z._popupRedirectResolver,Z,"argument-error"),Z._popupRedirectResolver}class X0 extends OZ{constructor(Z){super("custom","custom");this.params=Z}_getIdTokenResponse(Z){return FZ(Z,this._buildIdpRequest())}_linkToIdToken(Z,Q){return FZ(Z,this._buildIdpRequest(Q))}_getReauthenticationResolver(Z){return FZ(Z,this._buildIdpRequest())}_buildIdpRequest(Z){let Q={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};if(Z)Q.idToken=Z;return Q}}function k1(Z){return c6(Z.auth,new X0(Z),Z.bypassAuthState)}function f1(Z){let{auth:Q,user:X}=Z;return W(X,Q,"internal-error"),V1(X,new X0(Z),Z.bypassAuthState)}async function h1(Z){let{auth:Q,user:X}=Z;return W(X,Q,"internal-error"),U1(X,new X0(Z),Z.bypassAuthState)}class ZQ{constructor(Z,Q,X,J,G=!1){this.auth=Z,this.resolver=X,this.user=J,this.bypassAuthState=G,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(Q)?Q:[Q]}execute(){return new Promise(async(Z,Q)=>{this.pendingPromise={resolve:Z,reject:Q};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(X){this.reject(X)}})}async onAuthEvent(Z){let{urlResponse:Q,sessionId:X,postBody:J,tenantId:G,error:K,type:Y}=Z;if(K){this.reject(K);return}let $={auth:this.auth,requestUri:Q,sessionId:X,tenantId:G||void 0,postBody:J||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(Y)($))}catch(H){this.reject(H)}}onError(Z){this.reject(Z)}getIdpTask(Z){switch(Z){case"signInViaPopup":case"signInViaRedirect":return k1;case"linkViaPopup":case"linkViaRedirect":return h1;case"reauthViaPopup":case"reauthViaRedirect":return f1;default:P(this.auth,"internal-error")}}resolve(Z){v(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(Z),this.unregisterAndCleanUp()}reject(Z){v(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(Z),this.unregisterAndCleanUp()}unregisterAndCleanUp(){if(this.eventManager)this.eventManager.unregisterConsumer(this);this.pendingPromise=null,this.cleanUp()}}var b1=new wZ(2000,1e4);async function QQ(Z,Q,X){if(M(Z.app))return Promise.reject(C(Z,"operation-not-supported-in-this-environment"));let J=I(Z);C8(Z,Q,rZ);let G=ZX(J,X);return new a(J,"signInViaPopup",Q,G).executeNotNull()}class a extends ZQ{constructor(Z,Q,X,J,G){super(Z,Q,J,G);if(this.provider=X,this.authWindow=null,this.pollId=null,a.currentPopupAction)a.currentPopupAction.cancel();a.currentPopupAction=this}async executeNotNull(){let Z=await this.execute();return W(Z,this.auth,"internal-error"),Z}async onExecution(){v(this.filter.length===1,"Popup operations only handle one event");let Z=r0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],Z),this.authWindow.associatedEvent=Z,this.resolver._originValidation(this.auth).catch((Q)=>{this.reject(Q)}),this.resolver._isIframeWebStorageSupported(this.auth,(Q)=>{if(!Q)this.reject(C(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var Z;return((Z=this.authWindow)===null||Z===void 0?void 0:Z.associatedEvent)||null}cancel(){this.reject(C(this.auth,"cancelled-popup-request"))}cleanUp(){if(this.authWindow)this.authWindow.close();if(this.pollId)window.clearTimeout(this.pollId);this.authWindow=null,this.pollId=null,a.currentPopupAction=null}pollUserCancellation(){let Z=()=>{var Q,X;if((X=(Q=this.authWindow)===null||Q===void 0?void 0:Q.window)===null||X===void 0?void 0:X.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(C(this.auth,"popup-closed-by-user"))},8000);return}this.pollId=window.setTimeout(Z,b1.get())};Z()}}a.currentPopupAction=null;var g1="pendingRedirect",dZ=new Map;class QX extends ZQ{constructor(Z,Q,X=!1){super(Z,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],Q,void 0,X);this.eventId=null}async execute(){let Z=dZ.get(this.auth._key());if(!Z){try{let X=await m1(this.resolver,this.auth)?await super.execute():null;Z=()=>Promise.resolve(X)}catch(Q){Z=()=>Promise.reject(Q)}dZ.set(this.auth._key(),Z)}if(!this.bypassAuthState)dZ.set(this.auth._key(),()=>Promise.resolve(null));return Z()}async onAuthEvent(Z){if(Z.type==="signInViaRedirect")return super.onAuthEvent(Z);else if(Z.type==="unknown"){this.resolve(null);return}if(Z.eventId){let Q=await this.auth._redirectUserForId(Z.eventId);if(Q)return this.user=Q,super.onAuthEvent(Z);else this.resolve(null)}}async onExecution(){}cleanUp(){}}async function m1(Z,Q){let X=c1(Q),J=d1(Z);if(!await J._isAvailable())return!1;let G=await J._get(X)==="true";return await J._remove(X),G}function v1(Z,Q){dZ.set(Z._key(),Q)}function d1(Z){return g(Z._redirectPersistence)}function c1(Z){return mZ(g1,Z.config.apiKey,Z.name)}async function l1(Z,Q,X=!1){if(M(Z.app))return Promise.reject(m(Z));let J=I(Z),G=ZX(J,Q),Y=await new QX(J,G,X).execute();if(Y&&!X)delete Y.user._redirectEventId,await J._persistUserIfCurrent(Y.user),await J._setRedirectUser(null,Q);return Y}var u1=600000;class XX{constructor(Z){this.auth=Z,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(Z){if(this.consumers.add(Z),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,Z))this.sendToConsumer(this.queuedRedirectEvent,Z),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null}unregisterConsumer(Z){this.consumers.delete(Z)}onEvent(Z){if(this.hasEventBeenHandled(Z))return!1;let Q=!1;if(this.consumers.forEach((X)=>{if(this.isEventForConsumer(Z,X))Q=!0,this.sendToConsumer(Z,X),this.saveEventToCache(Z)}),this.hasHandledPotentialRedirect||!p1(Z))return Q;if(this.hasHandledPotentialRedirect=!0,!Q)this.queuedRedirectEvent=Z,Q=!0;return Q}sendToConsumer(Z,Q){var X;if(Z.error&&!JX(Z)){let J=((X=Z.error.code)===null||X===void 0?void 0:X.split("auth/")[1])||"internal-error";Q.onError(C(this.auth,J))}else Q.onAuthEvent(Z)}isEventForConsumer(Z,Q){let X=Q.eventId===null||!!Z.eventId&&Z.eventId===Q.eventId;return Q.filter.includes(Z.type)&&X}hasEventBeenHandled(Z){if(Date.now()-this.lastProcessedEventTime>=u1)this.cachedEventUids.clear();return this.cachedEventUids.has(K6(Z))}saveEventToCache(Z){this.cachedEventUids.add(K6(Z)),this.lastProcessedEventTime=Date.now()}}function K6(Z){return[Z.type,Z.eventId,Z.sessionId,Z.tenantId].filter((Q)=>Q).join("-")}function JX({type:Z,error:Q}){return Z==="unknown"&&(Q===null||Q===void 0?void 0:Q.code)==="auth/no-auth-event"}function p1(Z){switch(Z.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JX(Z);default:return!1}}async function i1(Z,Q={}){return w(Z,"GET","/v1/projects",Q)}var s1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n1=/^https?/;async function o1(Z){if(Z.config.emulator)return;let{authorizedDomains:Q}=await i1(Z);for(let X of Q)try{if(a1(X))return}catch(J){}P(Z,"unauthorized-domain")}function a1(Z){let Q=E0(),{protocol:X,hostname:J}=new URL(Q);if(Z.startsWith("chrome-extension://")){let Y=new URL(Z);if(Y.hostname===""&&J==="")return X==="chrome-extension:"&&Z.replace("chrome-extension://","")===Q.replace("chrome-extension://","");return X==="chrome-extension:"&&Y.hostname===J}if(!n1.test(X))return!1;if(s1.test(Z))return J===Z;let G=Z.replace(/\./g,"\\.");return new RegExp("^(.+\\."+G+"|"+G+")$","i").test(J)}var t1=new wZ(30000,60000);function Y6(){let Z=T().___jsl;if(Z===null||Z===void 0?void 0:Z.H){for(let Q of Object.keys(Z.H))if(Z.H[Q].r=Z.H[Q].r||[],Z.H[Q].L=Z.H[Q].L||[],Z.H[Q].r=[...Z.H[Q].L],Z.CP)for(let X=0;X<Z.CP.length;X++)Z.CP[X]=null}}function r1(Z){return new Promise((Q,X)=>{var J,G,K;function Y(){Y6(),gapi.load("gapi.iframes",{callback:()=>{Q(gapi.iframes.getContext())},ontimeout:()=>{Y6(),X(C(Z,"network-request-failed"))},timeout:t1.get()})}if((G=(J=T().gapi)===null||J===void 0?void 0:J.iframes)===null||G===void 0?void 0:G.Iframe)Q(gapi.iframes.getContext());else if((K=T().gapi)===null||K===void 0?void 0:K.load)Y();else{let $=f6("iframefcb");return T()[$]=()=>{if(gapi.load)Y();else X(C(Z,"network-request-failed"))},k6(`${p8()}?onload=${$}`).catch((H)=>X(H))}}).catch((Q)=>{throw cZ=null,Q})}var cZ=null;function e1(Z){return cZ=cZ||r1(Z),cZ}var Z9=new wZ(5000,15000),Q9="__/auth/iframe",X9="emulator/auth/iframe",J9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},G9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K9(Z){let Q=Z.config;W(Q.authDomain,Z,"auth-domain-config-required");let X=Q.emulator?b0(Q,X9):`https://${Z.config.authDomain}/${Q9}`,J={apiKey:Q.apiKey,appName:Z.name,v:WZ},G=G9.get(Z.config.apiHost);if(G)J.eid=G;let K=Z._getFrameworks();if(K.length)J.fw=K.join(",");return`${X}?${YZ(J).slice(1)}`}async function Y9(Z){let Q=await e1(Z),X=T().gapi;return W(X,Z,"internal-error"),Q.open({where:document.body,url:K9(Z),messageHandlersFilter:X.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J9,dontclear:!0},(J)=>new Promise(async(G,K)=>{await J.restyle({setHideOnLeave:!1});let Y=C(Z,"network-request-failed"),$=T().setTimeout(()=>{K(Y)},Z9.get());function H(){T().clearTimeout($),G(J)}J.ping(H).then(H,()=>{K(Y)})}))}var $9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H9=500,z9=600,W9="_blank",U9="http://localhost";class k0{constructor(Z){this.window=Z,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Z){}}}function V9(Z,Q,X,J=H9,G=z9){let K=Math.max((window.screen.availHeight-G)/2,0).toString(),Y=Math.max((window.screen.availWidth-J)/2,0).toString(),$="",H=Object.assign(Object.assign({},$9),{width:J.toString(),height:G.toString(),top:K,left:Y}),z=O().toLowerCase();if(X)$=R6(z)?W9:X;if(P6(z))Q=Q||U9,H.scrollbars="yes";let U=Object.entries(H).reduce((V,[D,j])=>`${V}${D}=${j},`,"");if(m8(z)&&$!=="_self")return B9(Q||"",$),new k0(null);let B=window.open(Q||"",$,U);W(B,Z,"popup-blocked");try{B.focus()}catch(V){}return new k0(B)}function B9(Z,Q){let X=document.createElement("a");X.href=Z,X.target=Q;let J=document.createEvent("MouseEvent");J.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),X.dispatchEvent(J)}var F9="__/auth/handler",q9="emulator/auth/handler",D9=encodeURIComponent("fac");async function $6(Z,Q,X,J,G,K){W(Z.config.authDomain,Z,"auth-domain-config-required"),W(Z.config.apiKey,Z,"invalid-api-key");let Y={apiKey:Z.config.apiKey,appName:Z.name,authType:X,redirectUrl:J,v:WZ,eventId:G};if(Q instanceof rZ){if(Q.setDefaultLanguage(Z.languageCode),Y.providerId=Q.providerId||"",!RQ(Q.getCustomParameters()))Y.customParameters=JSON.stringify(Q.getCustomParameters());for(let[U,B]of Object.entries(K||{}))Y[U]=B}if(Q instanceof XZ){let U=Q.getScopes().filter((B)=>B!=="");if(U.length>0)Y.scopes=U.join(",")}if(Z.tenantId)Y.tid=Z.tenantId;let $=Y;for(let U of Object.keys($))if($[U]===void 0)delete $[U];let H=await Z._getAppCheckToken(),z=H?`#${D9}=${encodeURIComponent(H)}`:"";return`${w9(Z)}?${YZ($).slice(1)}${z}`}function w9({config:Z}){if(!Z.emulator)return`https://${Z.authDomain}/${F9}`;return b0(Z,q9)}var T0="webStorageSupport";class GX{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=t0,this._completeRedirectFn=l1,this._overrideRedirectResult=v1}async _openPopup(Z,Q,X,J){var G;v((G=this.eventManagers[Z._key()])===null||G===void 0?void 0:G.manager,"_initialize() not called before _openPopup()");let K=await $6(Z,Q,X,E0(),J);return V9(Z,K,r0())}async _openRedirect(Z,Q,X,J){await this._originValidation(Z);let G=await $6(Z,Q,X,E0(),J);return P1(G),new Promise(()=>{})}_initialize(Z){let Q=Z._key();if(this.eventManagers[Q]){let{manager:J,promise:G}=this.eventManagers[Q];if(J)return Promise.resolve(J);else return v(G,"If manager is not set, promise should be"),G}let X=this.initAndGetManager(Z);return this.eventManagers[Q]={promise:X},X.catch(()=>{delete this.eventManagers[Q]}),X}async initAndGetManager(Z){let Q=await Y9(Z),X=new XX(Z);return Q.register("authEvent",(J)=>{return W(J===null||J===void 0?void 0:J.authEvent,Z,"invalid-auth-event"),{status:X.onEvent(J.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[Z._key()]={manager:X},this.iframes[Z._key()]=Q,X}_isIframeWebStorageSupported(Z,Q){this.iframes[Z._key()].send(T0,{type:T0},(J)=>{var G;let K=(G=J===null||J===void 0?void 0:J[0])===null||G===void 0?void 0:G[T0];if(K!==void 0)Q(!!K);P(Z,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(Z){let Q=Z._key();if(!this.originValidationPromises[Q])this.originValidationPromises[Q]=o1(Z);return this.originValidationPromises[Q]}get _shouldInitProactively(){return T6()||j6()||c0()}}var KX=GX;class XQ{constructor(Z){this.factorId=Z}_process(Z,Q,X){switch(Q.type){case"enroll":return this._finalizeEnroll(Z,Q.credential,X);case"signin":return this._finalizeSignIn(Z,Q.credential);default:return x("unexpected MultiFactorSessionType")}}}class JQ extends XQ{constructor(Z){super("phone");this.credential=Z}static _fromCredential(Z){return new JQ(Z)}_finalizeEnroll(Z,Q,X){return q1(Z,{idToken:Q,displayName:X,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(Z,Q){return I1(Z,{mfaPendingCredential:Q,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class GQ{constructor(){}static assertion(Z){return JQ._fromCredential(Z)}}GQ.FACTOR_ID="phone";class KQ{static assertionForEnrollment(Z,Q){return TZ._fromSecret(Z,Q)}static assertionForSignIn(Z,Q){return TZ._fromEnrollmentId(Z,Q)}static async generateSecret(Z){var Q;let X=Z;W(typeof((Q=X.user)===null||Q===void 0?void 0:Q.auth)!=="undefined","internal-error");let J=await D1(X.user.auth,{idToken:X.credential,totpEnrollmentInfo:{}});return J0._fromStartTotpMfaEnrollmentResponse(J,X.user.auth)}}KQ.FACTOR_ID="totp";class TZ extends XQ{constructor(Z,Q,X){super("totp");this.otp=Z,this.enrollmentId=Q,this.secret=X}static _fromSecret(Z,Q){return new TZ(Q,void 0,Z)}static _fromEnrollmentId(Z,Q){return new TZ(Q,Z)}async _finalizeEnroll(Z,Q,X){return W(typeof this.secret!=="undefined",Z,"argument-error"),w1(Z,{idToken:Q,displayName:X,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(Z,Q){W(this.enrollmentId!==void 0&&this.otp!==void 0,Z,"argument-error");let X={verificationCode:this.otp};return y1(Z,{mfaPendingCredential:Q,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:X})}}class J0{constructor(Z,Q,X,J,G,K,Y){this.sessionInfo=K,this.auth=Y,this.secretKey=Z,this.hashingAlgorithm=Q,this.codeLength=X,this.codeIntervalSeconds=J,this.enrollmentCompletionDeadline=G}static _fromStartTotpMfaEnrollmentResponse(Z,Q){return new J0(Z.totpSessionInfo.sharedSecretKey,Z.totpSessionInfo.hashingAlgorithm,Z.totpSessionInfo.verificationCodeLength,Z.totpSessionInfo.periodSec,new Date(Z.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),Z.totpSessionInfo.sessionInfo,Q)}_makeTotpVerificationInfo(Z){return{sessionInfo:this.sessionInfo,verificationCode:Z}}generateQrCodeUrl(Z,Q){var X;let J=!1;if(bZ(Z)||bZ(Q))J=!0;if(J){if(bZ(Z))Z=((X=this.auth.currentUser)===null||X===void 0?void 0:X.email)||"unknownuser";if(bZ(Q))Q=this.auth.name}return`otpauth://totp/${Q}:${Z}?secret=${this.secretKey}&issuer=${Q}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function bZ(Z){return typeof Z==="undefined"||(Z===null||Z===void 0?void 0:Z.length)===0}var H6="@firebase/auth",z6="1.10.6";class YX{constructor(Z){this.auth=Z,this.internalListeners=new Map}getUid(){var Z;return this.assertAuthConfigured(),((Z=this.auth.currentUser)===null||Z===void 0?void 0:Z.uid)||null}async getToken(Z){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(Z)}}addAuthTokenListener(Z){if(this.assertAuthConfigured(),this.internalListeners.has(Z))return;let Q=this.auth.onIdTokenChanged((X)=>{Z((X===null||X===void 0?void 0:X.stsTokenManager.accessToken)||null)});this.internalListeners.set(Z,Q),this.updateProactiveRefresh()}removeAuthTokenListener(Z){this.assertAuthConfigured();let Q=this.internalListeners.get(Z);if(!Q)return;this.internalListeners.delete(Z),Q(),this.updateProactiveRefresh()}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){if(this.internalListeners.size>0)this.auth._startProactiveRefresh();else this.auth._stopProactiveRefresh()}}function O9(Z){switch(Z){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N9(Z){zZ(new y("auth",(Q,{options:X})=>{let J=Q.getProvider("app").getImmediate(),G=Q.getProvider("heartbeat"),K=Q.getProvider("app-check-internal"),{apiKey:Y,authDomain:$}=J.options;W(Y&&!Y.includes(":"),"invalid-api-key",{appName:J.name});let H={apiKey:Y,authDomain:$,clientPlatform:Z,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E6(Z)},z=new _6(J,G,K,H);return n8(z,X),z},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Q,X,J)=>{Q.getProvider("auth-internal").initialize()})),zZ(new y("auth-internal",(Q)=>{let X=I(Q.getProvider("auth").getImmediate());return((J)=>new YX(J))(X)},"PRIVATE").setInstantiationMode("EXPLICIT")),i(H6,z6,O9(Z)),i(H6,z6,"esm2017")}var M9=300,S9=U0("authIdTokenMaxAge")||M9,W6=null,P9=(Z)=>async(Q)=>{let X=Q&&await Q.getIdTokenResult(),J=X&&(new Date().getTime()-Date.parse(X.issuedAtTime))/1000;if(J&&J>S9)return;let G=X===null||X===void 0?void 0:X.token;if(W6===G)return;W6=G,await fetch(Z,{method:G?"POST":"DELETE",headers:G?{Authorization:`Bearer ${G}`}:{}})};function d(Z=cQ()){let Q=j0(Z,"auth");if(Q.isInitialized())return Q.getImmediate();let X=g6(Z,{popupRedirectResolver:KX,persistence:[e6,s6,t0]}),J=U0("authTokenSyncURL");if(J&&typeof isSecureContext==="boolean"&&isSecureContext){let K=new URL(J,location.origin);if(location.origin===K.origin){let Y=P9(K.toString());i6(X,Y,()=>Y(X.currentUser)),p6(X,($)=>Y($))}}let G=FQ("auth");if(G)m6(X,`http://${G}`);return X}function j9(){var Z,Q;return(Q=(Z=document.getElementsByTagName("head"))===null||Z===void 0?void 0:Z[0])!==null&&Q!==void 0?Q:document}l8({loadJS(Z){return new Promise((Q,X)=>{let J=document.createElement("script");J.setAttribute("src",Z),J.onload=Q,J.onerror=(G)=>{let K=C("internal-error");K.customData=G,X(K)},J.type="text/javascript",J.charset="UTF-8",j9().appendChild(J)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N9("Browser");function EZ(Z,Q,X,J){let G=document.getElementById("message-container");if(G){let K=document.createElement("article");K.classList.add("message"),K.classList.add(`is-${Z}`);let Y=document.createElement("div");Y.classList.add("message-header");let $=document.createElement("p"),H=document.createElement("span");H.classList.add("icon","mr-1");let z=document.createElement("i");z.classList.add("bi",`bi-${J}`),H.appendChild(z),$.appendChild(H),$.appendChild(document.createTextNode(Q));let U=document.createElement("button");U.classList.add("delete"),U.setAttribute("aria-label","delete"),U.addEventListener("click",()=>{K.remove()}),Y.appendChild($),Y.appendChild(U);let B=document.createElement("div");B.classList.add("message-body"),B.innerHTML=X,K.appendChild(Y),K.appendChild(B),G.appendChild(K)}}var N={debug:(Z)=>{EZ("debug","Debug",Z,"bug")},info:(Z)=>{EZ("info","Info",Z,"info-square")},success:(Z)=>{EZ("success","Success",Z,"star")},warning:(Z)=>{EZ("warning","Warning",Z,"exclamation-triangle")},error:(Z)=>{EZ("danger","Error",Z,"exclamation-octagon")}};var R9={apiKey:"AIzaSyD_TLzPJT3IxX59b_7raOyLka11kLYGYg0",authDomain:"som-clingen-projects.firebaseapp.com",projectId:"som-clingen-projects",storageBucket:"som-clingen-projects.firebasestorage.app",messagingSenderId:"653902215137",appId:"1:653902215137:web:d054a272e88ab9ca2644a0"},JZ=R0(R9);async function L9(Z){let Q=new r(Z),X=d(JZ);return await(await QQ(X,Q)).user.getIdToken()}async function G0(Z){try{let Q=await L9(Z),X=await YQ(Q);if(X.valid)window.location.href="/";else N.error(X.message)}catch(Q){let X="Oops, something went wrong. ";X+="Please try again later.",N.error(X)}}function $X(){return document.cookie.split("; ").find((Z)=>Z.startsWith("csrftoken="))?.split("=")[1]}async function YQ(Z){let X={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":$X()},body:JSON.stringify({idToken:Z})};return await(await fetch("/firebase/verify",X)).json()}async function C9(){let Z=document.getElementById("email-input").value,Q=document.getElementById("password-input").value,X=d(JZ);return(await u0(X,Z,Q)).user.getIdToken()}async function A9(){try{let Z=await C9(),X=d(JZ).currentUser;if(X)await eZ(X);let J=await YQ(Z);if(J.valid)window.location.href="/";else N.error(J.message)}catch(Z){let Q="Oops, something went wrong trying to sign you up.";Q+=" Please try again later.",N.error(Q)}}async function x9(){await G0("google.com")}async function T9(){await G0("microsoft.com")}document.addEventListener("DOMContentLoaded",()=>{let Z=document.getElementById("signup-with-email-button"),Q=document.getElementById("signup-with-google-button"),X=document.getElementById("signup-with-microsoft-button");if(Z)Z.addEventListener("click",A9);if(Q)Q.addEventListener("click",x9);if(X)X.addEventListener("click",T9)});async function E9(){let Z=document.getElementById("email-input").value,Q=document.getElementById("password-input").value,X=d(JZ);return(await p0(X,Z,Q)).user.getIdToken()}async function I9(){try{let Z=await E9(),Q=await YQ(Z);if(Q.valid)window.location.href="/";else N.error(Q.message)}catch(Z){let Q="Oops, something went wrong trying to log you in.";Q+=" Please check your information and try again.",N.error(Q)}}async function y9(){await G0("google.com")}async function _9(){await G0("microsoft.com")}document.addEventListener("DOMContentLoaded",()=>{let Z=document.getElementById("login-with-email-button"),Q=document.getElementById("login-with-google-button"),X=document.getElementById("login-with-microsoft-button");if(Z)Z.addEventListener("click",I9);if(Q)Q.addEventListener("click",y9);if(X)X.addEventListener("click",_9)});async function k9(){try{let Z=d(JZ);await s0(Z);let Q="/firebase/logout",X={headers:{"X-CSRFToken":$X()}};await fetch(Q,X)}catch(Z){let Q="Oops, something went wrong trying to log you out.";Q+=" Please try again later.",N.error(Q)}}document.addEventListener("DOMContentLoaded",()=>{let Z=document.getElementById("log-out-button");if(Z)Z.addEventListener("click",k9)});async function f9(){let Z=d(JZ);await Z.authStateReady();let Q=Z.currentUser;if(Q&&!Q.emailVerified)try{await eZ(Q);let X="Verification email sent. Please check your inbox. Click the link in the verification email, then log out. The next time you log in, you should see that your email is verified.";N.success(X)}catch(X){let J="Oops, something went wrong trying to send the verification email.";J+=" Please try again later.",N.error(J)}else{let X="Oops, something went wrong trying to send the verification email.";X+=" Please log out, log back in, and try again.",N.error(X)}}document.addEventListener("DOMContentLoaded",()=>{let Z=document.getElementById("resend-verification-email-button");if(Z)Z.addEventListener("click",f9)});async function h9(){try{let Q=document.getElementById("display-name-input").value.trim(),X=d(JZ);await X.authStateReady();let J=X.currentUser;if(J.displayName!==Q)await i0(J,{displayName:Q}),N.success("Display name updated successfully! Please log out and log back in to see your changes.");else N.warning("The display name you entered is the same as what we have on file.")}catch(Z){N.error("Oops, something went wrong trying to update your display name. Please try again later.")}}document.addEventListener("DOMContentLoaded",()=>{let Z=document.getElementById("save-profile-button");if(Z)Z.addEventListener("click",h9)});

//# debugId=4016EBECDFFA439F64756E2164756E21
//# sourceMappingURL=firebase.js.map
